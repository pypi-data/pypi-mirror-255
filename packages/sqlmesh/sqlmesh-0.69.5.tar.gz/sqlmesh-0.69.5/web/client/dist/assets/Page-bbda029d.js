import{r as a,a9 as Z,aa as Te,ab as Ie,y as H,F as K,ac as ct,G as y,R as S,ad as dt,ae as ye,af as ue,X as Q,I as te,H as Re,ag as ut,ah as mt,ai as pt,aj as ft,U as j,T as he,ak as ge,al as xt,am as Y,an as Le,ao as ze,z as vt,A as Be,ap as Me,aq as $e,J as ht,K as gt,Q as wt,ar as bt,as as jt,j as r,f as pe,a0 as Fe,q as w,t as yt,a as C,l as _,D as se,i as Rt,c as Et,M as F,e as we,at as kt,au as Nt,a5 as Ct,g as J,S as be,n as ne,m as ae,u as _e,a8 as Pt,L as It,h as le,av as Mt,v as $t,aw as Ft,V as Ue,B as je,ax as Dt,$ as Ot,ay as At,E as St}from"./index-eee0d787.js";import{s as Tt,v as ee,M as Ve,P as We,S as Lt,k as De}from"./_commonjs-dynamic-modules-6f1c2c75.js";import{c as zt,d as Bt,e as T,x as _t,T as Ut,p as Vt,f as Wt,L as Gt,b as Ht,I as Oe}from"./ModelLineage-5db09ec0.js";import{R as Kt}from"./ReportErrors-84b2653a.js";function Qt({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 013.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 10-1.06 1.06l3 3a.75.75 0 001.06 0l3-3a.75.75 0 00-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 00-4.392-4.392 49.422 49.422 0 00-7.436 0A4.756 4.756 0 003.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 101.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 013.01-3.01c1.19-.09 2.392-.135 3.605-.135zm-6.97 6.22a.75.75 0 00-1.06 0l-3 3a.75.75 0 101.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 004.392 4.392 49.413 49.413 0 007.436 0 4.756 4.756 0 004.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 00-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 01-3.01 3.01 47.953 47.953 0 01-7.21 0 3.256 3.256 0 01-3.01-3.01 47.759 47.759 0 01-.1-1.759L6.97 15.53a.75.75 0 001.06-1.06l-3-3z",clipRule:"evenodd"}))}const qt=a.forwardRef(Qt),Ge=qt;function Jt({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M3.75 12a.75.75 0 01.75-.75h15a.75.75 0 010 1.5h-15a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}const Xt=a.forwardRef(Jt),Yt=Xt;function Zt({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const er=a.forwardRef(Zt),tr=er;function He({container:e,accept:t,walk:n,enabled:s=!0}){let l=a.useRef(t),c=a.useRef(n);a.useEffect(()=>{l.current=t,c.current=n},[t,n]),Z(()=>{if(!e||!s)return;let o=Te(e);if(!o)return;let i=l.current,d=c.current,x=Object.assign(g=>i(g),{acceptNode:i}),b=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,x,!1);for(;b.nextNode();)d(b.currentNode)},[e,s,l,c])}var rr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(rr||{}),nr=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(nr||{}),ar=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ar||{});function ve(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,s=ze(t(e.items.slice()),c=>c.dataRef.current.domRef.current),l=n?s.indexOf(n):null;return l===-1&&(l=null),{items:s,activeItemIndex:l}}let sr={1(e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},0(e){return e.menuState===0?e:{...e,__demoMode:!1,menuState:0}},2:(e,t)=>{var n;let s=ve(e),l=_t(t,{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});return{...e,...s,searchQuery:"",activeItemIndex:l,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{let n=e.searchQuery!==""?0:1,s=e.searchQuery+t.value.toLowerCase(),l=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(o=>{var i;return((i=o.dataRef.current.textValue)==null?void 0:i.startsWith(s))&&!o.dataRef.current.disabled}),c=l?e.items.indexOf(l):-1;return c===-1||c===e.activeItemIndex?{...e,searchQuery:s}:{...e,searchQuery:s,activeItemIndex:c,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,t)=>{let n=ve(e,s=>[...s,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=ve(e,s=>{let l=s.findIndex(c=>c.id===t.id);return l!==-1&&s.splice(l,1),s});return{...e,...n,activationTrigger:1}}},Ee=a.createContext(null);Ee.displayName="MenuContext";function fe(e){let t=a.useContext(Ee);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fe),n}return t}function lr(e,t){return ye(t.type,sr,e,t)}let or=a.Fragment;function ir(e,t){let{__demoMode:n=!1,...s}=e,l=a.useReducer(lr,{__demoMode:n,menuState:n?0:1,buttonRef:a.createRef(),itemsRef:a.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:c,itemsRef:o,buttonRef:i},d]=l,x=K(t);ct([i,o],(m,E)=>{var p;d({type:1}),pt(E,ft.Loose)||(m.preventDefault(),(p=i.current)==null||p.focus())},c===0);let b=y(()=>{d({type:1})}),g=a.useMemo(()=>({open:c===0,close:b}),[c,b]),f={ref:x};return S.createElement(Ee.Provider,{value:l},S.createElement(dt,{value:ye(c,{0:ue.Open,1:ue.Closed})},Q({ourProps:f,theirProps:s,slot:g,defaultTag:or,name:"Menu"})))}let cr="button";function dr(e,t){var n;let s=te(),{id:l=`headlessui-menu-button-${s}`,...c}=e,[o,i]=fe("Menu.Button"),d=K(o.buttonRef,t),x=Re(),b=y(p=>{switch(p.key){case j.Space:case j.Enter:case j.ArrowDown:p.preventDefault(),p.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:T.First}));break;case j.ArrowUp:p.preventDefault(),p.stopPropagation(),i({type:0}),x.nextFrame(()=>i({type:2,focus:T.Last}));break}}),g=y(p=>{switch(p.key){case j.Space:p.preventDefault();break}}),f=y(p=>{if(he(p.currentTarget))return p.preventDefault();e.disabled||(o.menuState===0?(i({type:1}),x.nextFrame(()=>{var I;return(I=o.buttonRef.current)==null?void 0:I.focus({preventScroll:!0})})):(p.preventDefault(),i({type:0})))}),m=a.useMemo(()=>({open:o.menuState===0}),[o]),E={ref:d,id:l,type:Tt(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":(n=o.itemsRef.current)==null?void 0:n.id,"aria-expanded":o.menuState===0,onKeyDown:b,onKeyUp:g,onClick:f};return Q({ourProps:E,theirProps:c,slot:m,defaultTag:cr,name:"Menu.Button"})}let ur="div",mr=Ie.RenderStrategy|Ie.Static;function pr(e,t){var n,s;let l=te(),{id:c=`headlessui-menu-items-${l}`,...o}=e,[i,d]=fe("Menu.Items"),x=K(i.itemsRef,t),b=ut(i.itemsRef),g=Re(),f=mt(),m=(()=>f!==null?(f&ue.Open)===ue.Open:i.menuState===0)();a.useEffect(()=>{let u=i.itemsRef.current;u&&i.menuState===0&&u!==(b==null?void 0:b.activeElement)&&u.focus({preventScroll:!0})},[i.menuState,i.itemsRef,b]),He({container:i.itemsRef.current,enabled:i.menuState===0,accept(u){return u.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:u.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(u){u.setAttribute("role","none")}});let E=y(u=>{var D,O;switch(g.dispose(),u.key){case j.Space:if(i.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),d({type:3,value:u.key});case j.Enter:if(u.preventDefault(),u.stopPropagation(),d({type:1}),i.activeItemIndex!==null){let{dataRef:R}=i.items[i.activeItemIndex];(O=(D=R.current)==null?void 0:D.domRef.current)==null||O.click()}Le(i.buttonRef.current);break;case j.ArrowDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Next});case j.ArrowUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Previous});case j.Home:case j.PageUp:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.First});case j.End:case j.PageDown:return u.preventDefault(),u.stopPropagation(),d({type:2,focus:T.Last});case j.Escape:u.preventDefault(),u.stopPropagation(),d({type:1}),ge().nextFrame(()=>{var R;return(R=i.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});break;case j.Tab:u.preventDefault(),u.stopPropagation(),d({type:1}),ge().nextFrame(()=>{xt(i.buttonRef.current,u.shiftKey?Y.Previous:Y.Next)});break;default:u.key.length===1&&(d({type:3,value:u.key}),g.setTimeout(()=>d({type:4}),350));break}}),p=y(u=>{switch(u.key){case j.Space:u.preventDefault();break}}),I=a.useMemo(()=>({open:i.menuState===0}),[i]),z={"aria-activedescendant":i.activeItemIndex===null||(n=i.items[i.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(s=i.buttonRef.current)==null?void 0:s.id,id:c,onKeyDown:E,onKeyUp:p,role:"menu",tabIndex:0,ref:x};return Q({ourProps:z,theirProps:o,slot:I,defaultTag:ur,features:mr,visible:m,name:"Menu.Items"})}let fr=a.Fragment;function xr(e,t){let n=te(),{id:s=`headlessui-menu-item-${n}`,disabled:l=!1,...c}=e,[o,i]=fe("Menu.Item"),d=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===s:!1,x=a.useRef(null),b=K(t,x);Z(()=>{if(o.__demoMode||o.menuState!==0||!d||o.activationTrigger===0)return;let R=ge();return R.requestAnimationFrame(()=>{var k,U;(U=(k=x.current)==null?void 0:k.scrollIntoView)==null||U.call(k,{block:"nearest"})}),R.dispose},[o.__demoMode,x,d,o.menuState,o.activationTrigger,o.activeItemIndex]);let g=zt(x),f=a.useRef({disabled:l,domRef:x,get textValue(){return g()}});Z(()=>{f.current.disabled=l},[f,l]),Z(()=>(i({type:5,id:s,dataRef:f}),()=>i({type:6,id:s})),[f,s]);let m=y(()=>{i({type:1})}),E=y(R=>{if(l)return R.preventDefault();i({type:1}),Le(o.buttonRef.current)}),p=y(()=>{if(l)return i({type:2,focus:T.Nothing});i({type:2,focus:T.Specific,id:s})}),I=Bt(),z=y(R=>I.update(R)),u=y(R=>{I.wasMoved(R)&&(l||d||i({type:2,focus:T.Specific,id:s,trigger:0}))}),D=y(R=>{I.wasMoved(R)&&(l||d&&i({type:2,focus:T.Nothing}))}),O=a.useMemo(()=>({active:d,disabled:l,close:m}),[d,l,m]);return Q({ourProps:{id:s,ref:b,role:"menuitem",tabIndex:l===!0?void 0:-1,"aria-disabled":l===!0?!0:void 0,disabled:void 0,onClick:E,onFocus:p,onPointerEnter:z,onMouseEnter:z,onPointerMove:u,onMouseMove:u,onPointerLeave:D,onMouseLeave:D},theirProps:c,slot:O,defaultTag:fr,name:"Menu.Item"})}let vr=H(ir),hr=H(dr),gr=H(pr),wr=H(xr),ce=Object.assign(vr,{Button:hr,Items:gr,Item:wr}),Ke=a.createContext(null);function Qe(){let e=a.useContext(Ke);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Qe),t}return e}function qe(){let[e,t]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(n){let s=y(c=>(t(o=>[...o,c]),()=>t(o=>{let i=o.slice(),d=i.indexOf(c);return d!==-1&&i.splice(d,1),i}))),l=a.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props}),[s,n.slot,n.name,n.props]);return S.createElement(Ke.Provider,{value:l},n.children)},[t])]}let br="label";function jr(e,t){let n=te(),{id:s=`headlessui-label-${n}`,passive:l=!1,...c}=e,o=Qe(),i=K(t);Z(()=>o.register(s),[s,o.register]);let d={ref:i,...o.props,id:s};return l&&("onClick"in d&&(delete d.htmlFor,delete d.onClick),"onClick"in c&&delete c.onClick),Q({ourProps:d,theirProps:c,slot:o.slot||{},defaultTag:br,name:o.name||"Label"})}let yr=H(jr),Rr=Object.assign(yr,{});var Er=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(Er||{});let kr={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:ze(n,s=>s.element.current)}},1(e,t){let n=e.options.slice(),s=e.options.findIndex(l=>l.id===t.id);return s===-1?e:(n.splice(s,1),{...e,options:n})}},ke=a.createContext(null);ke.displayName="RadioGroupDataContext";function Je(e){let t=a.useContext(ke);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return t}let Ne=a.createContext(null);Ne.displayName="RadioGroupActionsContext";function Xe(e){let t=a.useContext(Ne);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xe),n}return t}function Nr(e,t){return ye(t.type,kr,e,t)}let Cr="div";function Pr(e,t){let n=te(),{id:s=`headlessui-radiogroup-${n}`,value:l,defaultValue:c,form:o,name:i,onChange:d,by:x=(v,M)=>v===M,disabled:b=!1,...g}=e,f=y(typeof x=="string"?(v,M)=>{let P=x;return(v==null?void 0:v[P])===(M==null?void 0:M[P])}:x),[m,E]=a.useReducer(Nr,{options:[]}),p=m.options,[I,z]=qe(),[u,D]=Be(),O=a.useRef(null),R=K(O,t),[k,U]=Ut(l,d,c),A=a.useMemo(()=>p.find(v=>!v.propsRef.current.disabled),[p]),V=a.useMemo(()=>p.some(v=>f(v.propsRef.current.value,k)),[p,k]),L=y(v=>{var M;if(b||f(v,k))return!1;let P=(M=p.find(W=>f(W.propsRef.current.value,v)))==null?void 0:M.propsRef.current;return P!=null&&P.disabled?!1:(U==null||U(v),!0)});He({container:O.current,accept(v){return v.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let xe=y(v=>{let M=O.current;if(!M)return;let P=Te(M),W=p.filter(N=>N.propsRef.current.disabled===!1).map(N=>N.element.current);switch(v.key){case j.Enter:Vt(v.currentTarget);break;case j.ArrowLeft:case j.ArrowUp:if(v.preventDefault(),v.stopPropagation(),Me(W,Y.Previous|Y.WrapAround)===$e.Success){let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break;case j.ArrowRight:case j.ArrowDown:if(v.preventDefault(),v.stopPropagation(),Me(W,Y.Next|Y.WrapAround)===$e.Success){let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break;case j.Space:{v.preventDefault(),v.stopPropagation();let N=p.find(re=>re.element.current===(P==null?void 0:P.activeElement));N&&L(N.propsRef.current.value)}break}}),B=y(v=>(E({type:0,...v}),()=>E({type:1,id:v.id}))),oe=a.useMemo(()=>({value:k,firstOption:A,containsCheckedOption:V,disabled:b,compare:f,...m}),[k,A,V,b,f,m]),st=a.useMemo(()=>({registerOption:B,change:L}),[B,L]),lt={ref:R,id:s,role:"radiogroup","aria-labelledby":I,"aria-describedby":u,onKeyDown:xe},ot=a.useMemo(()=>({value:k}),[k]),ie=a.useRef(null),it=Re();return a.useEffect(()=>{ie.current&&c!==void 0&&it.addEventListener(ie.current,"reset",()=>{L(c)})},[ie,L]),S.createElement(D,{name:"RadioGroup.Description"},S.createElement(z,{name:"RadioGroup.Label"},S.createElement(Ne.Provider,{value:st},S.createElement(ke.Provider,{value:oe},i!=null&&k!=null&&Wt({[i]:k}).map(([v,M],P)=>S.createElement(ht,{features:gt.Hidden,ref:P===0?W=>{var N;ie.current=(N=W==null?void 0:W.closest("form"))!=null?N:null}:void 0,...wt({key:v,as:"input",type:"radio",checked:M!=null,hidden:!0,readOnly:!0,form:o,name:v,value:M})})),Q({ourProps:lt,theirProps:g,slot:ot,defaultTag:Cr,name:"RadioGroup"})))))}var Ir=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Ir||{});let Mr="div";function $r(e,t){var n;let s=te(),{id:l=`headlessui-radiogroup-option-${s}`,value:c,disabled:o=!1,...i}=e,d=a.useRef(null),x=K(d,t),[b,g]=qe(),[f,m]=Be(),{addFlag:E,removeFlag:p,hasFlag:I}=bt(1),z=jt({value:c,disabled:o}),u=Je("RadioGroup.Option"),D=Xe("RadioGroup.Option");Z(()=>D.registerOption({id:l,element:d,propsRef:z}),[l,D,d,e]);let O=y(B=>{var oe;if(he(B.currentTarget))return B.preventDefault();D.change(c)&&(E(2),(oe=d.current)==null||oe.focus())}),R=y(B=>{if(he(B.currentTarget))return B.preventDefault();E(2)}),k=y(()=>p(2)),U=((n=u.firstOption)==null?void 0:n.id)===l,A=u.disabled||o,V=u.compare(u.value,c),L={ref:x,id:l,role:"radio","aria-checked":V?"true":"false","aria-labelledby":b,"aria-describedby":f,"aria-disabled":A?!0:void 0,tabIndex:(()=>A?-1:V||!u.containsCheckedOption&&U?0:-1)(),onClick:A?void 0:O,onFocus:A?void 0:R,onBlur:A?void 0:k},xe=a.useMemo(()=>({checked:V,disabled:A,active:I(2)}),[V,A,I]);return S.createElement(m,{name:"RadioGroup.Description"},S.createElement(g,{name:"RadioGroup.Label"},Q({ourProps:L,theirProps:i,slot:xe,defaultTag:Mr,name:"RadioGroup.Option"})))}let Fr=H(Pr),Dr=H($r),de=Object.assign(Fr,{Option:Dr,Label:Rr,Description:vt});function Or({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"}))}const Ar=a.forwardRef(Or),Sr=Ar;function Tr({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"}))}const Lr=a.forwardRef(Tr),zr=Lr;function Br({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M3 3.5A1.5 1.5 0 014.5 2h6.879a1.5 1.5 0 011.06.44l4.122 4.12A1.5 1.5 0 0117 7.622V16.5a1.5 1.5 0 01-1.5 1.5h-11A1.5 1.5 0 013 16.5v-13zm10.857 5.691a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 00-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const _r=a.forwardRef(Br),Ur=_r;function Vr({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5V7.621a1.5 1.5 0 00-.44-1.06l-4.12-4.122A1.5 1.5 0 0011.378 2H4.5zm2.25 8.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5zm0 3a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z",clipRule:"evenodd"}))}const Wr=a.forwardRef(Vr),Gr=Wr;function Hr({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const Kr=a.forwardRef(Hr),Qr=Kr;function qr({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{d:"M3.75 3A1.75 1.75 0 002 4.75v3.26a3.235 3.235 0 011.75-.51h12.5c.644 0 1.245.188 1.75.51V6.75A1.75 1.75 0 0016.25 5h-4.836a.25.25 0 01-.177-.073L9.823 3.513A1.75 1.75 0 008.586 3H3.75zM3.75 9A1.75 1.75 0 002 10.75v4.5c0 .966.784 1.75 1.75 1.75h12.5A1.75 1.75 0 0018 15.25v-4.5A1.75 1.75 0 0016.25 9H3.75z"}))}const Jr=a.forwardRef(qr),Xr=Jr;function Yr({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M2 10a8 8 0 1116 0 8 8 0 01-16 0zm6.39-2.908a.75.75 0 01.766.027l3.5 2.25a.75.75 0 010 1.262l-3.5 2.25A.75.75 0 018 12.25v-4.5a.75.75 0 01.39-.658z",clipRule:"evenodd"}))}const Zr=a.forwardRef(Yr),en=Zr;function tn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M9.661 2.237a.531.531 0 01.678 0 11.947 11.947 0 007.078 2.749.5.5 0 01.479.425c.069.52.104 1.05.104 1.59 0 5.162-3.26 9.563-7.834 11.256a.48.48 0 01-.332 0C5.26 16.564 2 12.163 2 7c0-.538.035-1.069.104-1.589a.5.5 0 01.48-.425 11.947 11.947 0 007.077-2.75zm4.196 5.954a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}))}const rn=a.forwardRef(tn),nn=rn;function an({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const sn=a.forwardRef(an),ln=sn;function on({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const cn=a.forwardRef(on),dn=cn;function un({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 019 9v.375M10.125 2.25A3.375 3.375 0 0113.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 013.375 3.375M9 15l2.25 2.25L15 12"}))}const mn=a.forwardRef(un),pn=mn;function fn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const xn=a.forwardRef(fn),vn=xn;function hn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"}))}const gn=a.forwardRef(hn),wn=gn;function bn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"}))}const jn=a.forwardRef(bn),yn=jn;function Rn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const En=a.forwardRef(Rn),kn=En;function Nn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"}))}const Cn=a.forwardRef(Nn),Pn=Cn;function In({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"}))}const Mn=a.forwardRef(In),$n=Mn;function Fn({title:e,titleId:t,...n},s){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:s,"aria-labelledby":t},n),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"}))}const Dn=a.forwardRef(Fn),On=Dn,$={ResetPlanOptions:"reset-plan-options",ResetPlanDates:"reset-plan-dates",PlanOptions:"plan-options",Dates:"dates",DateStart:"date-start",DateEnd:"date-end",Category:"category",External:"external",ResetTestsReport:"reset-tests-report",TestsReportErrors:"tests-report-errors",TestsReportMessages:"tests-report-messages"},h={Add:"add",Remove:"remove",Direct:"direct",Indirect:"indirect",Metadata:"metadata",Default:"default"},Ae={BreakingChange:"breaking-change",NonBreakingChange:"non-breaking-change"},[An,Sn]=zn(),Ye={skip_tests:!1,no_gaps:!1,skip_backfill:!1,forward_only:!1,auto_apply:!1,no_auto_categorization:!1,include_unmodified:!0,restate_models:void 0,create_from:"prod"},Ze={start:void 0,end:void 0},Ce={...Ze,...Ye,categories:Sn,defaultCategory:An,change_categorization:new Map,virtualUpdateDescription:"All changes and their downstream dependencies can be fully previewed before they get promoted. If during plan creation no data gaps have been detected and only references to new model versions need to be updated, then such an update is referred to as a Virtual Update. Virtual Updates impose no additional runtime overhead or cost.",isInitialPlanRun:!1,errors:[],testsReportErrors:void 0,testsReportMessages:void 0},et=a.createContext(Ce),tt=a.createContext(()=>{});function Zn({children:e}){const[t,n]=a.useReducer(Tn,Object.assign(Ce));return r.jsx(et.Provider,{value:Object.assign(t),children:r.jsx(tt.Provider,{value:n,children:e})})}function Pe(){return a.useContext(et)}function rt(){return a.useContext(tt)}function Tn(e,t){return t=Array.isArray(t)?t:[t],t.reduce(Ln,e)}function Ln(e=Ce,{type:t,...n}){switch(t){case $.ResetPlanDates:return Object.assign({},e,Ze);case $.ResetPlanOptions:return Object.assign({},e,Ye);case $.ResetTestsReport:return Object.assign({},e,{testsReportErrors:void 0,testsReportMessages:void 0});case $.PlanOptions:return Object.assign({},e,n);case $.Dates:return Object.assign({},e,{start:n.start,end:n.end});case $.External:return Object.assign({},e,{isInitialPlanRun:n.isInitialPlanRun??!1});case $.DateStart:return Object.assign({},e,{start:n.start});case $.DateEnd:return Object.assign({},e,{end:n.end});case $.TestsReportErrors:return Object.assign({},e,{testsReportErrors:n.testsReportErrors});case $.TestsReportMessages:return Object.assign({},e,{testsReportMessages:n.testsReportMessages});case $.Category:{const{change:s,category:l}=n;return pe(s==null?void 0:s.name)&&e.change_categorization.set(s.name,{category:l,change:s}),Object.assign({},e,{change_categorization:new Map(e.change_categorization)})}default:return Object.assign({},e)}}function zn(){const e={id:Ae.BreakingChange,name:"Breaking Change",description:"It will rebuild all models",value:Fe.NUMBER_1},t=[e,{id:Ae.NonBreakingChange,name:"Non-Breaking Change",description:"It will exclude all indirect models caused by this change",value:Fe.NUMBER_2}];return[e,t]}function G({children:e,headline:t,type:n,className:s}){return r.jsxs("div",{className:w("flex flex-col rounded-md p-4",n===h.Add&&"bg-success-5",n===h.Remove&&"bg-danger-5",n===h.Direct&&"bg-secondary-5",n===h.Indirect&&"bg-warning-5",n===h.Default&&"bg-neutral-5",s),children:[pe(t)&&r.jsx("h4",{className:w("mb-2 font-bold whitespace-nowrap",n===h.Add&&"text-success-600 dark:text-success-300",n===h.Remove&&"text-danger-600 dark:text-danger-300",n===h.Direct&&"text-secondary-600 dark:text-secondary-300",n===h.Indirect&&"text-warning-600 dark:text-warning-300",n===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:t}),e]})}function Bn({changes:e=[],type:t}){return r.jsx("ul",{children:e.map(n=>r.jsxs("li",{className:w("flex items-center px-1 leading-5 mb-1",t===h.Add&&"text-success-600 dark:text-success-300",t===h.Remove&&"text-danger-600 dark:text-danger-300",t===h.Direct&&"text-secondary-600 dark:text-secondary-300",t===h.Indirect&&"text-warning-600 dark:text-warning-300",t===h.Default&&"text-neutral-600 dark:text-neutral-300"),children:[t===h.Add?r.jsx(tr,{className:"h-3 mr-2"}):t===h.Remove?r.jsx(Yt,{className:"h-3 mr-2"}):r.jsx(Ge,{className:"h-4 mr-2"}),r.jsx("small",{title:n.displayViewName,className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:yt(n.displayViewName,50,25)})]},n.name))})}function _n({changes:e=[]}){const t=rt(),{categories:n}=Pe(),s=C(l=>l.models);return a.useEffect(()=>{t(e.map(l=>({type:$.Category,category:n.find(({value:c})=>c===l.change_category),change:l})))},[e]),r.jsx("ul",{children:e.map(l=>r.jsx("li",{className:"text-secondary-500 dark:text-primary-500 mt-1",children:r.jsx(ee,{children:({open:c})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(me,{className:"w-full",change:l}),(()=>{const o=c?Ve:We;return r.jsx(o,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500"})})()]}),r.jsxs(ee.Panel,{className:"text-sm px-4 mb-4 overflow-hidden",children:[_(l.indirect)&&r.jsx(nt,{type:"indirect",models:l.indirect}),r.jsx(se,{className:"border-neutral-200 mt-2"}),r.jsx(Un,{change:l}),r.jsx(se,{className:"border-neutral-200 mt-2"}),r.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:[pe(l==null?void 0:l.diff)&&r.jsx(at,{diff:l==null?void 0:l.diff}),(()=>{var i;const o=s.get(l.name);return Rt(o)?r.jsx(r.Fragment,{}):r.jsx("div",{className:"h-[16rem] bg-theme-lighter rounded-xl p-2",children:r.jsx(Gt,{showColumns:!1,showConnected:!0,children:r.jsx(Ht,{model:o,highlightedNodes:{"border-4 border-warning-500":((i=l.indirect)==null?void 0:i.map(d=>d.name))??[],"border-4 border-secondary-500":[l.name],"*":[]}})})})})()]})]})]})})},l.name))})}function Un({change:e}){var l;const t=rt(),{change_categorization:n,categories:s}=Pe();return r.jsx(de,{className:"flex flex-col mt-2",value:((l=n.get(e.name))==null?void 0:l.category.value)??e.change_category,onChange:c=>{t({type:$.Category,category:s.find(({value:o})=>o===c),change:e})},children:s.map(c=>r.jsx(de.Option,{value:c.value,className:()=>w("relative flex rounded-md"),children:({checked:o})=>r.jsxs("div",{className:w("text-sm flex items-center px-2 py-1 w-full rounded-lg",o?"text-secondary-500 dark:text-primary-300":"text-prose"),children:[r.jsx("div",{className:"mt-[0.125rem] mr-2 border-2 border-neutral-400 min-w-[1rem] h-4 rounded-full flex justify-center items-center",children:o&&r.jsx("span",{className:"inline-block w-2 h-2 bg-secondary-500 dark:bg-primary-300 rounded-full"})}),r.jsxs("div",{children:[r.jsx(de.Label,{as:"p",children:c.name}),r.jsx(de.Description,{as:"span",className:"text-xs text-neutral-500",children:c.description})]})]})},c.name))})}function Vn({changes:e=[]}){return r.jsx("ul",{children:e.map(t=>r.jsx("li",{className:"text-warning-700 dark:text-warning-500",children:_(t.direct)?r.jsx(ee,{children:({open:n})=>r.jsxs(r.Fragment,{children:[r.jsxs(ee.Button,{className:"flex items-center w-full justify-between rounded-lg text-left",children:[r.jsx(me,{change:t}),(()=>{const s=n?Ve:We;return r.jsx(s,{className:"max-h-[1rem] min-w-[1rem] dark:text-primary-500 mt-0.5"})})()]}),r.jsx(ee.Panel,{className:"text-sm px-4 mb-4",children:r.jsx(nt,{type:"direct",models:t.direct??[]})})]})}):r.jsx(me,{change:t})},t.name))})}function me({change:e,className:t}){var l;const{change_categorization:n}=Pe(),s=(l=n.get(e.name))==null?void 0:l.category;return r.jsxs("div",{className:w("flex items-center font-bold",t),children:[r.jsx(Ge,{className:"h-4 mr-2"}),r.jsx("small",{className:"w-full text-xs whitespace-nowrap text-ellipsis overflow-hidden",children:e.displayViewName}),pe(s)&&r.jsx("span",{className:"ml-2 text-xs px-1 bg-neutral-400 text-neutral-100  dark:bg-neutral-400 dark:text-neutral-800 rounded whitespace-nowrap mr-2",children:s.name})]})}function nt({type:e,models:t}){return r.jsx("ul",{className:w("mt-2 ml-4",e==="indirect"&&"text-warning-700 dark:text-warning-500",e==="direct"&&"text-secondary-500 dark:text-primary-500"),children:t.map(n=>r.jsxs("li",{className:"flex",children:[r.jsx("span",{className:"h-3 w-3 border-l-2 border-b-2 inline-block mr-2"}),n.displayViewName]},n.name))})}function at({diff:e}){return r.jsx("div",{className:"my-4 bg-dark-lighter rounded-lg overflow-hidden",children:r.jsx("pre",{className:"p-4 text-primary-100 max-h-[30vh] text-xs overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal",children:e.split(`
`).map((t,n)=>r.jsx("p",{className:w(t.startsWith("+")&&"text-success-500 bg-success-500/10 px-2",t.startsWith("-")&&"text-danger-500 bg-danger-500/10 px-2",t.startsWith("@@")&&"text-primary-300 my-5 px-2"),children:t},`${t}-${n}`))})})}G.Default=Bn;G.Direct=_n;G.Indirect=Vn;G.Diff=at;G.Title=me;function ea({sidebar:e,content:t}){const n=Et(),s=C(o=>o.splitPaneSizes),l=C(o=>o.setSplitPaneSizes),c=C(o=>o.modules);return r.jsx(r.Fragment,{children:r.jsxs(Lt,{sizes:s,minSize:[0,0],snapOffset:0,className:"flex w-full h-full overflow-hidden",onDragEnd:l,children:[r.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[c.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex min-w-[10rem] px-2 h-8 w-full",children:r.jsx(Gn,{})}),r.jsx(se,{})]}),r.jsx("div",{className:"w-full h-full overflow-hidden",children:e})]}),r.jsxs("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[c.includes(F.environments)&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"min-w-[10rem] px-2 h-8 w-full flex items-center",children:[r.jsxs("div",{className:"flex",children:[r.jsx("button",{onClick:()=>n(-1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(Sr,{className:"min-w-4 h-4"})}),r.jsx("button",{onClick:()=>n(1),className:"inline-block text-neutral-500 text-xs hover:bg-neutral-5 px-1 py-1 rounded-full",children:r.jsx(zr,{className:"min-w-4 h-4"})})]}),r.jsx(Wn,{})]}),r.jsx(se,{})]}),r.jsx("div",{className:"w-full h-full overflow-hidden",children:t})]})]})})}function Wn(){const e=C(d=>d.environment),t=C(d=>d.modules),n=we(d=>d.planAction),s=we(d=>d.planOverview),{isFetching:l}=kt(),{isFetching:c}=Nt(),{isFetching:o}=Ct(e.name,{planOptions:{skip_tests:!0,include_unmodified:!0}}),i=t.includes(F.plans)||t.includes(F["plan-progress"]);return r.jsx("div",{className:"h-8 flex w-full items-center justify-end text-neutral-500",children:c?r.jsx(Se,{children:"Loading Environments..."}):l?r.jsx(Se,{children:"Loading Models..."}):r.jsxs(r.Fragment,{children:[i&&r.jsx(X,{title:n.isProcessing?n.displayStatus(s):"Plan",to:J.Plan,icon:n.isProcessing?r.jsx(be,{variant:ne.Success,className:"w-3 py-1"}):r.jsx(Pn,{className:w("w-5",s.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),iconActive:n.isProcessing?r.jsx(be,{variant:ne.Success,className:"w-3 py-1"}):r.jsx(en,{className:w("w-5",s.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100")}),before:r.jsx("p",{className:w("block mx-1 text-xs font-bold",s.isFailed?"text-danger-500 dark:text-danger-100":"text-success-100"),children:n.isProcessing?n.displayStatus(s):"Plan"}),className:w("px-2",s.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500"),classActive:w(s.isFailed?"bg-danger-10 dark:bg-danger-500":"bg-success-500")}),r.jsx(Kn,{className:"border-none h-6 ",size:ae.sm,showAddEnvironment:t.includes(F.plans),disabled:o||n.isProcessing||e.isInitialProd}),[F["plan-progress"],F.plans].some(d=>t.includes(d))&&r.jsx(Hn,{}),t.includes(F.errors)&&r.jsx(Kt,{})]})})}function Gn(){const{errors:e}=_e(),t=C(l=>l.models),n=C(l=>l.modules),s=Array.from(new Set(t.values())).length;return r.jsxs("div",{className:"h-8 flex w-full items-center justify-center px-1 py-0.5 text-neutral-500",children:[n.includes(F.editor)&&r.jsx(X,{title:"File Explorer",to:J.Editor,className:"text-primary-500",classActive:"px-2 bg-primary-10 text-primary-500",icon:r.jsx(yn,{className:"w-4"}),iconActive:r.jsx(Xr,{className:"w-4"})}),n.includes(F.docs)&&r.jsx(X,{title:"Docs",to:J.Docs,icon:r.jsx(vn,{className:"w-4"}),iconActive:r.jsx(Gr,{className:"w-4"}),children:r.jsx("span",{className:"block ml-1 text-xs",children:s})}),n.includes(F.errors)&&r.jsx(X,{title:"Errors",to:J.Errors,className:e.size>0?"text-danger-500":"",classActive:"px-2 bg-danger-10 text-danger-500",icon:r.jsx(wn,{className:"w-4"}),iconActive:r.jsx(Qr,{className:"w-4"}),disabled:e.size===0,children:e.size>0&&r.jsx("span",{className:"block ml-1 text-xs",children:e.size})}),n.includes(F.tests)&&r.jsx(X,{title:"Tests",to:J.Tests,icon:r.jsx(pn,{className:"w-4"}),iconActive:r.jsx(Ur,{className:"w-4"})}),n.includes(F.audits)&&r.jsx(X,{title:"Audits",to:J.Audits,icon:r.jsx($n,{className:"w-4"}),iconActive:r.jsx(nn,{className:"w-4"})})]})}function X({title:e,to:t,icon:n,iconActive:s,classActive:l="px-2 bg-neutral-10",disabled:c=!1,children:o,before:i,className:d}){return r.jsx(Pt,{title:e,to:t,className:({isActive:x})=>w("mx-1 py-0.5 flex items-center rounded-full",c&&"opacity-50 cursor-not-allowed",x&&le(c)&&l,d),style:({isActive:x})=>x||c?{pointerEvents:"none"}:{},children:({isActive:x})=>r.jsxs("span",{className:w("flex items-center",x?"font-bold":"font-normal"),children:[i,x?s:n,o]})})}function Se({children:e}){return r.jsxs(It,{className:"inline-block",children:[r.jsx(be,{className:"w-3 h-3 border border-neutral-10 mr-2"}),r.jsx("span",{className:"inline-block text-xs",children:e})]})}function Hn(){const e=we(l=>l.planOverview),[t,n]=a.useState(e);return a.useEffect(()=>{le(e.isEmpty)&&e.isFinished&&n(new Mt(e))},[e]),(le(e.isLatest)||e.isFetching)&&t.hasUpdates?r.jsxs("span",{className:"flex group items-center bg-neutral-10 px-1 py-1 rounded-full",children:[$t(t.hasChanges)&&r.jsx("p",{className:"flex text-xs ml-2 mr-2 dark:text-neutral-300",children:"Changes"}),_(t.added)&&r.jsx(q,{headline:"Added",type:h.Add,changes:t.added,className:"-mr-2 group-hover:mr-0 z-[5]"}),_(t.direct)&&r.jsx(q,{headline:"Directly Modified",type:h.Direct,changes:t.direct,className:"-mr-2 group-hover:mr-0 z-[4]"}),_(t.indirect)&&r.jsx(q,{headline:"Indirectly Modified",type:h.Indirect,changes:t.indirect,className:"-mr-2 group-hover:mr-0 z-[3]"}),_(t.metadata)&&r.jsx(q,{headline:"Metadata",type:h.Metadata,changes:t.metadata,className:"-mr-2 group-hover:mr-0 z-[2]"}),_(t.removed)&&r.jsx(q,{headline:"Removed",type:h.Remove,changes:t.removed,className:"-mr-2 group-hover:mr-0 z-[1]"}),_(t.backfills)?r.jsx(q,{headline:"Backfills",type:h.Default,changes:t.backfills,className:"ml-4 group-hover:ml-2 z-[6]"}):r.jsx("div",{className:"ml-2 group-hover:ml-2 z-[6]"})]}):r.jsx("span",{className:"block ml-1 px-3 py-1 first-child:ml-0 rounded-full whitespace-nowrap font-bold text-xs text-center bg-neutral-5 dark:bg-neutral-20 cursor-default text-neutral-500 dark:text-neutral-300",children:"No Changes"})}function Kn({disabled:e=!1,className:t,showAddEnvironment:n=!0,size:s=ae.sm,onSelect:l}){const{addError:c}=_e(),o=C(f=>f.environment),i=C(f=>f.environments),d=C(f=>f.setEnvironment),x=C(f=>f.removeLocalEnvironment),b=Ft(ce.Button);function g(f){At(f.name).then(()=>{x(f)}).catch(m=>{c(St.Environments,m)})}return r.jsx(ce,{as:"div",className:"relative",children:({close:f})=>r.jsxs(r.Fragment,{children:[r.jsxs(b,{variant:ne.Info,size:s,disabled:e,className:w(t,"bg-neutral-10"),children:[r.jsx("span",{className:w("block overflow-hidden truncate",(o.isLocal||e)&&"text-neutral-500",o.isRemote&&"text-primary-600 dark:text-primary-300"),children:o.name}),r.jsx("span",{className:"pointer-events-none inset-y-0 right-0 flex items-center pl-2",children:r.jsx(dn,{className:w("w-4",e?"text-neutral-400 dark:text-neutral-200":"text-neutral-800 dark:text-neutral-200"),"aria-hidden":"true"})})]}),r.jsx(Ue,{as:a.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:r.jsx("div",{className:"absolute top-10 right-1 min-w-[20rem] max-w-[25vw] overflow-hidden shadow-xl bg-theme border-2 border-neutral-100 dark:border-neutral-800 rounded-md flex flex-col z-10",children:r.jsxs(ce.Items,{className:"overflow-auto max-h-80 pb-2 hover:scrollbar scrollbar--vertical",children:[Array.from(i).map(m=>r.jsx(ce.Item,{disabled:m===o,children:({active:E})=>r.jsxs("div",{onClick:p=>{p.stopPropagation(),d(m),l==null||l()},className:w("flex justify-between items-center pl-2 pr-1 py-1 overflow-auto",m===o?"cursor-default":"cursor-pointer"),children:[r.jsxs("div",{className:"flex items-start",children:[r.jsx(ln,{className:w("w-4 h-4 mt-[6px]",m===o&&"opacity-100 text-primary-500",E&&"opacity-100 text-neutral-500",m!==o&&"opacity-0")}),r.jsxs("span",{className:"block",children:[r.jsxs("span",{className:"flex items-baseline",children:[r.jsx("span",{className:w("block truncate ml-2",m.isRemote&&"text-primary-500"),children:m.name}),r.jsxs("small",{className:"block ml-2",children:["(",m.type,")"]})]}),m.isProd&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Production Environment"})}),m.isDefault&&r.jsx("span",{className:"flex ml-2",children:r.jsx("small",{className:"text-xs text-neutral-500",children:"Default Environment"})})]})]}),r.jsxs("div",{className:"flex items-center",children:[m.isPinned&&r.jsx(On,{title:"Pinned",className:"w-4 text-primary-500 dark:text-primary-100 mx-1"}),le(m.isPinned)&&m.isLocal&&m!==o&&r.jsx(je,{className:"!m-0 !px-1 bg-transparent hover:bg-transparent border-none",size:ae.xs,format:Dt.Ghost,variant:ne.Neutral,onClick:p=>{p.stopPropagation(),x(m)},children:r.jsx(kn,{className:"w-4 text-neutral-500 dark:text-neutral-100"})}),le(m.isPinned)&&m.isRemote&&m!==o&&r.jsx(je,{className:"!px-2 !my-0",size:ae.xs,variant:ne.Danger,onClick:p=>{p.stopPropagation(),g(m)},children:"Delete"})]})]})},m.name)),n&&r.jsxs(r.Fragment,{children:[r.jsx(se,{}),r.jsx(Qn,{onAdd:f,className:"mt-2 px-2"})]})]})})})]})})}function Qn({onAdd:e,className:t,label:n="Add",size:s=ae.sm}){const l=C(g=>g.getNextEnvironment),c=C(g=>g.isExistingEnvironment),o=C(g=>g.addLocalEnvironment),[i,d]=a.useState(""),[x,b]=a.useState(l().name);return r.jsxs("div",{className:w("flex w-full items-center",t),children:[r.jsx(Oe,{className:"my-0 mx-0 mr-4 min-w-[10rem] w-full",size:s,children:({className:g})=>r.jsx(Oe.Textfield,{className:w(g,"w-full"),placeholder:"Environment",value:i,onInput:f=>{f.stopPropagation(),d(f.target.value)}})}),r.jsx(je,{className:"my-0 mx-0 font-bold",size:s,disabled:Ot(i)||c(i),onClick:g=>{g.stopPropagation(),o(i,x),d(""),b(l().name),e==null||e()},children:n})]})}function q({headline:e,type:t,changes:n,className:s}){const[l,c]=a.useState(!1);return r.jsx(De,{onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},className:"relative flex",children:()=>r.jsxs(r.Fragment,{children:[r.jsx("span",{className:w("transition-all flex min-w-[1rem] h-4 text-center mx-0.5 px-1 rounded-full text-[10px] font-black text-neutral-100 cursor-default border border-inherit",t===h.Add&&"bg-success-500 border-success-500",t===h.Remove&&"bg-danger-500 border-danger-500",t===h.Direct&&"bg-secondary-500 border-secondary-500",t===h.Indirect&&"bg-warning-500 border-warning-500",t===h.Metadata&&"bg-neutral-400 border-neutral-400",t===h.Default&&"bg-neutral-600 border-neutral-600",s),children:n.length}),r.jsx(Ue,{show:l,as:a.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:r.jsx(De.Panel,{className:"absolute top-6 right-0 z-10 transform flex p-2 bg-theme-lighter shadow-xl focus:ring-2 ring-opacity-5 rounded-lg ",children:r.jsx(G,{headline:e,type:t,className:"w-full h-full max-w-[50vw] max-h-[40vh] overflow-hidden overflow-y-auto hover:scrollbar scrollbar--vertical",children:r.jsx(G.Default,{type:t,changes:n})})})})]})})}export{Qn as A,zr as C,$ as E,qe as H,Rr as M,ea as P,Kn as S,Pe as a,h as b,G as c,Zn as d,tr as e,rt as u};
