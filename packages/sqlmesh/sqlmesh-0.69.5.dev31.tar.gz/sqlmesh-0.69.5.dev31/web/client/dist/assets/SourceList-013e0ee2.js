import{r as p,f as w,$ as P,j as t,o as g,B as U,l as $,m as E,a4 as A,a8 as C,i as M}from"./index-7b5dadc3.js";import{I as B}from"./ModelLineage-41066fef.js";import{u as Y}from"./index-6fc32271.js";function J({items:i=[],keyId:u="id",keyName:h="",keyDescription:d="",disabled:x=!1,to:v,types:l,className:b,isActive:n,listItem:N}){var V;const[a,T]=p.useState(""),z=p.useRef(null),[c,m]=p.useMemo(()=>{let s=-1;const e=[];return i.forEach((r,j)=>{const S=o(r[u]),y=o(r[d]),K=o(r[h]),O=o(l==null?void 0:l[S]);(K.includes(a)||y.includes(a)||O.includes(a))&&(e.push(r),w(n)&&n(r[u])&&(s=j))}),[s,e]},[i,a]),f=Y({count:m.length,getScrollElement:()=>z.current,estimateSize:()=>32+(d.length>0?16:0)}),k=({itemIndex:s,isSmoothScroll:e=!0})=>{f.scrollToIndex(s,{align:"center",behavior:e?"smooth":"auto"})},I=({itemIndex:s,range:e})=>w(e)&&(e.startIndex>s||(e==null?void 0:e.endIndex)<s),F=P(a)&&c>-1&&I({range:f.range,itemIndex:c});p.useEffect(()=>{c>-1&&I({range:f.range,itemIndex:c})&&k({itemIndex:c,isSmoothScroll:!1})},[c]);const R=f.getVirtualItems(),L=f.getTotalSize();return t.jsxs("div",{className:g("flex flex-col w-full h-full relative",b),children:[F&&t.jsx(U,{className:"absolute left-[50%] translate-x-[-50%] top-0 z-10 text-ellipsis !block overflow-hidden no-wrap max-w-[90%] !border-neutral-20 shadow-md !bg-theme text-neutral-500 dark:text-neutral-400 !hover:bg-theme-10 !hover:text-neutral-600 dark:hover:text-neutral-300 !focus:ring-2 !focus:ring-theme-500 !focus:ring-offset-2 !focus:ring-offset-theme-50 !focus:ring-opacity-50 !focus:outline-none !focus:ring-offset-transparent !focus:ring-offset-0 !focus:ring",onClick:()=>k({itemIndex:c}),size:$.sm,variant:E.Secondary,children:"Scroll to selected"}),t.jsx("div",{ref:z,className:"w-full h-full relative overflow-hidden overflow-y-auto hover:scrollbar scrollbar--horizontal scrollbar--vertical pt-2",style:{contain:"strict"},children:t.jsx("div",{className:"relative w-full",style:{height:L>0?`${L}px`:"100%"},children:t.jsxs("ul",{className:"w-full absolute top-0 left-0 px-2 text-neutral-400 dark:text-neutral-500",style:{transform:`translateY(${((V=R[0])==null?void 0:V.start)??0}px)`},children:[A(m)&&t.jsx("li",{className:"px-2 py-0.5 text-sm text-neutral-400 dark:text-neutral-500 text-center whitespace-nowrap overflow-ellipsis overflow-hidden",children:a.length>0?"No Results Found":"Empty List"},"not-found"),R.map(s=>{const e=m[s.index],r=o(e[u]),j=o(e[d]),S=o(e[h]),y=o(l==null?void 0:l[r]);return t.jsx("li",{"data-index":s.index,ref:f.measureElement,className:g("text-sm font-normal w-full",x&&"cursor-not-allowed"),tabIndex:r===a?-1:0,children:N==null?void 0:N({id:r,to:`${v}/${r}`,name:S,description:j,text:y,disabled:x,item:m[s.index]})},s.key)})]})})}),t.jsxs("div",{className:"p-2 w-full flex justify-between",children:[t.jsx(B,{className:"w-full !m-0",size:$.sm,children:({className:s})=>t.jsx(B.Textfield,{className:g(s,"w-full"),value:a,placeholder:"Filter items",type:"search",onInput:e=>{T(e.target.value)}})}),t.jsx("div",{className:"ml-1 px-3 bg-primary-10 text-primary-500 rounded-full text-xs flex items-center",children:m.length})]})]})}function Q({name:i,description:u,to:h,text:d,variant:x,disabled:v=!1,handleDelete:l}){function b(n){(n.key==="Delete"||n.key==="Backspace")&&(n.preventDefault(),n.stopPropagation(),l==null||l())}return t.jsxs(C,{onKeyUp:b,to:h,className:({isActive:n})=>g("block overflow-hidden px-2 py-1.5 rounded-md w-full text-sm font-semibold",v&&"opacity-50 pointer-events-none",n?x===E.Primary?"text-primary-500 bg-primary-10":x===E.Danger?"text-danger-500 bg-danger-5":"text-neutral-500 bg-neutral-10":"hover:bg-neutral-5 text-neutral-400 dark:text-neutral-300"),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"whitespace-nowrap overflow-ellipsis overflow-hidden",children:i}),w(d)&&t.jsx("span",{className:" ml-2 px-2 rounded-md leading-0 text-[0.5rem] bg-neutral-10 dark:text-neutral-200 text-neutral-700 font-bold",children:d})]}),w(u)&&t.jsx("p",{className:"text-xs overflow-hidden whitespace-nowrap overflow-ellipsis",children:u})]})}function o(i){return M(i)?"":String(i)}export{J as S,Q as a};
