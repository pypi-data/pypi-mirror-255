/*! For license information please see 13528.M-GAVDKGXGw.js.LICENSE.txt */
export const id=13528;export const ids=[13528];export const modules={10392:(e,t,n)=>{function a(e){if(!e||"object"!=typeof e)return e;if("[object Date]"==Object.prototype.toString.call(e))return new Date(e.getTime());if(Array.isArray(e))return e.map(a);var t={};return Object.keys(e).forEach((function(n){t[n]=a(e[n])})),t}n.d(t,{c:()=>a})},59816:(e,t,n)=>{n.d(t,{E3:()=>l,S4:()=>c,aI:()=>r});const a=["zone","persistent_notification"],i=(e,t)=>{var n,a,i,s,o,r,c,l;if(!("call-service"===t.action&&(null!==(n=t.target)&&void 0!==n&&n.entity_id||null!==(a=t.service_data)&&void 0!==a&&a.entity_id||null!==(i=t.data)&&void 0!==i&&i.entity_id)))return;let d=null!==(s=null!==(o=null===(r=t.service_data)||void 0===r?void 0:r.entity_id)&&void 0!==o?o:null===(c=t.data)||void 0===c?void 0:c.entity_id)&&void 0!==s?s:null===(l=t.target)||void 0===l?void 0:l.entity_id;Array.isArray(d)||(d=[d]);for(const t of d)e.add(t)},s=(e,t)=>{"string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&i(e,t.tap_action),t.hold_action&&i(e,t.hold_action)):e.add(t)},o=(e,t)=>{t.entity&&s(e,t.entity),t.entities&&Array.isArray(t.entities)&&t.entities.forEach((t=>s(e,t))),t.card&&o(e,t.card),t.cards&&Array.isArray(t.cards)&&t.cards.forEach((t=>o(e,t))),t.elements&&Array.isArray(t.elements)&&t.elements.forEach((t=>o(e,t))),t.badges&&Array.isArray(t.badges)&&t.badges.forEach((t=>s(e,t)))},r=e=>{const t=new Set;return e.views.forEach((e=>o(t,e))),t},c=(e,t)=>{const n=new Set;for(const i of Object.keys(e.states))t.has(i)||a.includes(i.split(".",1)[0])||n.add(i);return n},l=(e,t)=>{const n=r(t);return c(e,n)}},62276:(e,t,n)=>{n.d(t,{X:()=>i});var a=n(90360);const i=(e,t)=>{(0,a.O)(e,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([n.e(62e3),n.e(67320),n.e(58529),n.e(75112),n.e(98550)]).then(n.bind(n,98550)),dialogParams:t})}},15372:(e,t,n)=>{n.a(e,(async(e,a)=>{try{n.r(t),n.d(t,{HuiUnusedEntities:()=>b});var i=n(5576),s=n(37668),o=n(54915),r=n(84244),c=n(55736),l=n(52672),d=n(85860),u=n(56552),h=(n(74892),n(7860),n(59816)),f=n(91532),v=n(8288),g=n(62276),p=n(87408),y=e([f]);f=(y.then?(await y)():y)[0];const m="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";let b=(0,i.c)([(0,c.Kx)("hui-unused-entities")],(function(e,t){class n extends t{constructor(...t){super(...t),e(this)}}return{F:n,d:[{kind:"field",decorators:[(0,c.qq)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,c.qq)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.qq)({type:Boolean})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,c.K2)()],key:"_unusedEntities",value:()=>[]},{kind:"field",decorators:[(0,c.K2)()],key:"_selectedEntities",value:()=>[]},{kind:"get",key:"_config",value:function(){return this.lovelace.config}},{kind:"method",key:"updated",value:function(e){(0,s.c)((0,o.c)(n.prototype),"updated",this).call(this,e),e.has("lovelace")&&this._getUnusedEntities()}},{kind:"method",key:"render",value:function(){return this.hass&&this.lovelace?"storage"===this.lovelace.mode&&!1===this.lovelace.editMode?r.qs:r.kP` <div class="container"> ${this.narrow?"":r.kP` <ha-card header="${this.hass.localize("ui.panel.lovelace.unused_entities.title")}"> <div class="card-content"> ${this.hass.localize("ui.panel.lovelace.unused_entities.available_entities")} ${"storage"===this.lovelace.mode?r.kP` <br>${this.hass.localize("ui.panel.lovelace.unused_entities.select_to_add")} `:""} </div> </ha-card> `} <hui-entity-picker-table .hass="${this.hass}" .narrow="${this.narrow}" .entities="${this._unusedEntities.map((e=>{const t=this.hass.states[e];return{icon:"",entity_id:e,stateObj:t,name:t?(0,u.W)(t):"Unavailable",domain:(0,d.o)(e),last_changed:null==t?void 0:t.last_changed}}))}" @selected-changed="${this._handleSelectedChanged}"></hui-entity-picker-table> </div> <div class="fab ${(0,l.m)({selected:this._selectedEntities.length})}"> <ha-fab .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.add")}" extended @click="${this._addToLovelaceView}"> <ha-svg-icon slot="icon" .path="${m}"></ha-svg-icon> </ha-fab> </div> `:r.qs}},{kind:"method",key:"_getUnusedEntities",value:function(){if(!this.hass||!this.lovelace)return;this._selectedEntities=[];const e=(0,h.E3)(this.hass,this._config);this._unusedEntities=[...e].sort()}},{kind:"method",key:"_handleSelectedChanged",value:function(e){this._selectedEntities=e.detail.selectedEntities}},{kind:"method",key:"_addToLovelaceView",value:function(){const e=(0,p.WC)(this.hass.states,this._selectedEntities,{});1!==this.lovelace.config.views.length?(0,g.X)(this,{lovelaceConfig:this.lovelace.config,allowDashboardChange:!1,viewSelectedCallback:(t,n,a)=>{(0,v.C)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[a],entities:this._selectedEntities,cardConfig:e})}}):(0,v.C)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[0],entities:this._selectedEntities,cardConfig:e})}},{kind:"get",static:!0,key:"styles",value:function(){return r.gV`:host{background:var(--lovelace-background);overflow:hidden}.container{display:flex;flex-direction:column;height:100%}ha-card{--ha-card-box-shadow:none;--ha-card-border-radius:0}hui-entity-picker-table{flex-grow:1}.fab{position:sticky;float:var(--float-end);right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));inset-inline-end:calc(16px + env(safe-area-inset-right));inset-inline-start:initial;z-index:1}ha-fab{position:relative;bottom:calc(-80px - env(safe-area-inset-bottom));transition:bottom .3s}.fab.selected ha-fab{bottom:0}`}}]}}),r.oH);a()}catch(e){a(e)}}))},51188:(e,t,n)=>{n.d(t,{em:()=>h});const a=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),s=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),r=Symbol("Comlink.thrown"),c=e=>"object"==typeof e&&null!==e||"function"==typeof e,l=new Map([["proxy",{canHandle:e=>c(e)&&e[a],serialize(e){const{port1:t,port2:n}=new MessageChannel;return d(e,t),[n,[n]]},deserialize:e=>(e.start(),h(e))}],["throw",{canHandle:e=>c(e)&&r in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function d(e,t=globalThis,n=["*"]){t.addEventListener("message",(function i(s){if(!s||!s.data)return;if(!function(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}(n,s.origin))return void console.warn(`Invalid origin '${s.origin}' for comlink proxy`);const{id:c,type:l,path:h}=Object.assign({path:[]},s.data),f=(s.data.argumentList||[]).map(k);let v;try{const t=h.slice(0,-1).reduce(((e,t)=>e[t]),e),n=h.reduce(((e,t)=>e[t]),e);switch(l){case"GET":v=n;break;case"SET":t[h.slice(-1)[0]]=k(s.data.value),v=!0;break;case"APPLY":v=n.apply(t,f);break;case"CONSTRUCT":v=function(e){return Object.assign(e,{[a]:!0})}(new n(...f));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;d(e,n),v=function(e,t){return b.set(e,t),e}(t,[t])}break;case"RELEASE":v=void 0;break;default:return}}catch(e){v={value:e,[r]:0}}Promise.resolve(v).catch((e=>({value:e,[r]:0}))).then((n=>{const[a,s]=E(n);t.postMessage(Object.assign(Object.assign({},a),{id:c}),s),"RELEASE"===l&&(t.removeEventListener("message",i),u(t),o in e&&"function"==typeof e[o]&&e[o]())})).catch((e=>{const[n,a]=E({value:new TypeError("Unserializable return value"),[r]:0});t.postMessage(Object.assign(Object.assign({},n),{id:c}),a)}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e,t){return y(e,[],t)}function f(e){if(e)throw new Error("Proxy has been released and is not useable")}function v(e){return _(e,{type:"RELEASE"}).then((()=>{u(e)}))}const g=new WeakMap,p="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(g.get(e)||0)-1;g.set(e,t),0===t&&v(e)}));function y(e,t=[],n=function(){}){let a=!1;const o=new Proxy(n,{get(n,i){if(f(a),i===s)return()=>{!function(e){p&&p.unregister(e)}(o),v(e),a=!0};if("then"===i){if(0===t.length)return{then:()=>o};const n=_(e,{type:"GET",path:t.map((e=>e.toString()))}).then(k);return n.then.bind(n)}return y(e,[...t,i])},set(n,i,s){f(a);const[o,r]=E(s);return _(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:o},r).then(k)},apply(n,s,o){f(a);const r=t[t.length-1];if(r===i)return _(e,{type:"ENDPOINT"}).then(k);if("bind"===r)return y(e,t.slice(0,-1));const[c,l]=m(o);return _(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},l).then(k)},construct(n,i){f(a);const[s,o]=m(i);return _(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:s},o).then(k)}});return function(e,t){const n=(g.get(t)||0)+1;g.set(t,n),p&&p.register(e,t,e)}(o,e),o}function m(e){const t=e.map(E);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const b=new WeakMap;function E(e){for(const[t,n]of l)if(n.canHandle(e)){const[a,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:a},i]}return[{type:"RAW",value:e},b.get(e)||[]]}function k(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function _(e,t,n){return new Promise((a=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),a(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}}};
//# sourceMappingURL=13528.M-GAVDKGXGw.js.map