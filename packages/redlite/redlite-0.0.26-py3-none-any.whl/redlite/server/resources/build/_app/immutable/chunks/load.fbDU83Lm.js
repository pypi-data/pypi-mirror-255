import{r as O,i as le,E as ae,h as fe,j,l as X,k as K,m as Q,n as ve,o as $,q as he,v as pe,w as U,x as de,y as _e,z as we,A as ge,c as Z,a as me,p as Ee}from"./runtime.7SEEiHPo.js";import{z as Ae,A as L,B as te,S as b,C as re,D as H,E as se,F as oe,G as q,H as Ce,I as De,J as y,r as Se,K as Ie,t as k,k as xe,g as Le,h as Me,a as G,s as ee,d as Oe}from"./disclose-version.CZMKa-n2.js";const P=-1,J=99999999,ce=-2;function Te(){}function ie(e,l,n,a,o,c,h){const _=(n&$)!==0,r=he(n,e);let d=null;Ae(e,_);let E,p=null,u=null;r.r=t=>{const f=d,s=f.s;s.add(t),t.f(()=>{s.delete(t),s.size===0&&f.e!==null&&(f.d!==null&&(L(f.d),f.d=null),j(f.e),f.e=null)})};const v=()=>{const t={d:null,e:null,s:new Set,p:d},f=O(()=>{const s=r.d;s!==null&&(L(s),r.d=null);let w=r.a;(r.f&$)!==0&&(w=Ce(),r.a.appendChild(w)),c(w),t.d=r.d,r.d=null},r,!0);t.e=f,d=t},i=t=>{const f=t.f,s=(f&$)!==0,w=t.a;h(E,t,w,s,o,f,!0,p)},g=O(()=>{const t=l();E=le(t)?t:t==null?[]:Array.from(t),a!==null?p=E.map(a):n&ae||E.map(Te);const f=E.length;if(c!==null){if(f===0){if(r.v.length!==0||u===null){i(r),v();return}}else if(r.v.length===0&&d!==null){const s=d,w=s.s;w.size===0?s.d!==null&&(L(s.d),s.d=null):te(w,"out")}}u!==null&&pe(u)},r,!1);u=O(i,r,!0),fe(g,()=>{const t=r.f,f=r.a,s=(t&$)!==0;let w=d;for(;w!==null;){const A=w.d;A!==null&&L(A);const C=w.e;C!==null&&j(C),w=w.p}h([],r,f,s,o,t,!1,p),j(u)}),r.e=g}function Fe(e,l,n,a,o,c){ie(e,l,n,a,o,c,$e)}function Re(e,l,n,a,o){ie(e,l,n,null,a,o,Be)}function Be(e,l,n,a,o,c,h){var _=b in e&&e[b].i,r=l.v,d=l.s;_&&(c&=~K);var E=r.length,p=e.length,u=Math.max(E,p),v=0,i,g;if(d.length!==0&&ue(d),p===0)for(i=[],a&&E!==0&&re(n);v<u;)g=r[v++],S(g,d,h,a);else{var t;if(i=Array(p),H!==null)for(var f=H[0];v<u;v++){t=_?X(e,v):e[v];var s=se(f);oe(s),f=s.at(-1).nextSibling.nextSibling,g=D(t,null,v,o,c),i[v]=g}else for(;v<u;v++)v>=E?(t=_?X(e,v):e[v],g=D(t,null,v,o,c),i[v]=g,z(g,n,a,null)):v>=p?(g=r[v],S(g,d,h)):(t=e[v],g=r[v],i[v]=g,M(g,t,v,c))}l.v=i}function $e(e,l,n,a,o,c,h,_){var r=l.v;const d=_!==null;var E=l.s,p=r.length,u=e.length,v,i;if(E.length!==0&&ue(E),u===0)for(v=[],a&&p!==0&&re(n);p>0;)i=r[--p],S(i,E,h,a);else{var g=p-1,t=u-1,f,s,w;if(v=Array(u),H!==null)for(var A,C=H[0];u>0;)w=t- --u,s=e[w],f=d?_[w]:s,A=se(C),oe(A),C=(A.at(-1)||C).nextSibling.nextSibling,i=D(s,f,w,o,c),v[w]=i;else if(p===0)for(;u>0;)w=t- --u,s=e[w],f=d?_[w]:s,i=D(s,f,w,o,c),v[w]=i,z(i,n,a,null);else{var N=(c&_e)!==0,F=(c&(K|U))!==0||N,m=0,I=null;s=e[t],f=d?_[t]:s;e:for(;;){for(;r[g].k===f;){if(i=r[g--],s=e[t],F&&M(i,s,t,c),I=ne(i),v[t]=i,m>--t||m>g)break e;f=d?_[t]:s}for(s=e[m],f=d?_[m]:s;m<=g&&m<=t&&r[m].k===f;)s=e[m],i=r[m],F&&M(i,s,m,c),v[m]=i,++m,f=d?_[m]:e[m];break}if(m>g)for(;t>=m;)s=e[t],f=d?_[t]:s,i=D(s,f,t,o,c),v[t--]=i,I=z(i,n,a,I);else if(m>t){u=m;do(i=r[u++])!==null&&S(i,E,h);while(u<=g)}else{var T=0,x=t-m+1,B=new Int32Array(x),R=new Map;for(u=0;u<x;++u)p=u+m,B[u]=P,s=e[p],f=d?_[p]:s,De(R,f,p);if(N)for(u=m;u<=g;++u)p=y(R,r[u].k),p!==void 0&&(s=e[p],i=r[u],M(i,s,p,c));for(u=m;u<=g;++u)p=y(R,r[u].k),i=r[u],p!==void 0?(T=T<p?p:J,B[p-m]=u,v[p]=i):i!==null&&S(i,E,h);T===J&&je(B);for(var V,W,Y;x-- >0;)t=x+m,p=B[x],Y=p===-1,s=e[t],Y?(f=d?_[t]:s,i=D(s,f,t,o,c)):(i=v[t],!N&&F&&M(i,s,t,c)),(Y||T===J&&p!==ce)&&(W=V===void 0?I:ne(V),I=z(i,n,a,W)),v[t]=i,V=i}}}l.v=v}function je(e){for(var l=e.length,n=new Int32Array(l),a=new Int32Array(l),o=0,c=0,h,_,r,d;e[c]===P;++c);for(a[0]=c++;c<l;++c)if(_=e[c],_!==P)if(h=a[o],e[h]<_)n[c]=h,a[++o]=c;else{for(r=0,d=o;r<d;)h=r+d>>1,e[a[h]]<_?r=h+1:d=h;_<e[a[r]]&&(r>0&&(n[c]=a[r-1]),a[r]=c)}for(h=a[o];o-->=0;)e[h]=ce,h=n[h]}function z(e,l,n,a){var o=e.d;return a===null?n?q(o,l,null):q(o,l.parentNode,l):q(o,null,a)}function ne(e){var l=e.d;return le(l)?l[0]:l}function ue(e){var l=e.length;if(l>0){for(var n=0,a,o;n<l;n++)a=e[n],o=a.r,o!==null&&(a.r=null,S(a,null,!1));e.length=0}}function M(e,l,n,a){a&K?Q(e.v,l):ve(e.v)&&(e.v.o[e.v.p]=l);const o=e.s,c=(a&U)!==0,h=e.a;o!==null&&a&ae&&h!==null&&h(e,o),c?Q(e.i,n):e.i=n}function S(e,l,n,a=!1){const o=e.s;if(n&&o!==null){for(let h of o)h.r==="key"&&o.delete(h);if(o.size===0)e.s=null;else{te(o,"out"),l!==null&&l.push(e);return}}const c=e.d;!a&&c!==null&&L(c),j(e.e)}function D(e,l,n,a,o){const h=(o&K)===0?e:o&we?Z(e):ge(e),_=o&U?Z(n):n,r=de(h,_,l),d=O(E=>{a(null,E.v,E.i)},r,!0);return r.e=d,r}function Ve(e){const l=new Date(e);return`${l.toLocaleDateString()} ${l.toLocaleTimeString()}`}function Ye({mean:e,count:l,min:n,max:a}){return`${e.toFixed(3)} (#${l}, ${n.toFixed(3)}-${a.toFixed(3)})`}var ze=Oe('<div><span class="font-medium"> </span>&nbsp;<span class="font-normal"> </span></div>');function qe(e,l){me(l,!0);const n=Se(l,["label","value","onclick"]),a={run:"bg-teal-200",model:"bg-blue-200",dataset:"bg-red-200",completed:"bg-green-200",duration:"bg-yellow-200",max_samples:"bg-gray-200",metric:"bg-orange-200",data_digest:"bg-cyan-200"}[l.label]||"",o=l.onclick?"cursor-pointer":"";var c=Me(e,!0,ze);let h;var _=G(c),r=G(_),d=ee(ee(_)),E=G(d);O(()=>{h=Ie(c,h,[{class:`inline-block py-1 px-2 my-0.5 rounded-full border border-gray-500 ${a} ${o}`},{onclick:l.onclick},n,{role:"presentation"}],!0,""),k(r,`${xe(l.label)}:`),k(E,l.value)}),Le(e,c),Ee()}async function Ge(e){return await(await fetch(`/api/runs/${e}/meta`)).json()}async function Je(e){return await(await fetch(`/api/runs/${e}/data`)).json()}async function He(){return await(await fetch("/api/runs")).json()}async function Pe(){const e={};for(const n of await He()){const a=n.data_digest;e[`${a} ${n.metric} ${n.model}`]===void 0&&(e[`${a} ${n.metric} ${n.model}`]={data_digest:a,dataset:n.dataset,metric:n.metric,model:n.model,runs:[]}),e[`${a} ${n.metric} ${n.model}`].runs.push(n)}for(const n of Object.values(e))n.runs.sort((a,o)=>new Date(o.completed)-new Date(a.completed)),n.completed=n.runs[0].completed,n.score_summary=n.runs[0].score_summary;const l=[...Object.values(e)];return l.sort((n,a)=>new Date(a.completed)-new Date(n.completed)),l}export{qe as B,Ve as a,He as b,Re as c,Ge as d,Fe as e,Ye as f,Je as g,Pe as l};
