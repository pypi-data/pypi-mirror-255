import{j as Ee,m as Nt,h as P,aj as He,r as A,c as m,a3 as kt,O as Q,al as Mt,g as Ce,v as Xe,x as ye,n as jt,y as Ut,z as we,A as Ne,D as xe,G as Ve,E as ke,w as et,p as $t,am as Lt,k as Ae,an as tt,i as Bt,s as Me,ao as at,I as Qt,K as zt,R as xt,U as Gt,P as Wt,ap as Jt,aq as Yt,af as Kt,C as Zt,ar as Ht,as as Xt,at as ea,au as ta,av as aa,aw as la,ax as Ge,ay as oa,az as ra,B as na,_ as lt,$ as ot,a0 as G,a7 as re,a1 as me,a2 as T,d as v,aa as p,a5 as Z,a6 as z,F as Fe,ab as Pe,aA as rt,aB as je,a9 as Se,a8 as sa,aC as ia,aD as ua,a4 as be,aE as W,aF as ue}from"./index.39e5507f.js";import{c as Ue,b as qe,Q as Oe,a as pe}from"./QItem.f4e6ef98.js";import{g as We,s as Je,u as da}from"./use-quasar.f82bef5c.js";import{c as ca,h as pa}from"./format.e03eab4e.js";import{Q as fe,a as ne,b as va}from"./QTable.2c0512aa.js";import{Q as ma}from"./QLinearProgress.60610261.js";import{Q as fa}from"./QPage.f836cbd9.js";import{api as ha}from"./axios.9c1f90cd.js";import{p as de}from"./plotly.7e682fb7.js";import{u as ga,D as I}from"./solas.254cd077.js";import"./axios.b86878ef.js";import{O as te}from"./OpenAPI.b5c44a90.js";import{r as ae}from"./request.c4476599.js";import"./index.8c002fdd.js";var nt=(e=>(e.TO_REFERENCE_MEAN="to_reference_mean",e.TO_COMBINED_MEAN="to_combined_mean",e))(nt||{});class K{static disparityAdverseImpactRatio(t){return ae(te,{method:"POST",url:"/disparity/adverse-impact-ratio",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparitySegmentedAdverseImpactRatio(t){return ae(te,{method:"POST",url:"/disparity/segmented-adverse-impact-ratio",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityAdverseImpactRatioByQuantile(t){return ae(te,{method:"POST",url:"/disparity/adverse-impact-ratio-by-quantile",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityCategoricalAdverseImpactRatio(t){return ae(te,{method:"POST",url:"/disparity/categorical-adverse-impact-ratio",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityStandardizedMeanDifference(t){return ae(te,{method:"POST",url:"/disparity/standardized-mean-difference",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityResidualStandardizedMeanDifference(t){return ae(te,{method:"POST",url:"/disparity/residual-standardized-mean-difference",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityFalseDiscoveryRate(t){return ae(te,{method:"POST",url:"/disparity/false-discovery-rate",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityFalseNegativeRate(t){return ae(te,{method:"POST",url:"/disparity/false-negative-rate",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityFalsePositiveRate(t){return ae(te,{method:"POST",url:"/disparity/false-positive-rate",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityOddsRatio(t){return ae(te,{method:"POST",url:"/disparity/odds-ratio",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityPrecision(t){return ae(te,{method:"POST",url:"/disparity/precision",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityTrueNegativeRate(t){return ae(te,{method:"POST",url:"/disparity/true-negative-rate",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}static disparityTruePositiveRate(t){return ae(te,{method:"POST",url:"/disparity/true-positive-rate",body:t,mediaType:"application/json",errors:{422:"Validation Error"}})}}var ba=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:b}){let f=!1,o,l,r=null,a=null,h,D;function V(){o&&o(),o=null,f=!1,r!==null&&(clearTimeout(r),r=null),a!==null&&(clearTimeout(a),a=null),l!==void 0&&l.removeEventListener("transitionend",h),h=null}function O(u,d,E){d!==void 0&&(u.style.height=`${d}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,o=E}function R(u,d){u.style.overflowY=null,u.style.height=null,u.style.transition=null,V(),d!==D&&b(d)}function $(u,d){let E=0;l=u,f===!0?(V(),E=u.offsetHeight===u.scrollHeight?0:void 0):(D="hide",u.style.overflowY="hidden"),O(u,E,d),r=setTimeout(()=>{r=null,u.style.height=`${u.scrollHeight}px`,h=c=>{a=null,(Object(c)!==c||c.target===u)&&R(u,"show")},u.addEventListener("transitionend",h),a=setTimeout(h,e.duration*1.1)},100)}function j(u,d){let E;l=u,f===!0?V():(D="show",u.style.overflowY="hidden",E=u.scrollHeight),O(u,E,d),r=setTimeout(()=>{r=null,u.style.height=0,h=c=>{a=null,(Object(c)!==c||c.target===u)&&R(u,"hide")},u.addEventListener("transitionend",h),a=setTimeout(h,e.duration*1.1)},100)}return Nt(()=>{f===!0&&V()}),()=>P(He,{css:!1,appear:e.appear,onEnter:$,onLeave:j},t.default)}}),st=Ee({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:b}}=Ce(),f=A(null),o=m(()=>e.stepper.modelValue===e.step.name),l=m(()=>{const d=e.step.disable;return d===!0||d===""}),r=m(()=>{const d=e.step.error;return d===!0||d===""}),a=m(()=>{const d=e.step.done;return l.value===!1&&(d===!0||d==="")}),h=m(()=>{const d=e.step.headerNav,E=d===!0||d===""||d===void 0;return l.value===!1&&e.stepper.headerNav&&E}),D=m(()=>e.step.prefix&&(o.value===!1||e.stepper.activeIcon==="none")&&(r.value===!1||e.stepper.errorIcon==="none")&&(a.value===!1||e.stepper.doneIcon==="none")),V=m(()=>{const d=e.step.icon||e.stepper.inactiveIcon;if(o.value===!0){const E=e.step.activeIcon||e.stepper.activeIcon;return E==="none"?d:E||b.iconSet.stepper.active}if(r.value===!0){const E=e.step.errorIcon||e.stepper.errorIcon;return E==="none"?d:E||b.iconSet.stepper.error}if(l.value===!1&&a.value===!0){const E=e.step.doneIcon||e.stepper.doneIcon;return E==="none"?d:E||b.iconSet.stepper.done}return d}),O=m(()=>{const d=r.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(o.value===!0){const E=e.step.activeColor||e.stepper.activeColor||e.step.color;return E!==void 0?E:d}return d!==void 0?d:l.value===!1&&a.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),R=m(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(O.value!==void 0?` text-${O.value}`:"")+(r.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(D.value===!0?"prefix":"icon"):"")+(o.value===!0?" q-stepper__tab--active":"")+(a.value===!0?" q-stepper__tab--done":"")+(h.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(l.value===!0?" q-stepper__tab--disabled":"")),$=m(()=>e.stepper.headerNav!==!0?!1:h.value);function j(){f.value!==null&&f.value.focus(),o.value===!1&&e.goToPanel(e.step.name)}function u(d){d.keyCode===13&&o.value===!1&&e.goToPanel(e.step.name)}return()=>{const d={class:R.value};h.value===!0&&(d.onClick=j,d.onKeyup=u,Object.assign(d,l.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const E=[P("div",{class:"q-focus-helper",tabindex:-1,ref:f}),P("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[P("span",{class:"row flex-center"},[D.value===!0?e.step.prefix:P(kt,{name:V.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const c=[P("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&c.push(P("div",{class:"q-stepper__caption"},e.step.caption)),E.push(P("div",{class:"q-stepper__label q-stepper__line relative-position"},c))}return Q(P("div",d,E),[[Mt,$.value]])}}});function _a(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((b,f)=>{const o=parseFloat(b);o&&(t[f]=o)}),t}var ya=Xe({name:"touch-swipe",beforeMount(e,{value:t,arg:b,modifiers:f}){if(f.mouse!==!0&&ye.has.touch!==!0)return;const o=f.mouseCapture===!0?"Capture":"",l={handler:t,sensitivity:_a(b),direction:We(f),noop:jt,mouseStart(r){Je(r,l)&&Ut(r)&&(we(l,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(r,!0))},touchStart(r){if(Je(r,l)){const a=r.target;we(l,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","notPassiveCapture"],[a,"touchend","end","notPassiveCapture"]]),l.start(r)}},start(r,a){ye.is.firefox===!0&&Ne(e,!0);const h=xe(r);l.event={x:h.left,y:h.top,time:Date.now(),mouse:a===!0,dir:!1}},move(r){if(l.event===void 0)return;if(l.event.dir!==!1){Ve(r);return}const a=Date.now()-l.event.time;if(a===0)return;const h=xe(r),D=h.left-l.event.x,V=Math.abs(D),O=h.top-l.event.y,R=Math.abs(O);if(l.event.mouse!==!0){if(V<l.sensitivity[1]&&R<l.sensitivity[1]){l.end(r);return}}else if(V<l.sensitivity[2]&&R<l.sensitivity[2])return;const $=V/a,j=R/a;l.direction.vertical===!0&&V<R&&V<100&&j>l.sensitivity[0]&&(l.event.dir=O<0?"up":"down"),l.direction.horizontal===!0&&V>R&&R<100&&$>l.sensitivity[0]&&(l.event.dir=D<0?"left":"right"),l.direction.up===!0&&V<R&&O<0&&V<100&&j>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&V<R&&O>0&&V<100&&j>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&V>R&&D<0&&R<100&&$>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&V>R&&D>0&&R<100&&$>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(Ve(r),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ca(),l.styleCleanup=u=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const d=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(d,50):d()}),l.handler({evt:r,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:a,distance:{x:V,y:R}})):l.end(r)},end(r){l.event!==void 0&&(ke(l,"temp"),ye.is.firefox===!0&&Ne(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),r!==void 0&&l.event.dir!==!1&&Ve(r),l.event=void 0)}};if(e.__qtouchswipe=l,f.mouse===!0){const r=f.mouseCapture===!0||f.mousecapture===!0?"Capture":"";we(l,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}ye.has.touch===!0&&we(l,"main",[[e,"touchstart","touchStart",`passive${f.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const b=e.__qtouchswipe;b!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&b.end(),b.handler=t.value),b.direction=We(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(ke(t,"main"),ke(t,"temp"),ye.is.firefox===!0&&Ne(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function it(){const e=new Map;return{getCache:function(t,b){return e[t]===void 0?e[t]=b:e[t]},getCacheWithFn:function(t,b){return e[t]===void 0?e[t]=b():e[t]}}}const Sa={name:{required:!0},disable:Boolean},Ye={setup(e,{slots:t}){return()=>P("div",{class:"q-panel scroll",role:"tabpanel"},Ae(t.default))}},Aa={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ea=["update:modelValue","beforeTransition","transition"];function Ca(){const{props:e,emit:t,proxy:b}=Ce(),{getCacheWithFn:f}=it();let o,l;const r=A(null),a=A(null);function h(S){const N=e.vertical===!0?"up":"left";U((b.$q.lang.rtl===!0?-1:1)*(S.direction===N?1:-1))}const D=m(()=>[[ya,h,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),V=m(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),O=m(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),R=m(()=>`--q-transition-duration: ${e.transitionDuration}ms`),$=m(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),j=m(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),u=m(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);et(()=>e.modelValue,(S,N)=>{const Y=x(S)===!0?B(S):-1;l!==!0&&s(Y===-1?0:Y<B(N)?-1:1),r.value!==Y&&(r.value=Y,t("beforeTransition",S,N),$t(()=>{t("transition",S,N)}))});function d(){U(1)}function E(){U(-1)}function c(S){t("update:modelValue",S)}function x(S){return S!=null&&S!==""}function B(S){return o.findIndex(N=>N.props.name===S&&N.props.disable!==""&&N.props.disable!==!0)}function se(){return o.filter(S=>S.props.disable!==""&&S.props.disable!==!0)}function s(S){const N=S!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(S===-1?V.value:O.value):null;a.value!==N&&(a.value=N)}function U(S,N=r.value){let Y=N+S;for(;Y>-1&&Y<o.length;){const ie=o[Y];if(ie!==void 0&&ie.props.disable!==""&&ie.props.disable!==!0){s(S),l=!0,t("update:modelValue",ie.props.name),setTimeout(()=>{l=!1});return}Y+=S}e.infinite===!0&&o.length>0&&N!==-1&&N!==o.length&&U(S,S===-1?o.length:-1)}function M(){const S=B(e.modelValue);return r.value!==S&&(r.value=S),!0}function q(){const S=x(e.modelValue)===!0&&M()&&o[r.value];return e.keepAlive===!0?[P(tt,j.value,[P(u.value===!0?f($.value,()=>({...Ye,name:$.value})):Ye,{key:$.value,style:R.value},()=>S)])]:[P("div",{class:"q-panel scroll",style:R.value,key:$.value,role:"tabpanel"},[S])]}function L(){if(o.length!==0)return e.animated===!0?[P(He,{name:a.value},q)]:q()}function ce(S){return o=Lt(Ae(S.default,[])).filter(N=>N.props!==null&&N.props.slot===void 0&&x(N.props.name)===!0),o.length}function ve(){return o}return Object.assign(b,{next:d,previous:E,goTo:c}),{panelIndex:r,panelDirectives:D,updatePanelsList:ce,updatePanelIndex:M,getPanelContent:L,getEnabledPanels:se,getPanels:ve,isValidPanelName:x,keepAliveProps:j,needsUniqueKeepAliveWrapper:u,goToPanelByOffset:U,goToPanel:c,nextPanel:d,previousPanel:E}}function ut(e){return P("div",{class:"q-stepper__step-content"},[P("div",{class:"q-stepper__step-inner"},Ae(e.default))])}const Ke={setup(e,{slots:t}){return()=>ut(t)}};var De=Ee({name:"QStep",props:{...Sa,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:b}){const{proxy:{$q:f}}=Ce(),o=Bt(at,Me);if(o===Me)return console.error("QStep needs to be a child of QStepper"),Me;const{getCacheWithFn:l}=it(),r=A(null),a=m(()=>o.value.modelValue===e.name),h=m(()=>f.platform.is.ios!==!0&&f.platform.is.chrome===!0||a.value!==!0||o.value.vertical!==!0?{}:{onScroll(O){const{target:R}=O;R.scrollTop>0&&(R.scrollTop=0),e.onScroll!==void 0&&b("scroll",O)}}),D=m(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function V(){const O=o.value.vertical;return O===!0&&o.value.keepAlive===!0?P(tt,o.value.keepAliveProps.value,a.value===!0?[P(o.value.needsUniqueKeepAliveWrapper.value===!0?l(D.value,()=>({...Ke,name:D.value})):Ke,{key:D.value},t.default)]:void 0):O!==!0||a.value===!0?ut(t):void 0}return()=>P("div",{ref:r,class:"q-stepper__step",role:"tabpanel",...h.value},o.value.vertical===!0?[P(st,{stepper:o.value,step:e,goToPanel:o.value.goToPanel}),o.value.animated===!0?P(ba,V):V()]:[V()])}}),Ta=Ee({name:"QStepperNavigation",setup(e,{slots:t}){return()=>P("div",{class:"q-stepper__nav"},Ae(t.default))}});const Da=/(-\w)/g;function Va(e){const t={};for(const b in e){const f=b.replace(Da,o=>o[1].toUpperCase());t[f]=e[b]}return t}var Ia=Ee({name:"QStepper",props:{...Qt,...Aa,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Ea,setup(e,{slots:t}){const b=Ce(),f=zt(e,b.proxy.$q),{updatePanelsList:o,isValidPanelName:l,updatePanelIndex:r,getPanelContent:a,getPanels:h,panelDirectives:D,goToPanel:V,keepAliveProps:O,needsUniqueKeepAliveWrapper:R}=Ca();xt(at,m(()=>({goToPanel:V,keepAliveProps:O,needsUniqueKeepAliveWrapper:R,...e})));const $=m(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(f.value===!0?" q-stepper--dark q-dark":"")),j=m(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function u(){const d=Ae(t.message,[]);if(e.vertical===!0){l(e.modelValue)&&r();const E=P("div",{class:"q-stepper__content"},Ae(t.default));return d===void 0?[E]:d.concat(E)}return[P("div",{class:j.value},h().map(E=>{const c=Va(E.props);return P(st,{key:c.name,stepper:e,step:c,goToPanel:V})})),d,Wt("div",{class:"q-stepper__content q-panel-parent"},a(),"cont",e.swipeable,()=>D.value)]}return()=>(o(t),P("div",{class:$.value},Gt(t.navigation,u())))}});function Ze(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var wa=Xe({name:"close-popup",beforeMount(e,{value:t}){const b={depth:Ze(t),handler(f){b.depth!==0&&setTimeout(()=>{const o=Jt(e);o!==void 0&&Yt(o,f,b.depth)})},handlerKey(f){Kt(f,13)===!0&&b.handler(f)}};e.__qclosepopup=b,e.addEventListener("click",b.handler),e.addEventListener("keyup",b.handlerKey)},updated(e,{value:t,oldValue:b}){t!==b&&(e.__qclosepopup.depth=Ze(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function _e(e,t,b,f){const o=[];return e.forEach(l=>{f(l)===!0?o.push(l):t.push({failedPropValidation:b,file:l})}),o}function Re(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Ve(e)}const Ra={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Fa=["rejected"];function Pa({editable:e,dnd:t,getFileInput:b,addFilesToQueue:f}){const{props:o,emit:l,proxy:r}=Ce(),a=A(null),h=m(()=>o.accept!==void 0?o.accept.split(",").map(c=>(c=c.trim(),c==="*"?"*/":(c.endsWith("/*")&&(c=c.slice(0,c.length-1)),c.toUpperCase()))):null),D=m(()=>parseInt(o.maxFiles,10)),V=m(()=>parseInt(o.maxTotalSize,10));function O(c){if(e.value)if(c!==Object(c)&&(c={target:null}),c.target!==null&&c.target.matches('input[type="file"]')===!0)c.clientX===0&&c.clientY===0&&Zt(c);else{const x=b();x&&x!==c.target&&x.click(c)}}function R(c){e.value&&c&&f(null,c)}function $(c,x,B,se){let s=Array.from(x||c.target.files);const U=[],M=()=>{U.length>0&&l("rejected",U)};if(o.accept!==void 0&&h.value.indexOf("*/")===-1&&(s=_e(s,U,"accept",q=>h.value.some(L=>q.type.toUpperCase().startsWith(L)||q.name.toUpperCase().endsWith(L))),s.length===0))return M();if(o.maxFileSize!==void 0){const q=parseInt(o.maxFileSize,10);if(s=_e(s,U,"max-file-size",L=>L.size<=q),s.length===0)return M()}if(o.multiple!==!0&&s.length>0&&(s=[s[0]]),s.forEach(q=>{q.__key=q.webkitRelativePath+q.lastModified+q.name+q.size}),se===!0){const q=B.map(L=>L.__key);s=_e(s,U,"duplicate",L=>q.includes(L.__key)===!1)}if(s.length===0)return M();if(o.maxTotalSize!==void 0){let q=se===!0?B.reduce((L,ce)=>L+ce.size,0):0;if(s=_e(s,U,"max-total-size",L=>(q+=L.size,q<=V.value)),s.length===0)return M()}if(typeof o.filter=="function"){const q=o.filter(s);s=_e(s,U,"filter",L=>q.includes(L))}if(o.maxFiles!==void 0){let q=se===!0?B.length:0;if(s=_e(s,U,"max-files",()=>(q++,q<=D.value)),s.length===0)return M()}if(M(),s.length>0)return s}function j(c){Re(c),t.value!==!0&&(t.value=!0)}function u(c){Ve(c),(c.relatedTarget!==null||ye.is.safari!==!0?c.relatedTarget!==a.value:document.elementsFromPoint(c.clientX,c.clientY).includes(a.value)===!1)===!0&&(t.value=!1)}function d(c){Re(c);const x=c.dataTransfer.files;x.length>0&&f(null,x),t.value=!1}function E(c){if(t.value===!0)return P("div",{ref:a,class:`q-${c}__dnd absolute-full`,onDragenter:Re,onDragover:Re,onDragleave:u,onDrop:d})}return Object.assign(r,{pickFiles:O,addFiles:R}),{pickFiles:O,addFiles:R,onDragover:j,onDragleave:u,processFiles:$,getDndNode:E,maxFilesNumber:D,maxTotalSizeNumber:V}}var qa=Ee({name:"QFile",inheritAttrs:!1,props:{...Ht,...Xt,...Ra,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ea,...Fa],setup(e,{slots:t,emit:b,attrs:f}){const{proxy:o}=Ce(),l=ta(),r=A(null),a=A(!1),h=aa(e),{pickFiles:D,onDragover:V,onDragleave:O,processFiles:R,getDndNode:$}=Pa({editable:l.editable,dnd:a,getFileInput:ve,addFilesToQueue:S}),j=la(e),u=m(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),d=m(()=>Ge(u.value)),E=m(()=>u.value.map(F=>F.name).join(", ")),c=m(()=>pa(u.value.reduce((F,J)=>F+J.size,0))),x=m(()=>({totalSize:c.value,filesNumber:u.value.length,maxFiles:e.maxFiles})),B=m(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:h.value,...f,id:l.targetUid.value,disabled:l.editable.value!==!0})),se=m(()=>"q-file q-field--auto-height"+(a.value===!0?" q-file--dnd":"")),s=m(()=>e.multiple===!0&&e.append===!0);function U(F){const J=u.value.slice();J.splice(F,1),q(J)}function M(F){const J=u.value.findIndex(F);J>-1&&U(J)}function q(F){b("update:modelValue",e.multiple===!0?F:F[0])}function L(F){F.keyCode===13&&na(F)}function ce(F){(F.keyCode===13||F.keyCode===32)&&D(F)}function ve(){return r.value}function S(F,J){const H=R(F,J,u.value,s.value),he=ve();he!=null&&(he.value=""),H!==void 0&&((e.multiple===!0?e.modelValue&&H.every(X=>u.value.includes(X)):e.modelValue===H[0])||q(s.value===!0?u.value.concat(H):H))}function N(){return[P("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function Y(){if(t.file!==void 0)return u.value.length===0?N():u.value.map((J,H)=>t.file({index:H,file:J,ref:this}));if(t.selected!==void 0)return u.value.length===0?N():t.selected({files:u.value,ref:this});if(e.useChips===!0)return u.value.length===0?N():u.value.map((J,H)=>P(fe,{key:"file-"+H,removable:l.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{U(H)}},()=>P("span",{class:"ellipsis",textContent:J.name})));const F=e.displayValue!==void 0?e.displayValue:E.value;return F.length>0?[P("div",{class:e.inputClass,style:e.inputStyle,textContent:F})]:N()}function ie(){const F={ref:r,...B.value,...j.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:S};return e.multiple===!0&&(F.multiple=!0),P("input",F)}return Object.assign(l,{fieldClass:se,emitValue:q,hasValue:d,inputRef:r,innerValue:u,floatingLabel:m(()=>d.value===!0||Ge(e.displayValue)),computedCounter:m(()=>{if(e.counterLabel!==void 0)return e.counterLabel(x.value);const F=e.maxFiles;return`${u.value.length}${F!==void 0?" / "+F:""} (${c.value})`}),getControlChild:()=>$("file"),getControl:()=>{const F={ref:l.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return l.editable.value===!0&&Object.assign(F,{onDragover:V,onDragleave:O,onKeydown:L,onKeyup:ce}),P("div",F,[ie()].concat(Y()))}}),Object.assign(o,{removeAtIndex:U,removeFile:M,getNativeElement:()=>r.value}),oa(o,"nativeEl",()=>r.value),ra(l)}});const Oa=lt({props:{modelValue:{type:Object,required:!1}},setup(e,{emit:t}){const b=A(null),f=A(""),o=A(null);return et(o,r=>{t("update:model-value",r)}),{uploadFile:async()=>{const r=new FormData;r.append("file",b.value);try{const a=await ha.post("/data/upload",r);console.log(a),f.value=a.data.id,o.value=a.data}catch(a){console.error(a)}},file:b,dataId:f,dataBlob:o}}}),Na={id:"data-uploader"},ka={class:"row"},Ma={class:"col-sm-4 col-md-3 col-lg-2 q-pa-sm"},ja=p("span",{class:"text-bold"},"ID",-1),Ua=p("span",{class:"text-bold"},"Shape",-1),$a={class:"col-sm-6 col-md-9 col-lg-10 q-pa-sm"},La=p("span",{class:"text-bold"},"Columns",-1),Ba={key:1};function Qa(e,t,b,f,o,l){return G(),re("div",Na,[e.dataBlob?(G(),me(je,{key:0,flat:"",bordered:""},{default:T(()=>[v(rt,null,{default:T(()=>[p("div",ka,[p("div",Ma,[v(Ue,null,{default:T(()=>[v(qe,null,{default:T(()=>[v(Oe,null,{default:T(()=>[v(pe,null,{default:T(()=>[ja]),_:1}),v(pe,null,{default:T(()=>{var r;return[Z(z((r=e.dataBlob)==null?void 0:r.id),1)]}),_:1})]),_:1})]),_:1}),v(qe,null,{default:T(()=>[v(Oe,null,{default:T(()=>[v(pe,null,{default:T(()=>[Ua]),_:1}),v(pe,null,{default:T(()=>{var r,a,h,D;return[Z(z((a=(r=e.dataBlob)==null?void 0:r.rows)!=null?a:"")+" rows, "+z((D=(h=e.dataBlob)==null?void 0:h.cols)!=null?D:"")+" columns",1)]}),_:1})]),_:1})]),_:1})]),_:1})]),p("div",$a,[v(Ue,null,{default:T(()=>[v(qe,null,{default:T(()=>[v(Oe,null,{default:T(()=>[v(pe,null,{default:T(()=>[La]),_:1}),v(pe,null,{default:T(()=>{var r;return[(G(!0),re(Fe,null,Pe((r=e.dataBlob)==null?void 0:r.column_names,a=>(G(),me(fe,{key:a,dense:"",color:"dark",outline:"",class:"q-mr-xs"},{default:T(()=>[Z(z(a),1)]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})):(G(),re("div",Ba,[v(qa,{modelValue:e.file,"onUpdate:modelValue":t[0]||(t[0]=r=>e.file=r),label:"Pick file",outlined:"",style:{"max-width":"400px"}},{after:T(()=>[v(Se,{color:"dark",dense:"",icon:"cloud_upload",round:"",onClick:e.uploadFile},null,8,["onClick"])]),_:1},8,["modelValue"])]))])}var za=ot(Oa,[["render",Qa]]);const xa=lt({name:"CalculateDisparity",components:{UploadData:za},setup(){const e=ga(),t=5,b=da(),f=A(1),o=A(!0),l=A(!1),r=A(!1),a=A({}),h=A(null),D=A(null),V=A(null),O=A(null),R=A(null),$=A(null),j=A(null),u=A(null),d=A(null),E=A(null),c=A(null),x=A(""),B=A([]),se=A(!1),s=A(null),U=A(null),M=A(null),q=A(1),L=A({}),ce=A({}),ve=A({}),S=A(null),N=A([.2,.4,.6,.8,1]),Y=A(!1),ie=A(null),F=A(null),J=A(!1),H=A([]),he=A(null),X=m(()=>Object.values(L.value).map(i=>i.value).join(",")),le=m(()=>Object.values(ce.value).map(i=>i.value).join(",")),oe=m(()=>Object.values(ve.value).join(",")),dt=m(()=>H.value.split(",")),ct=m(()=>f.value===2&&!M.value||f.value===3&&(q.value<1||X.value.length<1||le.value.length<1||oe.value.length<1)||f.value===4&&!s.value),pt=m(()=>{var g,C,w;const i=[{name:"groupCategory",label:"Group Category",field:"Group Category",align:"left",sortable:!0},{name:"group",label:"Group",field:"Group",align:"left",sortable:!0},{name:"referenceGroup",label:"Reference Group",field:"Reference Group",align:"left",sortable:!0}];return((g=s.value)==null?void 0:g.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE&&i.push({name:"quantile",label:"Quantile",field:"Quantile",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(1)}%`:n,sortable:!0},{name:"quantileCutoff",label:"Quantile Cutoff",field:"Quantile Cutoff",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}`:n,sortable:!0}),i.push({name:"observations",label:"Observations",field:"Observations",align:"left",sortable:!0},{name:"percentMissing",label:"Percent Missing",field:"Percent Missing",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}%`:n,sortable:!0},{name:"total",label:"Total",field:"Total",align:"left",sortable:!0},{name:"favorable",label:"Favorable",field:"Favorable",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}`:n,sortable:!0},{name:"percentFavorable",label:"Percent Favorable",field:"Percent Favorable",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}%`:n,sortable:!0},{name:"percentDifferenceFavorable",label:"Percent Difference Favorable",field:"Percent Difference Favorable",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}%`:n,sortable:!0}),((C=s.value)==null?void 0:C.value)===I.STANDARDIZED_MEAN_DIFFERENCE||((w=s.value)==null?void 0:w.value)===I.RESIDUAL_STANDARDIZED_MEAN_DIFFERENCE?i.push({name:"smd",label:"SMD",field:"SMD",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}`:n,sortable:!0}):i.push({name:"air",label:"AIR",field:"AIR",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}`:n,sortable:!0}),i.push({name:"pvalues",label:"P-Values",field:"P-Values",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(3)}`:n,sortable:!0},{name:"practicallySignificant",label:"Practically Significant",field:"Practically Significant",align:"left",sortable:!0},{name:"shortfall",label:"Shortfall",field:"Shortfall",align:"left",format:n=>typeof n=="number"?`${parseFloat(n).toFixed(2)}`:n,sortable:!0}),i}),vt=m(()=>Object.values(nt).map(i=>({value:i,label:i.replace(/_/g," ").toLowerCase().replace(/(?:^|\s)\S/g,function(g){return g.toUpperCase()})}))),mt=m(()=>{var i;return(i=M.value)==null?void 0:i.column_names.map(g=>({value:g,label:g}))}),ft=m(()=>b.screen.width<725),Ie=m(()=>{var i,g,C;return((i=s.value)==null?void 0:i.value)===I.ADVERSE_IMPACT_RATIO||((g=s.value)==null?void 0:g.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE||((C=s.value)==null?void 0:C.value)===I.CATEGORICAL_ADVERSE_IMPACT_RATIO}),ht=m(()=>{var i;return Ie.value||((i=s.value)==null?void 0:i.value)===I.ODDS_RATIO}),gt=m(()=>{var i;return Ie.value||((i=s.value)==null?void 0:i.value)===I.ODDS_RATIO}),bt=m(()=>{var i;return((i=s.value)==null?void 0:i.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE}),_t=m(()=>{var i;return((i=s.value)==null?void 0:i.value)===I.CATEGORICAL_ADVERSE_IMPACT_RATIO}),yt=m(()=>{var i;return((i=s.value)==null?void 0:i.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE}),St=m(()=>{var i,g;return((i=s.value)==null?void 0:i.value)===I.STANDARDIZED_MEAN_DIFFERENCE||((g=s.value)==null?void 0:g.value)===I.RESIDUAL_STANDARDIZED_MEAN_DIFFERENCE}),At=m(()=>{var i,g,C,w,n;return((i=s.value)==null?void 0:i.value)===I.STANDARDIZED_MEAN_DIFFERENCE||((g=s.value)==null?void 0:g.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE||((C=s.value)==null?void 0:C.value)===I.ODDS_RATIO||((w=s.value)==null?void 0:w.value)===I.RESIDUAL_STANDARDIZED_MEAN_DIFFERENCE||((n=s.value)==null?void 0:n.value)===I.WASSERSTEIN}),Et=m(()=>{var i;return((i=s.value)==null?void 0:i.value)!=null}),$e=m(()=>{var i,g,C,w,n,y;return((i=s.value)==null?void 0:i.value)===I.FALSE_DISCOVERY_RATE||((g=s.value)==null?void 0:g.value)===I.FALSE_NEGATIVE_RATE||((C=s.value)==null?void 0:C.value)===I.FALSE_POSITIVE_RATE||((w=s.value)==null?void 0:w.value)===I.TRUE_POSITIVE_RATE||((n=s.value)==null?void 0:n.value)===I.TRUE_NEGATIVE_RATE||((y=s.value)==null?void 0:y.value)===I.ODDS_RATIO}),Ct=m(()=>{var i,g;return Ie.value||$e.value||((i=s.value)==null?void 0:i.value)===I.RESIDUAL_STANDARDIZED_MEAN_DIFFERENCE||((g=s.value)==null?void 0:g.value)===I.WASSERSTEIN});function Tt(){const C={title:"Leave Disparity Calculation?",message:"By proceeding with the finish of the analysis you will no longer be able to access the results. If you wish to have access to the results at a later time, please click no and download the results prior to finishing this analysis.",type:"warning",ok:"Yes",cancel:"No"};b.dialog(C).onOk(()=>{window.location.reload()})}function Dt(){var g,C,w,n;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,air_threshold:V.value,percent_difference_threshold:j.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,max_for_fishers:E.value,shortfall_method:(n=c.value)==null?void 0:n.value};K.disparityAdverseImpactRatio(i).then(y=>{const _=JSON.parse(y.plot_json);de.exports.newPlot(h.value,_.data,_.layout),B.value=JSON.parse(y==null?void 0:y.summary_table_json_flat),o.value=!1,l.value=!0}).catch(y=>{console.log(y),a.value=y,r.value=!0})}function Vt(){var g,C,w,n,y;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,smd_threshold:O.value,lower_score_favorable:(C=S.value)==null?void 0:C.value,label:(w=u.value)==null?void 0:w.value,sample_weight:(n=d.value)==null?void 0:n.value,smd_denominator:(y=U.value)==null?void 0:y.value};K.disparityStandardizedMeanDifference(i).then(_=>{const k=JSON.parse(_.plot_json);de.exports.newPlot(h.value,k.data,k.layout),B.value=JSON.parse(_==null?void 0:_.summary_table_json_flat),o.value=!1,l.value=!0}).catch(_=>{console.log(_),a.value=_,r.value=!0})}function It(){var g,C,w,n,y,_;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,residual_smd_threshold:O.value,lower_score_favorable:(C=S.value)==null?void 0:C.value,label:(w=u.value)==null?void 0:w.value,sample_weight:(n=d.value)==null?void 0:n.value,residual_smd_denominator:(y=U.value)==null?void 0:y.value,prediction:(_=he.value)==null?void 0:_.value};K.disparityResidualStandardizedMeanDifference(i).then(k=>{const ee=JSON.parse(k.plot_json);de.exports.newPlot(h.value,ee.data,ee.layout),B.value=JSON.parse(k==null?void 0:k.summary_table_json_flat),o.value=!1,l.value=!0}).catch(k=>{console.log(k),a.value=k,r.value=!0})}function wt(){var g,C,w,n,y;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,air_threshold:V.value,percent_difference_threshold:j.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,max_for_fishers:E.value,shortfall_method:(n=c.value)==null?void 0:n.value,quantiles:N.value,lower_score_favorable:(y=S.value)==null?void 0:y.value,merge_bins:Y.value};K.disparityAdverseImpactRatioByQuantile(i).then(_=>{const k=JSON.parse(_.plot_json);de.exports.newPlot(h.value,k.data,k.layout),B.value=JSON.parse(_==null?void 0:_.summary_table_json_flat),o.value=!1,l.value=!0}).catch(_=>{console.log(_),a.value=_,r.value=!0})}function Rt(){var g,C,w,n,y,_,k;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,air_threshold:V.value,percent_difference_threshold:j.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,max_for_fishers:E.value,shortfall_method:(n=c.value)==null?void 0:n.value,quantiles:N.value,lower_score_favorable:(y=S.value)==null?void 0:y.value,fdr_threshold:ie.value,segment:(_=F.value)==null?void 0:_.value,shift_zeros:(k=J.value)==null?void 0:k.value};K.disparitySegmentedAdverseImpactRatio(i).then(ee=>{const Te=JSON.parse(ee.plot_json);de.exports.newPlot(h.value,Te.data,Te.layout),B.value=JSON.parse(ee==null?void 0:ee.summary_table_json_flat),o.value=!1,l.value=!0}).catch(ee=>{console.log(ee),a.value=ee,r.value=!0})}function Ft(){var g,C,w,n,y;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,air_threshold:V.value,percent_difference_threshold:j.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,max_for_fishers:E.value,shortfall_method:(n=c.value)==null?void 0:n.value,lower_score_favorable:(y=S.value)==null?void 0:y.value,category_order:dt.value};K.disparityCategoricalAdverseImpactRatio(i).then(_=>{const k=JSON.parse(_.plot_json);de.exports.newPlot(h.value,k.data,k.layout),B.value=JSON.parse(_==null?void 0:_.summary_table_json_flat),o.value=!1,l.value=!0}).catch(_=>{console.log(_),a.value=_,r.value=!0})}function ge(i){var C,w,n;const g={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(C=D.value)==null?void 0:C.value,difference_threshold:$.value,ratio_threshold:R.value,label:(w=u.value)==null?void 0:w.value,sample_weight:(n=d.value)==null?void 0:n.value};i(g).then(y=>{const _=JSON.parse(y.plot_json);de.exports.newPlot(h.value,_.data,_.layout),B.value=JSON.parse(y==null?void 0:y.summary_table_json_flat),o.value=!1,l.value=!0}).catch(y=>{console.log(y),a.value=y,r.value=!0})}function Pt(){var g,C,w,n,y;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,odds_ratio_threshold:R.value,percent_difference_threshold:j.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,max_for_fishers:E.value,shortfall_method:(n=c.value)==null?void 0:n.value,lower_score_favorable:(y=S.value)==null?void 0:y.value};K.disparityOddsRatio(i).then(_=>{const k=JSON.parse(_.plot_json);de.exports.newPlot(h.value,k.data,k.layout),B.value=JSON.parse(_==null?void 0:_.summary_table_json_flat),o.value=!1,l.value=!0}).catch(_=>{console.log(_),a.value=_,r.value=!0})}function qt(){var g,C,w,n;const i={group_data:M.value.id,protected_groups:X.value,reference_groups:le.value,group_categories:oe.value,outcome:(g=D.value)==null?void 0:g.value,label:(C=u.value)==null?void 0:C.value,sample_weight:(w=d.value)==null?void 0:w.value,lower_score_favorable:(n=S.value)==null?void 0:n.value};K.disparityWasserstein(i).then(y=>{const _=JSON.parse(y.plot_json);de.exports.newPlot(h.value,_.data,_.layout),B.value=JSON.parse(y==null?void 0:y.summary_table_json_flat),o.value=!1,l.value=!0}).catch(y=>{console.log(y),a.value=y,r.value=!0})}const Ot=()=>{var i,g,C,w,n,y,_,k,ee,Te,Le,Be,Qe,ze;((i=s.value)==null?void 0:i.value)===I.ADVERSE_IMPACT_RATIO?Dt():((g=s.value)==null?void 0:g.value)===I.ADVERSE_IMPACT_RATIO_BY_QUANTILE?wt():((C=s.value)==null?void 0:C.value)===I.STANDARDIZED_MEAN_DIFFERENCE?Vt():((w=s.value)==null?void 0:w.value)===I.FALSE_DISCOVERY_RATE?ge(K.disparityFalseDiscoveryRate):((n=s.value)==null?void 0:n.value)===I.FALSE_NEGATIVE_RATE?ge(K.disparityFalseNegativeRate):((y=s.value)==null?void 0:y.value)===I.FALSE_POSITIVE_RATE?ge(K.disparityFalsePositiveRate):((_=s.value)==null?void 0:_.value)===I.TRUE_POSITIVE_RATE?ge(K.disparityTruePositiveRate):((k=s.value)==null?void 0:k.value)===I.TRUE_NEGATIVE_RATE?ge(K.disparityTrueNegativeRate):((ee=s.value)==null?void 0:ee.value)===I.SEGMENTED_ADVERSE_IMPACT_RATIO?Rt():((Te=s.value)==null?void 0:Te.value)===I.CATEGORICAL_ADVERSE_IMPACT_RATIO?Ft():((Le=s.value)==null?void 0:Le.value)===I.RESIDUAL_STANDARDIZED_MEAN_DIFFERENCE?It():((Be=s.value)==null?void 0:Be.value)===I.ODDS_RATIO?Pt():((Qe=s.value)==null?void 0:Qe.value)===I.PRECISION?ge(K.disparityPrecision):((ze=s.value)==null?void 0:ze.value)===I.PRECISION&&qt()};return{step:f,vertical:ft,showStepper:o,showResults:l,handleProgressNext:()=>{f.value===t?Ot():f.value+=1},protectedGroups:X,referenceGroups:le,groupCategories:oe,outcome:D,airThreshold:V,percentDifferenceThreshold:j,label:u,sampleWeight:d,maxForFishers:E,shortfallMethod:c,rawResult:x,plot:h,resultTableData:B,columns:pt,tableFullScreen:se,disparityCalculation:s,showAirOptions:Ie,shortfallMethods:vt,dataColumns:mt,confirmStart:Tt,resetPage:()=>{window.location.reload()},dataSource:M,store:e,disableContinue:ct,numberOfRows:q,protectedGroupColumns:L,referenceGroupColumns:ce,groupCategoryLabels:ve,lowerScoreFavorable:S,showLowerScoreFavorable:At,showCommon:Et,showSmdOptions:St,showMaxForFishers:ht,showShortFall:gt,smdThreshold:O,smdDenominator:U,showRateMetric:$e,ratioThreshold:R,differenceThreshold:$,showAirQuantileOptions:bt,showAirCategoricalOptions:_t,showMergeBins:yt,showSampleWeight:Ct,quantiles:N,mergeBins:Y,errorAlert:r,errorAlertResponse:a,fdrThreshold:ie,segment:F,shiftZeros:J,categoryOrder:H,prediction:he}}}),Ga=p("div",{class:"text-h6"},"Errors Occurred",-1),Wa=p("div",{class:"text-h5 q-pb-md"},"Disparity Analysis",-1),Ja=p("div",{class:"row items-center justify-center"},[p("div",{class:"stepper-content"},[p("div",{class:"text-body2 q-pb-md",id:"disparity-disclaimer"},[p("span",{class:"text-bold"},"Disclaimer:"),Z(" This tool is intended to provide insight into the potential presence of disparity and/or bias in predictions and/or outcomes in the data provided by the user. The analysis results generated by the tool do not constitute legal advice. If you have a question about the application of fairness laws to your particular use case, please consult your legal counsel. ")]),p("div",{class:"text-body2 text-bold q-pb-sm"}," To complete the Analysis, you will need to provide the following information: "),p("ol",null,[p("li",null,"Protected/Reference Group Information"),p("li",null,"Fairness Metric"),p("li",null,"Model Prediction Data / Results Data"),p("li",null,"Validation Data")])])],-1),Ya={class:"row items-center justify-center"},Ka={class:"stepper-content"},Za=p("div",{class:"text-h6 q-mb-sm"}," Provide a Data Source for Analysis ",-1),Ha={class:"stepper-content"},Xa=p("div",{class:"text-h6 q-pb-md"}," Define the protected and reference classes in your data ",-1),el={class:"col q-ma-sm"},tl={class:"col q-ma-sm"},al={class:"col q-ma-sm"},ll=p("div",{class:"text-h6 q-pb-md"}," Define the disparity metric to use and associated parameters ",-1),ol={class:"row"},rl={class:"col-sm-6 q-pa-md"},nl={class:"col-sm-6 q-pa-md"},sl=p("div",{class:"text-h6 q-pb-md"}," Review the information you provided and then run the analysis ",-1),il=p("td",{class:"text-bold"},"Data Source",-1),ul=p("br",null,null,-1),dl=p("br",null,null,-1),cl=p("td",{class:"text-bold"},"Columns",-1),pl=p("td",{class:"text-bold"},"Disparity Analysis",-1),vl=p("td",{class:"text-bold"},"Protected Groups",-1),ml=p("td",{class:"text-bold"},"Reference Groups",-1),fl=p("td",{class:"text-bold"},"Categories",-1),hl={key:0},gl=p("td",{class:"text-bold"},"Outcome",-1),bl={key:1},_l=p("td",{class:"text-bold"},"Label",-1),yl={key:2},Sl=p("td",{class:"text-bold"},"Sample Weight",-1),Al={key:3},El=p("td",{class:"text-bold"},"Shortfall Method",-1),Cl={style:{display:"flex","justify-content":"center"}},Tl={class:"row items-center justify-evenly q-pa-md"},Dl={ref:"plot"},Vl={class:"text-center"};function Il(e,t,b,f,o,l){const r=sa("UploadData");return G(),me(fa,{padding:""},{default:T(()=>[v(ua,{modelValue:e.errorAlert,"onUpdate:modelValue":t[0]||(t[0]=a=>e.errorAlert=a)},{default:T(()=>[v(je,null,{default:T(()=>[v(rt,null,{default:T(()=>[Ga]),_:1}),v(Ue,null,{default:T(()=>[(G(!0),re(Fe,null,Pe(e.errorAlertResponse.body.detail,a=>(G(),me(qe,{key:a},{default:T(()=>[v(Oe,null,{default:T(()=>[v(pe,null,{default:T(()=>[Z(z(a.loc[1]),1)]),_:2},1024),v(pe,{caption:""},{default:T(()=>[Z(z(a.msg),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),v(ia,{align:"right"},{default:T(()=>[Q(v(Se,{flat:"",label:"OK",color:"primary"},null,512),[[wa]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Wa,e.showStepper?(G(),me(Ia,{key:0,modelValue:e.step,"onUpdate:modelValue":t[20]||(t[20]=a=>e.step=a),ref:"stepper","done-color":"dark","active-color":"secondary",vertical:e.vertical,animated:""},{navigation:T(()=>[v(Ta,null,{default:T(()=>[p("div",Cl,[e.step>1?(G(),me(Se,{key:0,flat:"",color:"secondary",onClick:t[19]||(t[19]=a=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):be("",!0),v(Se,{onClick:e.handleProgressNext,color:"secondary",label:e.step===5?"Run Analysis":"Continue",class:"on-right",disable:e.disableContinue},null,8,["onClick","label","disable"])])]),_:1})]),default:T(()=>[v(De,{name:1,icon:"info",done:e.step>1,title:"Intro"},{default:T(()=>[Ja]),_:1},8,["done"]),v(De,{name:2,title:"Data",icon:"upload",done:e.step>2},{default:T(()=>[p("div",Ya,[p("div",Ka,[Za,v(r,{modelValue:e.dataSource,"onUpdate:modelValue":t[1]||(t[1]=a=>e.dataSource=a),id:"upload-data-component"},null,8,["modelValue"])])])]),_:1},8,["done"]),v(De,{name:3,title:"Demographics",icon:"assignment",done:e.step>3},{default:T(()=>[p("div",Ha,[Xa,(G(!0),re(Fe,null,Pe(e.numberOfRows,a=>(G(),re("div",{key:a,class:"row"},[p("div",el,[v(ne,{modelValue:e.protectedGroupColumns[a],"onUpdate:modelValue":h=>e.protectedGroupColumns[a]=h,options:e.dataColumns,id:"protected-class-"+a,label:"Protected Group "+a},null,8,["modelValue","onUpdate:modelValue","options","id","label"])]),p("div",tl,[v(ne,{modelValue:e.referenceGroupColumns[a],"onUpdate:modelValue":h=>e.referenceGroupColumns[a]=h,options:e.dataColumns,id:"reference-class-"+a,label:"Reference Group "+a},null,8,["modelValue","onUpdate:modelValue","options","id","label"])]),p("div",al,[v(ue,{modelValue:e.groupCategoryLabels[a],"onUpdate:modelValue":h=>e.groupCategoryLabels[a]=h,id:"group-label-"+a,label:"Group Label "+a},null,8,["modelValue","onUpdate:modelValue","id","label"])])]))),128)),v(Se,{onClick:t[2]||(t[2]=a=>e.numberOfRows++),label:"Add Row"})])]),_:1},8,["done"]),v(De,{name:4,title:"Disparity",icon:"diversity_3",done:e.step>4},{default:T(()=>[ll,p("div",ol,[p("div",rl,[v(ne,{modelValue:e.disparityCalculation,"onUpdate:modelValue":t[3]||(t[3]=a=>e.disparityCalculation=a),options:e.store.availableMetrics(),id:"avail-metrics",label:"What Disparity Metric are you using?"},null,8,["modelValue","options"]),Q(v(ue,{modelValue:e.airThreshold,"onUpdate:modelValue":t[4]||(t[4]=a=>e.airThreshold=a),id:"air-threshold",label:"AIR Threshold",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showAirOptions]]),Q(v(ue,{modelValue:e.smdThreshold,"onUpdate:modelValue":t[5]||(t[5]=a=>e.smdThreshold=a),id:"smd-threshold",label:"SMD Threshold",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showSmdOptions]]),Q(v(ue,{modelValue:e.ratioThreshold,"onUpdate:modelValue":t[6]||(t[6]=a=>e.ratioThreshold=a),id:"ratio-threshold",label:"Ratio Threshold",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showRateMetric]]),Q(v(ue,{modelValue:e.differenceThreshold,"onUpdate:modelValue":t[7]||(t[7]=a=>e.differenceThreshold=a),id:"difference-threshold",label:"Difference Threshold",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showRateMetric]]),Q(v(ne,{modelValue:e.smdDenominator,"onUpdate:modelValue":t[8]||(t[8]=a=>e.smdDenominator=a),id:"smd-denominator",label:"SMD Denominator",class:"q-mt-sm",options:e.store.smdDenominators()},null,8,["modelValue","options"]),[[W,e.showSmdOptions]]),Q(v(ue,{modelValue:e.percentDifferenceThreshold,"onUpdate:modelValue":t[9]||(t[9]=a=>e.percentDifferenceThreshold=a),id:"percent-diff-threshold",label:"Percent Difference Threshold",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showAirOptions]]),Q(v(ue,{modelValue:e.maxForFishers,"onUpdate:modelValue":t[10]||(t[10]=a=>e.maxForFishers=a),id:"max-for-fishers",label:"Max For Fisher's (optional)",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showMaxForFishers]]),Q(v(ue,{modelValue:e.quantiles,"onUpdate:modelValue":t[11]||(t[11]=a=>e.quantiles=a),id:"quantiles",label:"Quantiles",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showAirQuantileOptions]]),Q(v(ue,{modelValue:e.categoryOrder,"onUpdate:modelValue":t[12]||(t[12]=a=>e.categoryOrder=a),id:"category-order",label:"Category Order",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showAirCategoricalOptions]]),Q(v(ne,{modelValue:e.mergeBins,"onUpdate:modelValue":t[13]||(t[13]=a=>e.mergeBins=a),options:[{label:"Yes",value:!0},{label:"No",value:!1}],id:"merge-bins",label:"Merge bins?",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showMergeBins]]),Q(v(ne,{modelValue:e.shortfallMethod,"onUpdate:modelValue":t[14]||(t[14]=a=>e.shortfallMethod=a),options:e.shortfallMethods,id:"shortfall-method",label:"Shortfall Method (optional)",class:"q-mt-sm"},null,8,["modelValue","options"]),[[W,e.showShortFall]])]),p("div",nl,[Q(v(ne,{modelValue:e.outcome,"onUpdate:modelValue":t[15]||(t[15]=a=>e.outcome=a),label:"Which column contains the prediction or outcome?",class:"q-mt-sm",options:e.dataColumns},null,8,["modelValue","options"]),[[W,e.showCommon]]),Q(v(ne,{modelValue:e.label,"onUpdate:modelValue":t[16]||(t[16]=a=>e.label=a),label:"Which column contains the label? (optional)",class:"q-mt-sm",options:e.dataColumns},null,8,["modelValue","options"]),[[W,e.showCommon]]),Q(v(ne,{modelValue:e.sampleWeight,"onUpdate:modelValue":t[17]||(t[17]=a=>e.sampleWeight=a),options:e.dataColumns,id:"sample-weights",label:"Which column has sample weights? (optional)",class:"q-mt-sm"},null,8,["modelValue","options"]),[[W,e.showSampleWeight]]),Q(v(ne,{modelValue:e.lowerScoreFavorable,"onUpdate:modelValue":t[18]||(t[18]=a=>e.lowerScoreFavorable=a),options:[{label:"Yes",value:!0},{label:"No",value:!1}],id:"lower-score-favorable",label:"Is a lower score favorable?",class:"q-mt-sm"},null,8,["modelValue"]),[[W,e.showLowerScoreFavorable]])])])]),_:1},8,["done"]),v(De,{name:5,title:"Confirm",caption:"",icon:"check"},{default:T(()=>[sl,v(ma,{flat:"","wrap-cells":""},{default:T(()=>{var a,h;return[p("tbody",null,[p("tr",null,[il,p("td",null,[Z(z((a=e.dataSource)==null?void 0:a.id),1),ul,Z(" "+z((h=e.dataSource)==null?void 0:h.filename),1),dl,Z(" ("+z(e.dataSource.cols)+" columns x "+z(e.dataSource.rows)+" rows) ",1)])]),p("tr",null,[cl,p("td",null,[(G(!0),re(Fe,null,Pe(e.dataSource.column_names,D=>(G(),me(fe,{key:D,class:"q-mr-xs",dense:"",color:"dark",outline:""},{default:T(()=>[Z(z(D),1)]),_:2},1024))),128))])]),p("tr",null,[pl,p("td",null,z(e.disparityCalculation.label),1)]),p("tr",null,[vl,p("td",null,z(e.protectedGroups),1)]),p("tr",null,[ml,p("td",null,z(e.referenceGroups),1)]),p("tr",null,[fl,p("td",null,z(e.groupCategories),1)]),e.outcome?(G(),re("tr",hl,[gl,p("td",null,[v(fe,{class:"q-mr-xs",dense:"",color:"dark",outline:""},{default:T(()=>[Z(z(e.outcome.value),1)]),_:1})])])):be("",!0),e.label?(G(),re("tr",bl,[_l,p("td",null,[v(fe,{class:"q-mr-xs",dense:"",color:"dark",outline:""},{default:T(()=>[Z(z(e.label.value),1)]),_:1})])])):be("",!0),e.sampleWeight?(G(),re("tr",yl,[Sl,p("td",null,[v(fe,{class:"q-mr-xs",dense:"",color:"dark",outline:""},{default:T(()=>[Z(z(e.sampleWeight.value),1)]),_:1})])])):be("",!0),e.shortfallMethod?(G(),re("tr",Al,[El,p("td",null,[v(fe,{class:"q-mr-xs",dense:"",color:"dark",outline:""},{default:T(()=>[Z(z(e.shortfallMethod.value),1)]),_:1})])])):be("",!0)])]}),_:1})]),_:1})]),_:1},8,["modelValue","vertical"])):be("",!0),Q(v(je,{flat:"",bordered:"",class:"q-mb-md"},{default:T(()=>[p("div",Tl,[p("div",Dl,null,512)]),v(va,{rows:e.resultTableData,dense:"",columns:e.columns,bordered:"",fullscreen:e.tableFullScreen,separator:"horizontal","hide-bottom":"",flat:"","rows-per-page-options":[1/0]},null,8,["rows","columns","fullscreen"])]),_:1},512),[[W,e.showResults]]),p("div",Vl,[Q(v(Se,{color:"green",label:"Finish","no-caps":"",onClick:e.confirmStart,class:"no-print"},null,8,["onClick"]),[[W,e.showResults]])])]),_:1})}var xl=ot(xa,[["render",Il]]);export{xl as default};
