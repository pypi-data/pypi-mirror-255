import{C as ee,_ as te}from"./ChatRecprdsHeader-ZLk5UC8B.js";import{h as L}from"./axios--FnjuHWf.js";import{d as T,o as i,c as l,a as e,t as m,_ as E,r as c,b as q,e as $,f as a,u as H,i as K,g as se,w as M,h as D,j as Y,k as N,F as ne,l as ie,n as A,m as V,p as R,v as F,E as oe,q as le,s as O,x as ae}from"./index-iFreVxCx.js";import{_ as ce}from"./HomeView.vue_vue_type_script_setup_true_lang-x1G08O-T.js";const re={class:"chat-content"},de={key:0,class:"word"},ue=["src"],_e={class:"info"},he={class:"time"},ve=["innerHTML"],fe={key:1,class:"word-my"},pe={class:"info"},me={class:"time"},ye=["innerHTML"],ge=["src"],we=T({__name:"MessageText",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""}},setup(t){const r=n=>(n=n.replace(/\n/g,"<br>"),new DOMParser().parseFromString(n,"text/html").body.innerHTML);return(n,o)=>(i(),l("div",re,[t.is_sender?(i(),l("div",fe,[e("div",pe,[e("p",me,m(t.direction),1),e("div",{class:"info-content",innerHTML:r(t.content)},null,8,ye)]),e("img",{src:t.headUrl},null,8,ge)])):(i(),l("div",de,[e("img",{src:t.headUrl},null,8,ue),e("div",_e,[e("p",he,m(t.direction),1),e("div",{class:"info-content",innerHTML:r(t.content)},null,8,ve)])]))]))}}),xe=E(we,[["__scopeId","data-v-d930be9e"]]),$e={class:"chat-content"},be={key:0,class:"word"},ke=["src"],Se={class:"info"},Ue={class:"time"},Me={class:"demo-image__preview"},Te={key:1,class:"word-my"},Ve={class:"info"},De={class:"time"},ze={class:"demo-image__preview"},Ce=["src"],He=T({__name:"MessageImg",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const r=t,n=c("");q(async()=>{n.value=await o(r.src)});const o=async _=>{try{return await L.post("/api/img",{img_path:_})}catch(u){return console.error("Error fetching data:",u),""}};return(_,u)=>{const g=$("el-image");return i(),l("div",$e,[t.is_sender?(i(),l("div",Te,[e("div",Ve,[e("p",De,m(t.direction),1),e("div",ze,[a(g,{style:{"max-width":"150px","max-height":"150px"},src:n.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[n.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])]),e("img",{src:t.headUrl},null,8,Ce)])):(i(),l("div",be,[e("img",{src:t.headUrl},null,8,ke),e("div",Se,[e("p",Ue,m(t.direction),1),e("div",Me,[a(g,{style:{"max-width":"150px","max-height":"150px"},src:n.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[n.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])])]))])}}}),Ee=E(He,[["__scopeId","data-v-2190d708"]]),je={class:"chat-content"},Ie={key:0,class:"word"},Ne=["src"],Le={class:"info"},Re={class:"time"},Fe={class:"demo-video__preview"},Oe={controls:"",width:"30%"},qe=["src"],Be={key:1,class:"word-my"},Ae={class:"info"},Pe={class:"time"},We={class:"demo-video__preview"},Ge={controls:"",width:"50%"},Ke=["src"],Ye=["src"],Je=T({__name:"MessageVideo",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const r=t,n=c("");return q(async()=>{n.value=`/api/video/${r.src}`}),(o,_)=>(i(),l("div",je,[t.is_sender?(i(),l("div",Be,[e("div",Ae,[e("p",Pe,m(t.direction),1),e("div",We,[e("video",Ge,[e("source",{src:n.value,type:"video/mp4"},null,8,Ke)])])]),e("img",{src:t.headUrl},null,8,Ye)])):(i(),l("div",Ie,[e("img",{src:t.headUrl},null,8,Ne),e("div",Le,[e("p",Re,m(t.direction),1),e("div",Fe,[e("video",Oe,[e("source",{src:n.value,type:"video/mp4"},null,8,qe)])])])]))]))}}),Qe=E(Je,[["__scopeId","data-v-f0fe7ab3"]]),Xe={class:"chat-content"},Ze={key:0,class:"word"},et=["src"],tt={class:"info"},st={class:"time"},nt={controls:"",style:{"background-color":"#fff"}},it=["src"],ot={key:1,class:"word-my"},lt={class:"info"},at={class:"time"},ct={controls:"",style:{"background-color":"#95EC69"}},rt=["src"],dt=["src"],ut=T({__name:"MessageAudio",props:{is_sender:{type:Number,default:0},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""},msg:{type:String,default:""}},setup(t){return(r,n)=>(i(),l("div",Xe,[t.is_sender?(i(),l("div",ot,[e("div",lt,[e("p",at,m(t.direction),1),e("audio",ct,[e("source",{src:t.src,type:"audio/wav"},null,8,rt)]),a(H(K),{rows:1,readonly:!0,value:t.msg,style:{width:"100%"}},null,8,["value"])]),e("img",{src:t.headUrl},null,8,dt)])):(i(),l("div",Ze,[e("img",{src:t.headUrl},null,8,et),e("div",tt,[e("p",st,m(t.direction),1),e("audio",nt,[e("source",{src:t.src,type:"audio/wav"},null,8,it)]),a(H(K),{rows:1,readonly:!0,value:t.msg,style:{width:"100%"}},null,8,["value"])])]))]))}}),_t=E(ut,[["__scopeId","data-v-0d0f2cd4"]]),ht={class:"chat-content"},vt={key:0,class:"word"},ft=["src"],pt={class:"info"},mt={class:"time"},yt={style:{float:"left"}},gt=["href"],wt={key:1,class:"word-my"},xt={class:"info"},$t={class:"time"},bt={style:{float:"right"}},kt=["href"],St=["src"],Ut=T({__name:"MessageFile",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const r=t,n=c(""),o=se({file_name:String,file_size:Number,file_size_unit:String});q(async()=>{console.log("文件加载中");const u=await _(r.src);console.log(u),o.file_name=u.file_name,o.file_size=Number(u.file_size)/1024,o.file_size<1024?o.file_size_unit="kb":(o.file_size=o.file_size/1024,o.file_size_unit="mb"),o.file_size=Number(u.file_size)/1024,n.value=`/api/file/${r.src}`});const _=async u=>{try{return await L.post("/api/file_info",{file_path:u})}catch(g){return console.error("Error fetching file_info:",g),""}};return(u,g)=>{const h=$("el-card");return i(),l("div",ht,[t.is_sender?(i(),l("div",wt,[e("div",xt,[e("p",$t,m(t.direction),1),e("div",bt,[a(h,{shadow:"hover",style:{width:"fit-content"}},{default:M(()=>[D("文件 ： "),e("a",{href:n.value,download:""},m(o.file_name),9,kt),e("div",null,[D(" 文件大小："),e("span",null,m(o.file_size)+m(o.file_size_unit),1)])]),_:1})])]),e("img",{src:t.headUrl},null,8,St)])):(i(),l("div",vt,[e("img",{src:t.headUrl},null,8,ft),e("div",pt,[e("p",mt,m(t.direction),1),e("div",yt,[a(h,{shadow:"hover",style:{width:"fit-content"}},{default:M(()=>[D("文件 ： "),e("a",{href:n.value,download:""},m(o.file_name),9,gt),e("div",null,[D(" 文件大小："),e("span",null,m(o.file_size)+m(o.file_size_unit),1)])]),_:1})])])]))])}}}),Mt=E(Ut,[["__scopeId","data-v-945a4135"]]),Tt={class:"chat-content"},Vt={key:0,class:"word"},Dt=["src"],zt={class:"info"},Ct={class:"time"},Ht={class:"demo-image__preview"},Et={key:1,class:"word-my"},jt={class:"info"},It={class:"time"},Nt={class:"demo-image__preview"},Lt=["src"],Rt=T({__name:"MessageEmoji",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""},src:{type:String,default:""}},setup(t){const r=t,n=c("");return q(()=>{n.value=r.src}),(o,_)=>{const u=$("el-image");return i(),l("div",Tt,[t.is_sender?(i(),l("div",Et,[e("div",jt,[e("p",It,m(t.direction),1),e("div",Nt,[a(u,{style:{"max-width":"150px","max-height":"150px"},src:n.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[n.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])]),e("img",{src:t.headUrl},null,8,Lt)])):(i(),l("div",Vt,[e("img",{src:t.headUrl},null,8,Dt),e("div",zt,[e("p",Ct,m(t.direction),1),e("div",Ht,[a(u,{style:{"max-width":"150px","max-height":"150px"},src:n.value,"zoom-rate":1.2,"max-scale":7,"min-scale":.2,"preview-src-list":[n.value],"initial-index":4,fit:"cover"},null,8,["src","preview-src-list"])])])]))])}}}),Ft=E(Rt,[["__scopeId","data-v-39abf529"]]),Ot={class:"chat-content"},qt={key:0,class:"word"},Bt=["src"],At={class:"info"},Pt={class:"time"},Wt=["innerHTML"],Gt={key:1,class:"word-my"},Kt={class:"info"},Yt={class:"time"},Jt=["innerHTML"],Qt=["src"],Xt=T({__name:"MessageOther",props:{is_sender:{type:Number,default:0},content:{type:String,default:""},headUrl:{type:String,default:""},direction:{type:String,default:""}},setup(t){const r=n=>(n=n.replace(/\n/g,"<br>"),new DOMParser().parseFromString(n,"text/html").body.innerHTML);return(n,o)=>(i(),l("div",Ot,[t.is_sender?(i(),l("div",Gt,[e("div",Kt,[e("p",Yt,m(t.direction),1),e("div",{class:"info-content",innerHTML:r(t.content)},null,8,Jt)]),e("img",{src:t.headUrl},null,8,Qt)])):(i(),l("div",qt,[e("img",{src:t.headUrl},null,8,Bt),e("div",At,[e("p",Pt,m(t.direction),1),e("div",{class:"info-content",innerHTML:r(t.content)},null,8,Wt)])]))]))}}),Zt=E(Xt,[["__scopeId","data-v-e529325a"]]),es={id:"chat"},ts={class:"chat_body"},ss={class:"chat_window",ref:"chatWindow"},ns={key:0,class:"load_more",style:{display:"flex","justify-content":"center","margin-top":"10px","margin-bottom":"10px"}},is=T({__name:"ChatRecordsMain",props:{userData:{type:Object,required:!0},setScrollTop:{type:Function,required:!0},updateScrollTop:{type:Function,required:!0}},setup(t,{expose:r}){const n=t,o=c([]),_=c({}),u=c(""),g=c(50),h=c(0),b=c(!1),z=async(v,S,f)=>{try{const s=await L.post("/api/msgs",{start:v,limit:S,wxid:f});return o.value=s.msg_list,_.value=s.user_list,u.value=s.my_wxid,s}catch(s){return console.error("Error fetching data:",s),[]}},C=async()=>{try{h.value=n.userData.chat_count-g.value,await z(h.value,g.value,n.userData.username),b.value||await A(()=>{n.setScrollTop(),b.value=!1})}catch(v){return console.error("Error fetching data:",v),[]}};q(C),Y(()=>n.userData.username,(v,S)=>{console.log("username changed",v,S),o.value=[],b.value=!1,C()});const k=v=>(v.talker=="我"&&(v.talker=u.value),`${(f=>_.value.hasOwnProperty(f.talker)?_.value[f.talker].remark?_.value[f.talker].remark:_.value[f.talker].nickname?_.value[f.talker].nickname:_.value[f.talker].account?_.value[f.talker].account:f.talker:f.talker)(v)} [${v.type_name}] ${v.CreateTime}`),y=v=>(v.talker=="我"&&(v.talker=u.value),_.value.hasOwnProperty(v.talker)?_.value[v.talker].headImgUrl:""),j=async()=>{let v=g.value,S=h.value-v;const f=await L.post("/api/msgs",{start:S,limit:v,wxid:n.userData.username});h.value=S,o.value=f.msg_list.concat(o.value),o.value.sort((s,U)=>s.id-U.id),o.value=o.value.filter((s,U,w)=>U===0||s.id!==w[U-1].id),_.value=Object.assign(_.value,f.user_list),await A(()=>{n.updateScrollTop()})};return r({loadMore:j}),(v,S)=>{const f=$("el-button");return i(),l("div",es,[e("div",ts,[e("div",ss,[o.value.length<t.userData.chat_count?(i(),l("div",ns,[a(f,{type:"primary",onClick:j},{default:M(()=>[D("查看更多消息")]),_:1})])):N("",!0),(i(!0),l(ne,null,ie(o.value,(s,U)=>(i(),l("div",{class:"message",key:U},[s.type_name=="文本"?(i(),V(xe,{key:0,is_sender:s.is_sender,direction:k(s),headUrl:y(s),content:s.content.msg},null,8,["is_sender","direction","headUrl","content"])):s.type_name=="图片"?(i(),V(Ee,{key:1,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="动画表情"?(i(),V(Ft,{key:2,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="视频"?(i(),V(Qe,{key:3,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="文件"?(i(),V(Mt,{key:4,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:s.content.src},null,8,["is_sender","direction","headUrl","src"])):s.type_name=="语音"?(i(),V(_t,{key:5,is_sender:s.is_sender,direction:k(s),headUrl:y(s),src:"/api/"+s.content.src,msg:s.content.msg},null,8,["is_sender","direction","headUrl","src","msg"])):(i(),V(Zt,{key:6,is_sender:s.is_sender,direction:k(s),headUrl:y(s),content:s.content.msg},null,8,["is_sender","direction","headUrl","content"]))]))),128))],512)])])}}}),os=E(is,[["__scopeId","data-v-66326f84"]]),ls=T({__name:"ChatRecords",props:{userData:{type:Object,required:!0}},setup(t){const r=c(null),n=c(null);c(0);const o=c(0),_=()=>{A(()=>{if(r.value){const h=r.value.$el.children[0];h&&(h.scrollTop=h.scrollHeight,o.value=h.scrollHeight)}})},u=()=>{const h=r.value.$el.children[0];if(h){const b=o.value,z=h.scrollHeight-b;h.scrollTop=h.scrollTop+z,o.value=h.scrollHeight}};function g({scrollTop:h}){h===0&&n.value&&n.value.loadMore()}return(h,b)=>{const z=$("el-header"),C=$("el-scrollbar"),k=$("el-main"),y=$("el-container");return i(),V(y,null,{default:M(()=>[a(z,{style:{height:"65px","max-height":"65px",width:"100%","background-color":"#d2d2fa","padding-top":"5px"}},{default:M(()=>[a(ee,{userData:t.userData},null,8,["userData"])]),_:1}),a(k,{style:{"overflow-y":"auto",height:"calc(100vh - 65px)",padding:"0"}},{default:M(()=>[a(C,{ref_key:"scrollbarRef",ref:r,onScroll:g},{default:M(()=>[a(os,{ref_key:"chatRecordsMainRef",ref:n,userData:t.userData,setScrollTop:_,updateScrollTop:u},null,8,["userData"])]),_:1},512)]),_:1})]),_:1})}}}),as={style:{"background-color":"#d2d2fa",height:"100vh",display:"flex","justify-content":"center","align-items":"center"}},cs={key:0},rs={key:1,style:{"background-color":"#fff",width:"90%","min-width":"800px",height:"80%","border-radius":"10px",padding:"20px",overflow:"auto"}},ds=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{style:{"font-size":"20px","font-weight":"bold"}},"选择要查看的微信")],-1),us={style:{"margin-top":"20px"}},_s={style:{"margin-top":"20px"}},hs={key:1},vs={style:{"background-color":"#fff",width:"80%","min-width":"800px",height:"70%","border-radius":"10px",padding:"20px",overflow:"auto"}},fs=e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[e("div",{style:{"font-size":"20px","font-weight":"bold"}},"自定义-文件位置"),e("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}})],-1),ps={style:{"margin-top":"20px"}},ms={key:0},ys=e("label",null,"MicroMsg.db 路径: ",-1),gs=e("br",null,null,-1),ws={key:1},xs=e("label",null,"MSG.db 路径: ",-1),$s=e("br",null,null,-1),bs={key:2},ks=e("label",null,"MediaMSG.db 路径: ",-1),Ss=e("br",null,null,-1),Us=e("label",null,"微信文件夹路径: ",-1),Ms=e("br",null,null,-1),Ts=e("label",null,"微信原始id: ",-1),Vs=e("br",null,null,-1),Ds={key:3},zs=e("label",null,"密钥key(可空): ",-1),Cs=e("br",null,null,-1),Hs={key:2},Es={key:3,style:{display:"flex","justify-content":"space-between"}},js={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px","margin-right":"20px"}},Is=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,"使用上次数据")],-1),Ns={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px","margin-right":"20px"}},Ls=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,"自动解密已登录微信")],-1),Rs={style:{width:"200px",height:"150px","background-color":"#fff",display:"flex","flex-direction":"column","align-items":"center","border-radius":"10px"}},Fs=e("div",{style:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"100%"}},[e("div",null,"自定义文件位置")],-1),Os=T({__name:"IsAutoShow",emits:["isAutoShow"],setup(t,{emit:r}){const n=c(0),o=c(500),_=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],u=c(new Date().getTime()),g=()=>{k.value||(u.value=new Date().getTime(),!(n.value>=99)&&(n.value>=80&&(o.value=o.value+50),n.value=n.value+1,setTimeout(g,o.value)))},h=c(!1),b=c([]),z=c(""),C=c(!1);c("");const k=c(!1),y=c("false"),j=c(""),v=c(""),S=c(""),f=c(""),s=c(""),U=c(""),w=c(""),J=r,Q=async()=>{try{b.value=await L.post("/api/wxinfo"),b.value.length===1&&(P(b.value[0]),z.value=" (检测到只有一个微信，将在5秒后自动选择) ",setTimeout(W,5e3))}catch(x){return console.error("Error fetching data:",x),[]}},P=async x=>{j.value="",v.value="",S.value="",f.value=x.filePath,s.value=x.key,U.value=x.wxid},W=()=>{f.value===""&&s.value===""&&U.value===""||C.value||(console.log(f.value,s.value,U.value),C.value=!0,B(),g())},B=async()=>{try{let x={msg_path:j.value,micro_path:v.value,media_path:S.value,wx_path:f.value,key:s.value,my_wxid:U.value,init_type:w.value};const d=await L.post("/api/init",x);h.value=d.is_init,d.is_init&&(n.value=100),J("isAutoShow",d.is_init)}catch(x){return n.value=0,k.value=!0,oe.alert(x,"error",{confirmButtonText:"确认",callback:d=>{le({type:"error",message:`action: ${d}`})}}),[]}};return Y(w,x=>{x==="auto"?Q():x==="custom"||x==="last"&&B()}),(x,d)=>{const X=$("el-progress"),G=$("el-button"),Z=$("el-divider"),I=$("el-input");return i(),l("div",as,[w.value==="auto"?(i(),l("div",cs,[C.value&&!k.value?(i(),V(X,{key:0,type:"dashboard",percentage:n.value,color:_},null,8,["percentage"])):(i(),l("div",rs,[ds,e("div",us,[a(H(ae),{data:b.value,onCurrentChange:P,"highlight-current-row":"",style:{width:"100%"}},{default:M(()=>[a(H(O),{"min-width":30,prop:"pid",label:"进程id"}),a(H(O),{"min-width":40,prop:"version",label:"微信版本"}),a(H(O),{"min-width":40,prop:"account",label:"账号"}),a(H(O),{"min-width":40,prop:"name",label:"昵称"}),a(H(O),{"min-width":50,prop:"wxid",label:"微信原始id"})]),_:1},8,["data"])]),e("div",_s,[a(G,{style:{"margin-right":"10px","margin-top":"10px",width:"100%"},type:"success",onClick:W},{default:M(()=>[D("确定"+m(z.value),1)]),_:1})])]))])):w.value==="custom"?(i(),l("div",hs,[e("div",vs,[fs,e("div",ps,[R(e("input",{type:"radio","onUpdate:modelValue":d[0]||(d[0]=p=>y.value=p),value:"true"},null,512),[[F,y.value]]),D(" 使用 KEY [自动根据key解密微信文件夹下的数据库]          "),R(e("input",{type:"radio","onUpdate:modelValue":d[1]||(d[1]=p=>y.value=p),value:"false"},null,512),[[F,y.value]]),D(" 不使用 KEY [表示数据库已解密] "),a(Z),y.value=="false"?(i(),l("div",ms,[ys,a(I,{placeholder:"MicroMsg.db",modelValue:v.value,"onUpdate:modelValue":d[2]||(d[2]=p=>v.value=p),style:{width:"80%"}},null,8,["modelValue"]),gs])):N("",!0),y.value=="false"?(i(),l("div",ws,[xs,a(I,{placeholder:"MSG.db",modelValue:j.value,"onUpdate:modelValue":d[3]||(d[3]=p=>j.value=p),style:{width:"80%"}},null,8,["modelValue"]),$s])):N("",!0),y.value=="false"?(i(),l("div",bs,[ks,a(I,{placeholder:"MediaMSG.db",modelValue:S.value,"onUpdate:modelValue":d[4]||(d[4]=p=>S.value=p),style:{width:"80%"}},null,8,["modelValue"]),Ss])):N("",!0),Us,a(I,{placeholder:"C:\\***\\WeChat Files\\wxid_*******",modelValue:f.value,"onUpdate:modelValue":d[5]||(d[5]=p=>f.value=p),style:{width:"80%"}},null,8,["modelValue"]),Ms,Ts,a(I,{placeholder:"wxid_*******",modelValue:U.value,"onUpdate:modelValue":d[6]||(d[6]=p=>U.value=p),style:{width:"80%"}},null,8,["modelValue"]),Vs,y.value=="true"?(i(),l("div",Ds,[zs,a(I,{placeholder:"密钥key (64位)",modelValue:s.value,"onUpdate:modelValue":d[7]||(d[7]=p=>s.value=p),style:{width:"80%"}},null,8,["modelValue"]),Cs])):N("",!0),a(G,{style:{"margin-top":"10px",width:"100%"},type:"success",onClick:B},{default:M(()=>[D("确定")]),_:1})])])])):w.value==="last"?(i(),l("div",Hs)):w.value===""?(i(),l("div",Es,[e("label",js,[R(e("input",{type:"radio","onUpdate:modelValue":d[8]||(d[8]=p=>w.value=p),value:"last"},null,512),[[F,w.value]]),Is]),e("label",Ns,[R(e("input",{type:"radio","onUpdate:modelValue":d[9]||(d[9]=p=>w.value=p),value:"auto"},null,512),[[F,w.value]]),Ls]),e("label",Rs,[R(e("input",{type:"radio","onUpdate:modelValue":d[10]||(d[10]=p=>w.value=p),value:"custom"},null,512),[[F,w.value]]),Fs])])):N("",!0)])}}}),qs={id:"chat_view",class:"common-layout"},Bs={key:0},As={key:1},Ps={key:0,style:{height:"calc(100vh)",width:"100%"}},Ws={key:1,style:{width:"100%",height:"100%"}},Qs=T({__name:"ChatView",setup(t){const r=c({account:"",describe:"",headImgUrl:"",nickname:"",remark:"",username:"",chat_count:0}),n=u=>{r.value=u},o=c(!1),_=u=>{o.value=u};return(u,g)=>{const h=$("el-aside"),b=$("el-container");return i(),l("div",qs,[o.value?(i(),l("div",As,[a(b,null,{default:M(()=>[a(h,{width:"auto",style:{"overflow-y":"auto",height:"calc(100vh)"}},{default:M(()=>[a(te,{onUserData:n})]),_:1}),r.value.username!=""?(i(),l("div",Ps,[a(ls,{userData:r.value},null,8,["userData"])])):(i(),l("div",Ws,[a(ce)]))]),_:1})])):(i(),l("div",Bs,[a(Os,{onIsAutoShow:_})]))])}}});export{Qs as default};
