"use strict";(self.webpackChunkrichie_education=self.webpackChunkrichie_education||[]).push([[94167],{94167:function(e,t,n){n.r(t),n(55968),n(10002),n(21135),n(50774),n(90543),n(32346),n(36204),n(19477),n(46021);var o=n(89526),r=n(572),u=n(22242),c=["onSuccess","onError"];function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}t.default=function(e){var t=e.onSuccess,n=e.onError,i=function(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},u=Object.keys(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(o=0;o<u.length;o++)n=u[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,c),l=(0,o.useRef)(),s=function(e){"string"==typeof e.data?"closePayPlugFrame"===e.data&&(l.current=setTimeout((function(){n(u.k.ERROR_ABORTING)}),2e3)):"object"===a(e.data)?"paidByPayPlug"===e.data.event&&(l.current?clearTimeout(l.current):window.Payplug._closeIframe(),t()):(0,r.p)("[PayplugLightbox] - Unknown message type posted.")},f=(0,o.useCallback)((function(){window.Payplug.showPayment(i.url),window.addEventListener("message",s)}),[i.url]);return(0,o.useEffect)((function(){if(!0!==(null==(e=i)?void 0:e.is_paid)){var e;if(window.Payplug)f();else{var o=document.createElement("script");o.src="https://api.payplug.com/js/1/form.latest.js",o.async=!0,document.body.appendChild(o),o.onload=f,o.onerror=function(){return n(u.k.ERROR_DEFAULT)}}return function(){window.removeEventListener("message",s)}}t()}),[]),null}}}]);
//# sourceMappingURL=94167.ab11489e1855f954ae3b.index.js.map