(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4623],{24487:function(e,t,n){"use strict";n.d(t,{At:function(){return h},aG:function(){return v},gN:function(){return m}});var r=n(32393),i=n(14007),a=n(49031),o=n(27378);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],f=["children","spacing","separator","className"],p=(0,r.Gp)((function(e,t){var n=e.spacing,i=s(e,l),a=c({mx:n},(0,r.yK)().separator);return o.createElement(r.m$.span,c({ref:t,role:"presentation"},i,{__css:a}))}));i.Ts&&(p.displayName="BreadcrumbSeparator");var h=(0,r.Gp)((function(e,t){var n=e.isCurrentPage,a=e.as,l=e.className,d=e.href,f=s(e,u),p=(0,r.yK)(),h=c({ref:t,as:a,className:(0,i.cx)("chakra-breadcrumb__link",l)},f);return n?o.createElement(r.m$.span,c({"aria-current":"page",__css:p.link},h)):o.createElement(r.m$.a,c({__css:p.link,href:d},h))}));i.Ts&&(h.displayName="BreadcrumbLink");var m=(0,r.Gp)((function(e,t){var n=e.isCurrentPage,l=e.separator,u=e.isLastChild,f=e.spacing,m=e.children,v=e.className,y=s(e,d),b=(0,a.WR)(m).map((function(e){return e.type===h?o.cloneElement(e,{isCurrentPage:n}):e.type===p?o.cloneElement(e,{spacing:f,children:e.props.children||l}):e})),x=c({display:"inline-flex",alignItems:"center"},(0,r.yK)().item),g=(0,i.cx)("chakra-breadcrumb__list-item",v);return o.createElement(r.m$.li,c({ref:t,className:g},y,{__css:x}),b,!u&&o.createElement(p,{spacing:f},l))}));i.Ts&&(m.displayName="BreadcrumbItem");var v=(0,r.Gp)((function(e,t){var n=(0,r.jC)("Breadcrumb",e),l=(0,r.Lr)(e),u=l.children,d=l.spacing,p=void 0===d?"0.5rem":d,h=l.separator,m=void 0===h?"/":h,v=l.className,y=s(l,f),b=(0,a.WR)(u),x=b.length,g=b.map((function(e,t){return o.cloneElement(e,{separator:m,spacing:p,isLastChild:x===t+1})})),j=(0,i.cx)("chakra-breadcrumb",v);return o.createElement(r.m$.nav,c({ref:t,"aria-label":"breadcrumb",className:j,__css:n.container},y),o.createElement(r.Fo,{value:n},o.createElement(r.m$.ol,{className:"chakra-breadcrumb__list"},g)))}));i.Ts&&(v.displayName="Breadcrumb")},66816:function(e,t,n){"use strict";n.d(t,{Ph:function(){return v}});var r=n(92975),i=n(32393),a=n(75243),o=n(14007),c=n(95282),s=n.n(c),l=n(27378);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var f=["children","placeholder","className"],p=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize","isFullWidth"],h=["children"],m=(0,i.Gp)((function(e,t){var n=e.children,r=e.placeholder,a=e.className,c=d(e,f);return l.createElement(i.m$.select,u({},c,{ref:t,className:(0,o.cx)("chakra-select",a)}),r&&l.createElement("option",{value:""},r),n)}));o.Ts&&(m.displayName="SelectField");var v=(0,i.Gp)((function(e,t){var n=(0,i.jC)("Select",e),c=(0,i.Lr)(e),f=c.rootProps,h=c.placeholder,v=c.icon,y=c.color,b=c.height,g=c.h,j=c.minH,O=c.minHeight,C=c.iconColor,k=c.iconSize;c.isFullWidth;var w=d(c,p),_=(0,o.Vl)(w,a.oE),P=_[0],E=_[1],D=(0,r.Yp)(E),S={width:"100%",height:"fit-content",position:"relative",color:y},z=s()({paddingEnd:"2rem"},n.field,{_focus:{zIndex:"unset"}});return l.createElement(i.m$.div,u({className:"chakra-select__wrapper",__css:S},P,f),l.createElement(m,u({ref:t,height:null!=g?g:b,minH:null!=j?j:O,placeholder:h},D,{__css:z}),e.children),l.createElement(x,u({"data-disabled":(0,o.PB)(D.disabled)},(C||y)&&{color:C||y},{__css:n.icon},k&&{fontSize:k}),v))}));o.Ts&&(v.displayName="Select");var y=function(e){return l.createElement("svg",u({viewBox:"0 0 24 24"},e),l.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},b=(0,i.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),x=function(e){var t=e.children,n=void 0===t?l.createElement(y,null):t,r=d(e,h),i=l.cloneElement(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return l.createElement(b,u({},r,{className:"chakra-select__icon-wrapper"}),l.isValidElement(n)?i:null)};o.Ts&&(x.displayName="SelectIcon")},40240:function(e,t,n){"use strict";n.d(t,{$R:function(){return b},Td:function(){return j},Th:function(){return x},Tr:function(){return g},hr:function(){return v},iA:function(){return h},p3:function(){return y},xJ:function(){return p}});var r=n(32393),i=n(14007),a=n(27378);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var s=["overflow","overflowX","className"],l=["className"],u=["placement"],d=["isNumeric"],f=["isNumeric"],p=(0,r.Gp)((function(e,t){var n,l=e.overflow,u=e.overflowX,d=e.className,f=c(e,s);return a.createElement(r.m$.div,o({ref:t,className:(0,i.cx)("chakra-table__container",d)},f,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=l?l:u)?n:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),h=(0,r.Gp)((function(e,t){var n=(0,r.jC)("Table",e),s=(0,r.Lr)(e),u=s.className,d=c(s,l);return a.createElement(r.Fo,{value:n},a.createElement(r.m$.table,o({role:"table",ref:t,__css:n.table,className:(0,i.cx)("chakra-table",u)},d)))}));i.Ts&&(h.displayName="Table");var m=(0,r.Gp)((function(e,t){var n=e.placement,i=void 0===n?"bottom":n,s=c(e,u),l=(0,r.yK)();return a.createElement(r.m$.caption,o({},s,{ref:t,__css:o({},l.caption,{captionSide:i})}))}));i.Ts&&(m.displayName="TableCaption");var v=(0,r.Gp)((function(e,t){var n=(0,r.yK)();return a.createElement(r.m$.thead,o({},e,{ref:t,__css:n.thead}))})),y=(0,r.Gp)((function(e,t){var n=(0,r.yK)();return a.createElement(r.m$.tbody,o({},e,{ref:t,__css:n.tbody}))})),b=(0,r.Gp)((function(e,t){var n=(0,r.yK)();return a.createElement(r.m$.tfoot,o({},e,{ref:t,__css:n.tfoot}))})),x=(0,r.Gp)((function(e,t){var n=e.isNumeric,i=c(e,d),s=(0,r.yK)();return a.createElement(r.m$.th,o({},i,{ref:t,__css:s.th,"data-is-numeric":n}))})),g=(0,r.Gp)((function(e,t){var n=(0,r.yK)();return a.createElement(r.m$.tr,o({role:"row"},e,{ref:t,__css:n.tr}))})),j=(0,r.Gp)((function(e,t){var n=e.isNumeric,i=c(e,f),s=(0,r.yK)();return a.createElement(r.m$.td,o({role:"gridcell"},i,{ref:t,__css:s.td,"data-is-numeric":n}))}))},30794:function(e,t,n){"use strict";n.d(t,{SD:function(){return h},Sn:function(){return u},Vp:function(){return l}});var r=n(13018),i=n(32393),a=n(14007),o=n(27378);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var s=["isDisabled","children"],l=(0,i.Gp)((function(e,t){var n=(0,i.jC)("Tag",e),r=(0,i.Lr)(e),a=c({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},n.container);return o.createElement(i.Fo,{value:n},o.createElement(i.m$.span,c({ref:t},r,{__css:a})))}));a.Ts&&(l.displayName="Tag");var u=(0,i.Gp)((function(e,t){var n=(0,i.yK)();return o.createElement(i.m$.span,c({ref:t,isTruncated:!0},e,{__css:n.label}))}));a.Ts&&(u.displayName="TagLabel");var d=(0,i.Gp)((function(e,t){return o.createElement(r.JO,c({ref:t,verticalAlign:"top",marginEnd:"0.5rem"},e))}));a.Ts&&(d.displayName="TagLeftIcon");var f=(0,i.Gp)((function(e,t){return o.createElement(r.JO,c({ref:t,verticalAlign:"top",marginStart:"0.5rem"},e))}));a.Ts&&(f.displayName="TagRightIcon");var p=function(e){return o.createElement(r.JO,c({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),o.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))};a.Ts&&(p.displayName="TagCloseIcon");var h=function(e){var t=e.isDisabled,n=e.children,r=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,s),a=c({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},(0,i.yK)().closeButton);return o.createElement(i.m$.button,c({"aria-label":"close"},r,{type:"button",disabled:t,__css:a}),n||o.createElement(p,null))};a.Ts&&(h.displayName="TagCloseButton")},92166:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(29470),i=n(29549),a=n(5008),o=n(34896),c=n(77751),s=n(27378),l=n(24246),u=function(e){var t=e.allColumns,n=e.selectedColumns,u=e.onChange,d=(0,s.useMemo)((function(){var e=new Map;return t.forEach((function(t){return e.set(t.name,!!n.find((function(e){return e.name===t.name})))})),e}),[t,n]),f=function(){d.forEach((function(e,t){return d.set(t,!1)})),u([])},p=function(e){var n,r=null!==(n=d.get(e.name))&&void 0!==n&&n;d.set(e.name,!r),u(t.filter((function(e){return d.get(e.name)})))};return(0,l.jsx)(r.v2,{children:function(e){var s=e.onClose;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.j2,{as:i.zx,rightIcon:(0,l.jsx)(a.mC,{}),variant:"outline",fontWeight:"normal","data-testid":"column-dropdown",children:"Columns"}),(0,l.jsx)(r.qy,{children:(0,l.jsxs)(o.xu,{px:2,children:[(0,l.jsxs)(o.xu,{display:"flex",justifyContent:"space-between",mb:2,children:[(0,l.jsx)(i.zx,{variant:"outline",size:"xs",onClick:f,"data-testid":"column-clear-btn",children:"Clear"}),(0,l.jsx)(i.zx,{size:"xs",colorScheme:"primary",onClick:s,"data-testid":"column-done-btn",children:"Done"})]}),(0,l.jsx)(c.cO,{colorScheme:"complimentary",children:(0,l.jsx)(o.Kq,{children:t.map((function(e){var t=n.filter((function(t){return t.name===e.name})).length>0;return(0,l.jsx)(c.XZ,{id:e.name,_hover:{bg:"gray.100"},isChecked:t,onChange:function(){return p(e)},"data-testid":"checkbox-".concat(e.name),children:e.name},e.name)}))})})]})})]})}})}},43212:function(e,t,n){"use strict";n.d(t,{Gn:function(){return l},zR:function(){return s}});var r=n(60530),i=n(34896),a=n(29549),o=n(5008),c=n(24246),s=function(e){var t=e.title,n=e.onDelete;return(0,c.jsxs)(r.OX,{py:2,display:"flex",alignItems:"center",children:[(0,c.jsx)(i.xv,{mr:"2",children:t}),n?(0,c.jsx)(a.hU,{"aria-label":"delete",icon:(0,c.jsx)(o.lr,{}),size:"xs",onClick:n,"data-testid":"delete-btn"}):null]})},l=function(e){var t=e.onClose,n=e.formId,i=e.isSaving;return(0,c.jsxs)(r.ze,{justifyContent:"flex-start",children:[(0,c.jsx)(a.zx,{onClick:t,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,c.jsx)(a.zx,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",form:n,isLoading:i,children:"Save"})]})};t.ZP=function(e){var t=e.header,n=e.description,s=e.isOpen,l=e.onClose,u=e.children,d=e.footer;return(0,c.jsxs)(r.dy,{placement:"right",isOpen:s,onClose:l,size:"lg",children:[(0,c.jsx)(r.P1,{}),(0,c.jsxs)(r.sc,{"data-testid":"edit-drawer-content",py:2,children:[(0,c.jsx)(i.xu,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,c.jsx)(a.zx,{variant:"ghost",onClick:l,"data-testid":"close-drawer-btn",children:(0,c.jsx)(o.LG,{width:"17px"})})}),t,(0,c.jsxs)(r.Ng,{children:[n?(0,c.jsx)(i.xv,{fontSize:"sm",mb:4,children:n}):null,u]}),d]})]})}},51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(34896),i=n(88038),a=n.n(i),o=n(86677),c=(n(27378),n(90768)),s=n(35100),l=n(64989),u=n(48114),d=n(51365),f=n(29549),p=n(60709),h=n(24246),m=function(){var e=(0,o.useRouter)();return(0,h.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,h.jsxs)(r.xu,{children:[(0,h.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,h.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,h.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(p.fz)},children:"Configure"})]}),(0,h.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=function(e){var t=e.children,n=e.title,i=(0,c.hz)(),f=(0,o.useRouter)(),p="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,v=!(i.flags.privacyRequestsConfiguration&&p),y=(0,d.JE)(void 0,{skip:v}).data,b=(0,d.PW)(void 0,{skip:v}).data,x=i.flags.privacyRequestsConfiguration&&(!y||!b)&&p;return(0,h.jsxs)(r.kC,{"data-testid":n,direction:"column",children:[(0,h.jsxs)(a(),{children:[(0,h.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,h.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,h.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,h.jsx)(s.Z,{}),(0,h.jsx)(u.Z,{}),(0,h.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,h.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,h.jsx)(l.U,{})}),(0,h.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[x?(0,h.jsx)(m,{}):null,t]})]})]})}},52562:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var r=function(e){var t=e.dataCategories,n=e.mostLikelyCategories;return null!==t&&void 0!==t&&t.length?t:null!==n&&void 0!==n&&n.length?[n.reduce((function(e,t){var n,r;return(null!==(n=t.confidence)&&void 0!==n?n:0)>(null!==(r=e.confidence)&&void 0!==r?r:0)?t:e})).fides_key]:[]}},2424:function(e,t,n){"use strict";var r=n(90849),i=n(90089),a=n(30794),o=n(24246),c=["name","onClose"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.name,n=e.onClose,r=(0,i.Z)(e,c),s=l({backgroundColor:"primary.400",color:"white","data-testid":"taxonomy-entity-".concat(t),width:"fit-content",size:"sm"},r);return n?(0,o.jsxs)(a.Vp,l(l({display:"flex",justifyContent:"space-between"},s),{},{children:[(0,o.jsx)(a.Sn,{children:t}),(0,o.jsx)(a.SD,{onClick:n,color:"white"})]})):(0,o.jsx)(a.Vp,l(l({},s),{},{children:t}))}},64929:function(e,t,n){"use strict";n.d(t,{C:function(){return r},P:function(){return i}});var r=function e(t,n){var r;if(null==n&&t.every((function(e){return void 0===e.parent_key})))r=t;else{var i=null!==n&&void 0!==n?n:null;r=t.filter((function(e){return e.parent_key===i}))}return r.map((function(n){var r,i,a=n.fides_key;return{value:n.fides_key,label:""===n.name||null==n.name?n.fides_key:n.name,description:n.description,children:e(t,a),is_default:null!==(r=n.is_default)&&void 0!==r&&r,active:null!==(i=n.active)&&void 0!==i&&i}}))},i=function(e){var t=e.split(".");return 1===t.length?"":t.slice(0,t.length-1).join(".")}},36155:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return et}});var r=n(34896),i=n(24487),a=n(79894),o=n.n(a),c=n(86677),s=n(51471),l=n(83125),u=n(66816),d=n(27378),f=n(60245),p=n(92166),h=n(90768),m=n(44047),v=n(10612),y=n(55732),b=n(97865),x=n(34707),g=n.n(x),j=n(70409),O=n(32393),C=n(29549),k=n(78624),w=n(24753),_=n(37968),P=n(66334),E=n(90849),D=n(65201);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t,n){var r=e.collections.map((function(e,r){return r===n?t:e}));return z(z({},e),{collections:r})},T=function(e,t,n,r){var i=function(e,t,n){var r=e.fields.map((function(e,r){return r===n?t:e}));return z(z({},e),{fields:r})}(e.collections[n],t,r);return N(e,i,n)},Z=function(e){return e.classifications.reduce((function(e,t){var n,r;return(null!==(n=e.aggregated_score)&&void 0!==n?n:0)<(null!==(r=t.aggregated_score)&&void 0!==r?r:0)?t:e}))},I=function(e,t,n){return(0,D.ZP)(e,(function(e){var r=new Map(t.collections.map((function(e){return[e.name,e]})));e.collections.forEach((function(e){var t,i=r.get(e.name);if(!n||(null===i||void 0===i?void 0:i.name)===n){var a=new Map(null===i||void 0===i||null===(t=i.fields)||void 0===t?void 0:t.map((function(e){return[e.name,e]})));e.fields.forEach((function(e){if(!(e.data_categories&&e.data_categories.length>0)){var t=a.get(e.name);if(t&&t.classifications.length>0){var n=Z(t);e.data_categories=[n.label]}}}))}}))}))},A=function(e,t){var n=e.collections.filter((function(e,n){return n!==t}));return z(z({},e),{collections:n})},L=n(24246),F=function(){var e=(0,h.hz)(),t=(0,f.v9)(P.n0),n=(0,f.v9)(m.Bt),i=(0,f.v9)(m.lG),a=(0,P.TG)(),o=(0,b.Z)(a,2),c=o[0],s=o[1].isLoading,l=(0,m.MD)(),u=(0,b.Z)(l,2),p=u[0],v=u[1].isLoading,x=s||v,E=(0,j.pm)(),D=(0,d.useMemo)((function(){var e,t;return null!==(e=null===i||void 0===i||null===(t=i.fields)||void 0===t?void 0:t.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0))&&void 0!==e?e:0}),[i]),S=function(){var r=(0,y.Z)(g().mark((function r(){var a,o,s,l,u;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!x&&t&&n){r.next=2;break}return r.abrupt("return");case 2:return a=I(t,n,e.flags.datasetClassificationUpdates?null===i||void 0===i?void 0:i.name:void 0),r.prev=3,r.next=6,c(a);case 6:if(o=r.sent,!(0,k.D4)(o)){r.next=10;break}return E((0,w.Vo)((0,k.e$)(o.error))),r.abrupt("return");case 10:if(!e.flags.datasetClassificationUpdates){r.next=24;break}if(E((0,w.t5)("Collection classified and approved")),s=0,a.collections.forEach((function(e){e.fields.forEach((function(e){e.data_categories&&0!==e.data_categories.length||(s+=1)}))})),0!==s){r.next=22;break}return r.next=17,p({dataset_fides_key:t.fides_key,status:_.Wg.REVIEWED});case 17:if(l=r.sent,!(0,k.D4)(l)){r.next=21;break}return E((0,w.Vo)((0,k.e$)(l.error))),r.abrupt("return");case 21:E((0,w.t5)("Dataset classified and approved"));case 22:r.next=31;break;case 24:return r.next=26,p({dataset_fides_key:t.fides_key,status:_.Wg.REVIEWED});case 26:if(u=r.sent,!(0,k.D4)(u)){r.next=30;break}return E((0,w.Vo)((0,k.e$)(u.error))),r.abrupt("return");case 30:E((0,w.t5)("Dataset classified and approved"));case 31:r.next=36;break;case 33:r.prev=33,r.t0=r.catch(3),E((0,w.Vo)("".concat(r.t0)));case 36:case"end":return r.stop()}}),r,null,[[3,33]])})));return function(){return r.apply(this,arguments)}}();return n&&i&&n.status===_.Wg.COMPLETE?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(O.m$.p,{flexGrow:1,textAlign:"center",fontSize:"sm",color:"gray.600",children:[(0,L.jsx)(O.m$.span,{fontWeight:"bold",children:D})," ",1===D?"field has":"fields have"," been identified within this"," ",(0,L.jsx)(O.m$.span,{fontWeight:"bold",children:i.name})," ","table that are likely to contain personal data."]}),e.flags.datasetClassificationUpdates?(0,L.jsx)(C.zx,{size:"sm",variant:"primary",flexShrink:0,onClick:S,isLoading:x,isDisabled:x,"data-testid":"approve-classification-btn",children:"Approve classifications"}):(0,L.jsx)(C.zx,{size:"sm",variant:"primary",flexShrink:0,onClick:S,isLoading:x,isDisabled:x,"data-testid":"approve-classification-btn",children:"Approve dataset"})]}):(0,L.jsx)(r.LZ,{})},G=n(40240),$=n(9992),W=n(30794),q=[{key:"aggregated",label:"Aggregated",styles:{backgroundColor:"green.500",color:"white"}},{key:"anonymized",label:"Anonymized",styles:{backgroundColor:"yellow.400",color:"gray.700"}},{key:"aggregated.anonymized",label:"Unlinked Pseudonymized",styles:{backgroundColor:"orange.300",color:"gray.700"}},{key:"aggregated.anonymized.unlinked_pseudonymized",label:"Pseudonymized",styles:{backgroundColor:"orange.500",color:"white"}},{key:"aggregated.anonymized.unlinked_pseudonymized.pseudonymized.identified",label:"Identified",styles:{backgroundColor:"red.600",color:"white"}}],R={tooltip:"A UI-friendly label for the Dataset."},V={tooltip:"A human-readable description of the Dataset."},M={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."},K={tooltip:"A human-readable description of the collection."},Y={tooltip:"Arrays of Data Qualifier resources, identified by fides_key, that apply to all fields in the collection."},J={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."},B={tooltip:"A human-readable description of the field."},U={tooltip:"A Data Qualifier that applies to this field. Note that this field holds a single value, therefore, the property name is singular."},X={tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(e){var t=e.dataQualifierName,n=q.filter((function(e){return e.key===t}));if(0===n.length)return(0,L.jsx)(W.Vp,{children:t});var r=n[0],i=r.styles,a=r.label,o=r.key;return(0,L.jsx)(W.Vp,H(H({"data-testid":"identifiability-tag-".concat(o)},i),{},{children:a}))},te=n(2424),ne=function(e){var t=e.attribute,n=e.field,i=e.classifyField;if("data_qualifier"===t){var a=n.data_qualifier;return(0,L.jsx)(L.Fragment,{children:a?(0,L.jsx)(ee,{dataQualifierName:a}):null})}if("data_categories"===t){var o,c=void 0!==i?Z(i):void 0,s=void 0!==c?[c.label]:[],l=null!==(o=n.data_categories)&&void 0!==o?o:[],u=l.length>0?l:s;return(0,L.jsx)($.u,{placement:"right",label:u===s?"Fides has generated these data categories for you. You can override them by modifying the field.":"",children:(0,L.jsx)(r.xu,{display:"inline-block",children:u.map((function(e){return(0,L.jsx)(r.xu,{mr:2,mb:2,children:(0,L.jsx)(te.Z,{name:e})},"".concat(n.name,"-").concat(e))}))})})}return(0,L.jsx)(L.Fragment,{children:n[t]})},re=n(9198),ie=n(21084),ae=n(43212),oe=n(34090),ce=n(43139),se=n(52562),le=n(92975),ue=n(38687),de=n(5008),fe=n(29470),pe=n(73679),he=n(77751),me=function(e){var t=e.split("."),n=[];return t.forEach((function(e){var t=n.length>0?n[n.length-1]:null;t?n.push("".concat(t,".").concat(e)):n.push(e)})),n},ve=function(e,t){return e===t||!!e.startsWith("".concat(t,"."))},ye=function e(t,n,r){var i=null!==r&&void 0!==r?r:[];return t.forEach((function(t){t.children&&e(t.children,n,i),ve(t.value,n)&&i.push(t)})),i},be=function(e){var t=e.node,n=e.isChecked,i=e.onChecked,a=e.isExpanded,o=e.onExpanded,c=e.isIndeterminate,s=e.isDisabled,l=e.children,u=t.value,d=t.label,f=!!t.children&&t.children.length>0;return(0,L.jsxs)(r.xu,{children:[(0,L.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",_hover:{backgroundColor:"gray.100",cursor:"pointer"},onClick:function(){return o(t)},children:[(0,L.jsx)(he.XZ,{colorScheme:"complimentary",value:u,isChecked:!c&&n,isIndeterminate:c,isDisabled:s,onChange:function(){return i(t)},mx:2,"data-testid":"checkbox-".concat(d),children:d}),f?(0,L.jsx)(C.hU,{"data-testid":"expand-".concat(d),"aria-label":a?"collapse":"expand",icon:a?(0,L.jsx)(de.O1,{boxSize:5}):(0,L.jsx)(de.mC,{boxSize:5}),variant:"ghost",onClick:function(){return o(t)},size:"sm"}):null]}),l&&(0,L.jsx)(r.xu,{ml:5,children:l})]})},xe=function(e){var t=e.nodes,n=e.selected,i=e.onSelected,a=(0,d.useState)([]),o=a[0],c=a[1],s=(0,d.useState)([]),l=s[0],u=s[1];(0,d.useEffect)((function(){var e=n.map((function(e){return me(e)})).reduce((function(e,t){return e.concat(t)}),[]),r=n.map((function(e){return ye(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.value})),i=Array.from(new Set([].concat((0,pe.Z)(e),(0,pe.Z)(r))));u(i),c(i)}),[n,t]);var f=function(e){var r=[],a=[];if(o.indexOf(e.value)>=0)r=o.filter((function(t){return!ve(t,e.value)})),a=n.filter((function(t){return!ve(t,e.value)}));else{var s=ye(t,e.value).map((function(e){return e.value}));r=[].concat((0,pe.Z)(o),(0,pe.Z)(s)),a=[].concat((0,pe.Z)(n),[e.value])}c(r),i(a)},p=function(e){l.indexOf(e.value)>=0?u(l.filter((function(t){return!ve(t,e.value)}))):u([].concat((0,pe.Z)(l),[e.value]))},h=function e(r){if(r.children){var i=o.indexOf(r.value)>=0,a=l.indexOf(r.value)>=0,c=ye(t,r.value),s=i&&r.children.length>0&&o.filter((function(e){return e.startsWith("".concat(r.value,"."))})).length+1!==c.length,u=function(e,t){var n=me(t).filter((function(e){return e!==t}));return e.filter((function(e){return n.includes(e)})).length>0}(n,r.value);return(0,L.jsx)(be,{node:r,isChecked:i,onChecked:f,isExpanded:a,onExpanded:p,isDisabled:u,isIndeterminate:s,children:a&&r.children.map((function(t){return(0,L.jsx)(d.Fragment,{children:e(t)},t.value)}))})}return null};return(0,L.jsx)(r.xu,{children:t.map((function(e){return(0,L.jsx)(r.xu,{children:h(e)},e.value)}))})},ge=n(64929);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){var t=e.dataCategories,n=e.checked,i=e.onChecked,a=e.buttonProps,o=e.buttonLabel,c=(0,d.useMemo)((function(){return(0,ge.C)(t)}),[t]),s={variant:"outline",fontWeight:"normal",size:"sm",borderRadius:"sm",textAlign:"left",_hover:{backgroundColor:"transparent"},_active:{backgroundColor:"transparent"},rightIcon:(0,L.jsx)(de.mC,{}),width:"100%"},l=null!==a&&void 0!==a?a:s,u=null!==o&&void 0!==o?o:"Select data categories";return(0,L.jsxs)(fe.v2,{closeOnSelect:!0,children:[(0,L.jsx)(fe.j2,Oe(Oe({as:C.zx},l),{},{"data-testid":"data-category-dropdown",children:u})),(0,L.jsx)(fe.qy,{children:(0,L.jsxs)(r.xu,{maxHeight:"50vh",minWidth:"300px",overflowY:"scroll",children:[(0,L.jsxs)(r.xu,{position:"sticky",top:0,zIndex:1,backgroundColor:"white",pt:1,children:[(0,L.jsx)(fe.__,{children:(0,L.jsxs)(r.xu,{display:"flex",justifyContent:"space-between",px:2,mb:2,children:[(0,L.jsx)(fe.sN,{as:C.zx,variant:"outline",size:"xs",onClick:function(){return i([])},mr:2,width:"auto",closeOnSelect:!1,"data-testid":"data-category-clear-btn",children:"Clear"}),(0,L.jsx)(r.xv,{mr:2,children:"Data Categories"}),(0,L.jsx)(fe.sN,{as:C.zx,size:"xs",colorScheme:"primary",color:"white",_hover:{backgroundColor:"primary.600"},width:"auto","data-testid":"data-category-done-btn",children:"Done"})]})}),(0,L.jsx)(fe.R,{})]}),(0,L.jsx)(r.xu,{px:2,"data-testid":"data-category-checkbox-tree",children:(0,L.jsx)(xe,{nodes:c,selected:n,onSelected:i})})]})})]})},ke=function(e){var t=e.dataCategories,n=e.mostLikelyCategories,i=e.checked,a=e.onChecked,o=e.tooltip,c=i.slice().sort((function(e,t){return e.localeCompare(t)}));return(0,L.jsxs)(r.rj,{templateColumns:"1fr 3fr",children:[(0,L.jsx)(le.lX,{children:"Data Categories"}),n?(0,L.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,L.jsx)(r.xu,{mr:"2",width:"100%",children:(0,L.jsx)(re.P$,{dataCategories:t,mostLikelyCategories:n,checked:i,onChecked:a})}),(0,L.jsx)(ue.Z,{label:o})]}):(0,L.jsxs)(r.Kq,{children:[(0,L.jsxs)(r.xu,{display:"flex",alignItems:"center",children:[(0,L.jsx)(r.xu,{mr:"2",width:"100%",children:(0,L.jsx)(Ce,{dataCategories:t,checked:i,onChecked:a})}),(0,L.jsx)(ue.Z,{label:o})]}),(0,L.jsx)(r.Kq,{"data-testid":"selected-categories",children:c.map((function(e){return(0,L.jsx)(te.Z,{name:e,onClose:function(){var t;t=e,a(i.filter((function(e){return e!==t})))}},e)}))})]})]})};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe="edit-collection-or-field-form",Ee=q.map((function(e){return{value:e.key,label:e.label}})),De=function(e){var t,n=e.values,i=e.onSubmit,a=e.dataType,o={description:null!==(t=n.description)&&void 0!==t?t:"",data_qualifier:n.data_qualifier,data_categories:n.data_categories},c=(0,f.v9)(v.qb).filter((function(e){return e.active})),s=(0,f.v9)(m.t6),l=(0,d.useMemo)((function(){if(c&&s){var e=new Map(c.map((function(e){return[e.fides_key,e]})));return s.classifications.map((function(t){var n=t.label;return _e({fides_key:n,confidence:t.aggregated_score},e.get(n))}))}}),[c,s]),u=(0,d.useState)((function(){return(0,se.I)({dataCategories:o.data_categories,mostLikelyCategories:l})})),p=u[0],h=u[1],y="collection"===a?K.tooltip:B.tooltip,b="collection"===a?Y.tooltip:U.tooltip,x="collection"===a?J.tooltip:X.tooltip;return(0,L.jsx)(oe.J9,{initialValues:o,onSubmit:function(e){var t=_e(_e({},e),{data_categories:p});i(t)},children:(0,L.jsx)(oe.l0,{id:Pe,children:(0,L.jsxs)(r.Kq,{children:[(0,L.jsx)(ce.j0,{name:"description",label:"Description",tooltip:y,"data-testid":"description-input"}),(0,L.jsx)(ce.AP,{name:"data_qualifier",label:"Identifiability",options:Ee,tooltip:b,isSearchable:!1,"data-testid":"identifiability-input"}),(0,L.jsx)(ke,{dataCategories:c,mostLikelyCategories:l,checked:p,onChecked:h,tooltip:x})]})})})};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne,Te=function(e){var t=e.field,n=e.isOpen,i=e.onClose,a=(0,f.v9)(P.n0),o=(0,f.v9)(P.gR),c=(0,f.v9)(P.mZ),s=(0,P.TG)(),l=(0,b.Z)(s,1)[0],u=(0,ie.qY)(),d=u.isOpen,p=u.onOpen,h=u.onClose;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ae.ZP,{isOpen:n,onClose:i,description:"Fields are an array of objects that describe the collection's fields. Provide additional context to this field by filling out the fields below.",header:(0,L.jsx)(ae.zR,{title:"Field Name: ".concat(t.name),onDelete:p}),footer:(0,L.jsx)(ae.Gn,{onClose:i,formId:Pe}),children:(0,L.jsx)(De,{values:t,onSubmit:function(e){if(a&&void 0!==o&&void 0!==c){var n=ze(ze({},t),e),r=T(a,n,o,c);l(r),i()}},dataType:"field"})}),(0,L.jsx)(re.cV,{isOpen:d,onClose:h,onConfirm:function(){if(a&&void 0!==o&&void 0!==c){var e=function(e,t,n){var r=e.collections[t],i=r.fields.filter((function(e,t){return t!==n})),a=z(z({},r),{fields:i});return N(e,a,t)}(a,o,c);l(e),i()}},title:"Delete Field",message:(0,L.jsxs)(r.xv,{children:["You are about to permanently delete the field named"," ",(0,L.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};!function(e){e.DATASET="dataset",e.COLLECTION="collection",e.FIELD="field"}(Ne||(Ne={}));var Ze=function(e){var t=e.columns,n=(0,f.I0)(),i=(0,f.v9)(P.pD),a=(0,f.v9)(P.FJ),o=(0,f.v9)(P.U3),c=(0,f.v9)(m.a$),s=function(e){n((0,P.EQ)(e)),n((0,P.JY)(Ne.FIELD))};return(0,L.jsxs)(r.xu,{children:[(0,L.jsxs)(G.iA,{size:"sm","data-testid":"dataset-fields-table",children:[(0,L.jsx)(G.hr,{children:(0,L.jsx)(G.Tr,{children:t.map((function(e){return(0,L.jsx)(G.Th,{pl:0,"data-testid":"column-".concat(e.name),children:e.name},e.name)}))})}),(0,L.jsx)(G.p3,{children:(null!==i&&void 0!==i?i:[]).map((function(e,n){return(0,L.jsx)(G.Tr,{_hover:{bg:"gray.50"},cursor:"pointer",onClick:function(){return s(n)},tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&s(n)},"data-testid":"field-row-".concat(e.name),children:t.map((function(t){return(0,L.jsx)(G.Td,{pl:0,children:(0,L.jsx)(ne,{field:e,classifyField:c.get(e.name),attribute:t.attribute})},"".concat(t.name,"-").concat(e.name))}))},e.name)}))})]}),a?(0,L.jsx)(Te,{isOpen:o===Ne.FIELD,onClose:function(){n((0,P.EQ)(void 0)),n((0,P.JY)(void 0))},field:a}):null]})},Ie=function(){var e,t=(0,f.v9)(m.Bt),n=null!==(e=null===t||void 0===t?void 0:t.status)&&void 0!==e?e:_.Wg.REVIEWED,i=(0,d.useMemo)((function(){var e,n;return null!==(e=null===t||void 0===t||null===(n=t.collections)||void 0===n?void 0:n.reduce((function(e,t){return e+t.fields.reduce((function(e,t){return t.classifications.length>0?e+1:e}),0)}),0))&&void 0!==e?e:0}),[t]),a=0===i?"Fides did not identify any fields that are likely to contain personal data, but there may be some.":1===i?"Fides identified a field that is likely to contain personal data.":"Fides identified ".concat(i," fields that are likely to contain personal data.");return(0,L.jsx)(r.gC,{align:"left",mb:6,children:n===_.Wg.COMPLETE?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(r.Ug,{children:[(0,L.jsx)(r.X6,{fontSize:"2xl",children:"Dataset classification ready for review"}),(0,L.jsx)(de.sc,{fontSize:"2xl"})]}),(0,L.jsxs)(r.xv,{fontSize:"sm",color:"gray.600",maxW:"720px",children:[a," For each table, please review the recommended data categories. You can accept the recommendation or update any field before approving."]})]}):(0,L.jsx)(r.X6,{fontSize:"2xl",children:"Dataset"})})};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){var t=e.collection,n=e.isOpen,i=e.onClose,a=(0,f.v9)(P.n0),o=(0,f.v9)(P.gR),c=(0,P.TG)(),s=(0,b.Z)(c,1)[0],l=(0,j.pm)(),u=(0,ie.qY)(),d=u.isOpen,p=u.onOpen,h=u.onClose,m=function(){var e=(0,y.Z)(g().mark((function e(n){var r,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||void 0===o){e.next=13;break}return r=Le(Le({},t),n),c=N(a,r,o),e.prev=3,e.next=6,s(c);case 6:l((0,w.t5)("Successfully modified collection")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),l((0,w.Vo)(e.t0));case 12:i();case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,y.Z)(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||void 0===o){e.next=14;break}return t=A(a,o),e.prev=2,e.next=5,s(t);case 5:l((0,w.t5)("Successfully deleted collection")),n=a.collections.length>0?0:void 0,(0,P.Fy)(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),l((0,w.Vo)(e.t0));case 13:i();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ae.ZP,{isOpen:n,onClose:i,description:"Collections are an array of objects that describe the Dataset's collections. Provide additional context to this collection by filling out the fields below.",header:(0,L.jsx)(ae.zR,{title:"Collection Name: ".concat(t.name),onDelete:p}),footer:(0,L.jsx)(ae.Gn,{onClose:i,formId:Pe}),children:(0,L.jsx)(De,{values:t,onSubmit:m,dataType:"collection"})}),(0,L.jsx)(re.cV,{isOpen:d,onClose:h,onConfirm:v,title:"Delete Collection",message:(0,L.jsxs)(r.xv,{children:["You are about to permanently delete the collection named"," ",(0,L.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name})," ","from this dataset. Are you sure you would like to continue?"]})})]})};function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var We="edit-field-drawer",qe=function(e){var t,n,i,a=e.values,o=e.onSubmit,c={name:null!==(t=a.name)&&void 0!==t?t:"",description:null!==(n=a.description)&&void 0!==n?n:"",data_categories:a.data_categories},s=(0,f.v9)(v.qb),l=(0,d.useState)(null!==(i=c.data_categories)&&void 0!==i?i:[]),u=l[0],p=l[1];return(0,L.jsx)(oe.J9,{initialValues:c,onSubmit:function(e){var t=$e($e({},e),{data_categories:u});o(t)},children:(0,L.jsx)(oe.l0,{id:We,children:(0,L.jsxs)(r.Kq,{spacing:"3",children:[(0,L.jsx)(ce.j0,{name:"name",label:"Name",tooltip:R.tooltip,"data-testid":"name-input"}),(0,L.jsx)(ce.j0,{name:"description",label:"Description",tooltip:V.tooltip,"data-testid":"description-input"}),(0,L.jsx)(ke,{dataCategories:s,checked:u,onChecked:p,tooltip:M.tooltip})]})})})};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=function(e){var t=e.dataset,n=e.isOpen,i=e.onClose,a=(0,P.TG)(),o=(0,b.Z)(a,1)[0],s=(0,P.QY)(),l=(0,b.Z)(s,1)[0],u=(0,c.useRouter)(),d=(0,j.pm)(),f=(0,ie.qY)(),p=f.isOpen,h=f.onOpen,m=f.onClose,v=function(){var e=(0,y.Z)(g().mark((function e(n){var r,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve(Ve({},t),n),e.prev=1,e.next=4,o(r);case 4:a=e.sent,(0,k.D4)(a)?d((0,w.Vo)((0,k.e$)(a.error))):d((0,w.t5)("Successfully modified dataset")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),d((0,w.Vo)(e.t0));case 11:i();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,y.Z)(g().mark((function e(){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fides_key,e.next=3,l(n);case 3:r=e.sent,(0,k.D4)(r)?d((0,w.Vo)((0,k.e$)(r.error))):d((0,w.t5)("Successfully deleted dataset")),(0,P.Zl)(void 0),u.push("/dataset"),i();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(ae.ZP,{isOpen:n,onClose:i,description:"A Dataset takes a database schema (tables and columns) and adds Fides privacy categorizations. Provide additional context to this dataset by filling out the fields below.",header:(0,L.jsx)(ae.zR,{title:"Dataset Name: ".concat(t.name),onDelete:h}),footer:(0,L.jsx)(ae.Gn,{onClose:i,formId:We}),children:(0,L.jsx)(qe,{values:t,onSubmit:v})}),(0,L.jsx)(re.cV,{isOpen:p,onClose:m,onConfirm:x,title:"Delete Dataset",message:(0,L.jsxs)(r.xv,{children:["You are about to permanently delete the dataset named"," ",(0,L.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:t.name}),". Are you sure you would like to continue?"]})})]})},Ke=n(90089),Ye=["children","isDisabled","onClick"];function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,E.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=function(e){var t=e.children,n=e.isDisabled,r=e.onClick,i=(0,Ke.Z)(e,Ye);return(0,L.jsx)(fe.sN,Be(Be({isDisabled:n,_hover:{backgroundColor:"gray.100"},fontSize:"sm",onClick:r},i),{},{children:t}))},Xe=function(e){var t=e.onModifyCollection,n=e.onModifyDataset;return(0,L.jsxs)(fe.v2,{size:"sm",children:[(0,L.jsx)(fe.j2,{as:C.zx,variant:"outline","data-testid":"more-actions-btn",children:(0,L.jsx)(de.nX,{})}),(0,L.jsxs)(fe.qy,{children:[(0,L.jsxs)(fe.kS,{title:"Collections",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,L.jsx)(fe.R,{}),(0,L.jsx)(Ue,{isDisabled:!0,children:"Add a collection"}),(0,L.jsx)(Ue,{onClick:t,"data-testid":"modify-collection",children:"Modify collection"})]}),(0,L.jsxs)(fe.kS,{title:"Datasets",color:"gray.500",textTransform:"uppercase",mx:3,children:[(0,L.jsx)(fe.R,{}),(0,L.jsx)(Ue,{children:(0,L.jsx)(o(),{href:"/dataset",children:"Select new dataset"})}),(0,L.jsx)(Ue,{isDisabled:!0,children:"Classify this dataset"}),(0,L.jsx)(Ue,{onClick:n,"data-testid":"modify-dataset",children:"Modify dataset"})]})]})]})},Qe=[{name:"Field Name",attribute:"name"},{name:"Description",attribute:"description"},{name:"Personal Data Categories",attribute:"data_categories"}],He=function(e){var t=e.fidesKey,n=(0,f.I0)(),i=function(e){var t=(0,P.oM)(e),n=t.data,r=t.isLoading,i=(0,h.hz)(),a=(0,m.Tc)(e,{skip:!i.plus}).isLoading;return(0,v.MO)(),{isLoading:r||a,dataset:n}}(t),a=i.dataset,o=i.isLoading,c=(0,f.v9)(P.fQ),s=(0,f.v9)(P.Jb),y=(0,f.v9)(P.U3),b=(0,d.useState)(Qe),x=b[0],g=b[1];(0,v.MO)(),(0,d.useEffect)((function(){a&&n((0,P.Zl)(a.fides_key))}),[n,a]),(0,d.useEffect)((function(){return function(){n((0,P.Zl)(void 0))}}),[]);return o?(0,L.jsx)(l.$,{}):a?(0,L.jsxs)(r.xu,{children:[(0,L.jsx)(Ie,{}),(0,L.jsxs)(r.Ug,{mb:4,children:[(0,L.jsx)(u.Ph,{onChange:function(e){n((0,P.Fy)(e.target.selectedIndex))},width:"fit-content",flexShrink:0,"data-testid":"collection-select",children:(null!==c&&void 0!==c?c:[]).map((function(e){return(0,L.jsx)("option",{value:e.name,children:e.name},e.name)}))}),(0,L.jsx)(F,{}),(0,L.jsx)(r.xu,{children:(0,L.jsx)(p.s,{allColumns:Qe,selectedColumns:x,onChange:g})}),(0,L.jsx)(Xe,{onModifyCollection:function(){return n((0,P.JY)(Ne.COLLECTION))},onModifyDataset:function(){return n((0,P.JY)(Ne.DATASET))}})]}),(0,L.jsx)(Ze,{columns:x}),s?(0,L.jsx)(Fe,{collection:s,isOpen:y===Ne.COLLECTION,onClose:function(){return n((0,P.JY)(void 0))}}):null,a?(0,L.jsx)(Me,{dataset:a,isOpen:y===Ne.DATASET,onClose:function(){return n((0,P.JY)(void 0))}}):null]}):(0,L.jsx)("div",{children:"Dataset not found"})},et=function(){var e=(0,c.useRouter)().query.id;if(!e)return(0,L.jsx)(s.Z,{title:"Dataset",children:"Dataset not found"});var t=Array.isArray(e)?e[0]:e;return(0,L.jsxs)(s.Z,{title:"Dataset - ".concat(e),children:[(0,L.jsx)(r.xu,{mb:6,children:(0,L.jsxs)(i.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600",children:[(0,L.jsx)(i.gN,{children:(0,L.jsx)(o(),{href:"/dataset",children:"Datasets"})}),(0,L.jsx)(i.gN,{children:(0,L.jsx)(o(),{href:"#",children:e})})]})}),(0,L.jsx)(He,{fidesKey:t})]})}},87736:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset/[id]",function(){return n(36155)}])}},function(e){e.O(0,[2141,845,331,3139,9774,2888,179],(function(){return t=87736,e(e.s=t);var t}));var t=e.O();_N_E=t}]);