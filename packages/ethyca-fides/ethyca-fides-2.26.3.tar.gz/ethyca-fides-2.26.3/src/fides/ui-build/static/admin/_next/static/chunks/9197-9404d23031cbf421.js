"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9197],{51471:function(e,n,a){a.d(n,{Z:function(){return Z}});var i=a(34896),t=a(88038),s=a.n(t),r=a(86677),o=(a(27378),a(90768)),c=a(35100),l=a(64989),_=a(48114),d=a(51365),u=a(29549),S=a(60709),U=a(24246),p=function(){var e=(0,r.useRouter)();return(0,U.jsx)(i.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,U.jsxs)(i.xu,{children:[(0,U.jsxs)(i.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,U.jsx)(i.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,U.jsx)(u.zx,{size:"sm",variant:"outline",onClick:function(){e.push(S.fz)},children:"Configure"})]}),(0,U.jsxs)(i.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},Z=function(e){var n=e.children,a=e.title,t=(0,o.hz)(),u=(0,r.useRouter)(),S="/privacy-requests"===u.pathname||"/datastore-connection"===u.pathname,Z=!(t.flags.privacyRequestsConfiguration&&S),h=(0,d.JE)(void 0,{skip:Z}).data,m=(0,d.PW)(void 0,{skip:Z}).data,F=t.flags.privacyRequestsConfiguration&&(!h||!m)&&S;return(0,U.jsxs)(i.kC,{"data-testid":a,direction:"column",children:[(0,U.jsxs)(s(),{children:[(0,U.jsxs)("title",{children:["Fides Admin UI - ",a]}),(0,U.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,U.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,U.jsx)(c.Z,{}),(0,U.jsx)(_.Z,{}),(0,U.jsxs)(i.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,U.jsx)(i.xu,{flex:0,flexShrink:0,children:(0,U.jsx)(l.U,{})}),(0,U.jsxs)(i.kC,{direction:"column",flex:1,minWidth:0,children:[F?(0,U.jsx)(p,{}):null,n]})]})]})}},86054:function(e,n,a){var i=a(90849),t=a(90089),s=a(34896),r=a(24246),o=["title","children"];function c(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?c(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.title,a=e.children,i=(0,t.Z)(e,o);return(0,r.jsxs)(s.xu,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},i),{},{children:[(0,r.jsx)(s.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:n}),(0,r.jsx)(s.Kq,{p:6,spacing:6,children:a})]}))}},64429:function(e,n,a){a.d(n,{BD:function(){return c},NA:function(){return o}});var i,t=a(90849),s=a(37968),r=(i={},(0,t.Z)(i,s._F.US,"United States"),(0,t.Z)(i,s._F.US_AL,"Alabama (USA)"),(0,t.Z)(i,s._F.US_AK,"Alaska (USA)"),(0,t.Z)(i,s._F.US_AZ,"Arizona (USA)"),(0,t.Z)(i,s._F.US_AR,"Arkansas (USA)"),(0,t.Z)(i,s._F.US_CA,"California (USA)"),(0,t.Z)(i,s._F.US_CO,"Colorado (USA)"),(0,t.Z)(i,s._F.US_CT,"Connecticut (USA)"),(0,t.Z)(i,s._F.US_DE,"Delaware (USA)"),(0,t.Z)(i,s._F.US_FL,"Florida (USA)"),(0,t.Z)(i,s._F.US_GA,"Georgia (USA)"),(0,t.Z)(i,s._F.US_HI,"Hawaii (USA)"),(0,t.Z)(i,s._F.US_ID,"Idaho (USA)"),(0,t.Z)(i,s._F.US_IL,"Illinois (USA)"),(0,t.Z)(i,s._F.US_IN,"Indiana (USA)"),(0,t.Z)(i,s._F.US_IA,"Iowa (USA)"),(0,t.Z)(i,s._F.US_KS,"Kansas (USA)"),(0,t.Z)(i,s._F.US_KY,"Kentucky (USA)"),(0,t.Z)(i,s._F.US_LA,"Louisiana (USA)"),(0,t.Z)(i,s._F.US_ME,"Maine (USA)"),(0,t.Z)(i,s._F.US_MD,"Maryland (USA)"),(0,t.Z)(i,s._F.US_MA,"Massachusetts (USA)"),(0,t.Z)(i,s._F.US_MI,"Michigan (USA)"),(0,t.Z)(i,s._F.US_MN,"Minnesota (USA)"),(0,t.Z)(i,s._F.US_MS,"Mississippi (USA)"),(0,t.Z)(i,s._F.US_MO,"Missouri (USA)"),(0,t.Z)(i,s._F.US_MT,"Montana (USA)"),(0,t.Z)(i,s._F.US_NE,"Nebraska (USA)"),(0,t.Z)(i,s._F.US_NV,"Nevada (USA)"),(0,t.Z)(i,s._F.US_NH,"New Hampshire (USA)"),(0,t.Z)(i,s._F.US_NJ,"New Jersey (USA)"),(0,t.Z)(i,s._F.US_NM,"New Mexico (USA)"),(0,t.Z)(i,s._F.US_NY,"New York (USA)"),(0,t.Z)(i,s._F.US_NC,"North Carolina (USA)"),(0,t.Z)(i,s._F.US_ND,"North Dakota (USA)"),(0,t.Z)(i,s._F.US_OH,"Ohio (USA)"),(0,t.Z)(i,s._F.US_OK,"Oklahoma (USA)"),(0,t.Z)(i,s._F.US_OR,"Oregon (USA)"),(0,t.Z)(i,s._F.US_PA,"Pennsylvania (USA)"),(0,t.Z)(i,s._F.US_RI,"Rhode Island (USA)"),(0,t.Z)(i,s._F.US_SC,"South Carolina (USA)"),(0,t.Z)(i,s._F.US_SD,"South Dakota (USA)"),(0,t.Z)(i,s._F.US_TN,"Tennessee (USA)"),(0,t.Z)(i,s._F.US_TX,"Texas (USA)"),(0,t.Z)(i,s._F.US_UT,"Utah (USA)"),(0,t.Z)(i,s._F.US_VT,"Vermont (USA)"),(0,t.Z)(i,s._F.US_VA,"Virginia (USA)"),(0,t.Z)(i,s._F.US_WA,"Washington (USA)"),(0,t.Z)(i,s._F.US_WV,"West Virginia (USA)"),(0,t.Z)(i,s._F.US_WI,"Wisconsin (USA)"),(0,t.Z)(i,s._F.US_WY,"Wyoming (USA)"),(0,t.Z)(i,s._F.BE,"Belgium (EU)"),(0,t.Z)(i,s._F.BG,"Bulgaria (EU)"),(0,t.Z)(i,s._F.CZ,"Czech Republic (EU)"),(0,t.Z)(i,s._F.DK,"Denmark (EU)"),(0,t.Z)(i,s._F.DE,"Germany (EU)"),(0,t.Z)(i,s._F.EE,"Estonia (EU)"),(0,t.Z)(i,s._F.IE,"Ireland (EU)"),(0,t.Z)(i,s._F.GR,"Greece (EU)"),(0,t.Z)(i,s._F.ES,"Spain (EU)"),(0,t.Z)(i,s._F.FR,"France (EU)"),(0,t.Z)(i,s._F.HR,"Croatia (EU)"),(0,t.Z)(i,s._F.IT,"Italy (EU)"),(0,t.Z)(i,s._F.CY,"Cyprus (EU)"),(0,t.Z)(i,s._F.LV,"Latvia (EU)"),(0,t.Z)(i,s._F.LT,"Lithuania (EU)"),(0,t.Z)(i,s._F.LU,"Luxembourg (EU)"),(0,t.Z)(i,s._F.HU,"Hungary (EU)"),(0,t.Z)(i,s._F.MT,"Malta (EU)"),(0,t.Z)(i,s._F.NL,"Netherlands (EU)"),(0,t.Z)(i,s._F.AT,"Austria (EU)"),(0,t.Z)(i,s._F.PL,"Poland (EU)"),(0,t.Z)(i,s._F.PT,"Portugal (EU)"),(0,t.Z)(i,s._F.RO,"Romania (EU)"),(0,t.Z)(i,s._F.SI,"Slovenia (EU)"),(0,t.Z)(i,s._F.SK,"Slovakia (EU)"),(0,t.Z)(i,s._F.FI,"Finland (EU)"),(0,t.Z)(i,s._F.SE,"Sweden (EU)"),(0,t.Z)(i,s._F.GB_ENG,"England"),(0,t.Z)(i,s._F.GB_SCT,"Scotland"),(0,t.Z)(i,s._F.GB_WLS,"Wales"),(0,t.Z)(i,s._F.GB_NIR,"Northern Ireland"),(0,t.Z)(i,s._F.IS,"Iceland"),(0,t.Z)(i,s._F.NO,"Norway"),(0,t.Z)(i,s._F.LI,"Liechtenstein"),(0,t.Z)(i,s._F.CA,"Canada"),(0,t.Z)(i,s._F.CA_AB,"Alberta (Canada)"),(0,t.Z)(i,s._F.CA_BC,"British Columbia (Canada)"),(0,t.Z)(i,s._F.CA_MB,"Manitoba (Canada)"),(0,t.Z)(i,s._F.CA_NB,"New Brunswick (Canada)"),(0,t.Z)(i,s._F.CA_NL,"Newfoundland and Labrador (Canada)"),(0,t.Z)(i,s._F.CA_NS,"Nova Scotia (Canada)"),(0,t.Z)(i,s._F.CA_ON,"Ontario (Canada)"),(0,t.Z)(i,s._F.CA_PE,"Prince Edward Island (Canada)"),(0,t.Z)(i,s._F.CA_QC,"Quebec (Canada)"),(0,t.Z)(i,s._F.CA_SK,"Saskatchewan (Canada)"),(0,t.Z)(i,s._F.CA_NT,"Northwest Territories (Canada)"),(0,t.Z)(i,s._F.CA_NU,"Nunavut (Canada)"),(0,t.Z)(i,s._F.CA_YT,"Yukon (Canada)"),(0,t.Z)(i,s._F.EEA,"European Economic Area"),i),o=new Map(Object.entries(r)),c=Object.entries(r).map((function(e){return{value:e[0],label:e[1]}}))},85915:function(e,n,a){a.d(n,{Z:function(){return M}});var i=a(55732),t=a(97865),s=a(34707),r=a.n(s),o=a(70409),c=a(34896),l=a(29549),_=a(34090),d=a(86677),u=a(27378),S=a(6848),U=a(86054),p=a(43139),Z=a(78624),h=a(60709),m=a(64429),F=a(24753),f=a(75846),v=a(20800),A=a(37968),y=a(24246),b=(0,Z.MM)(A.J7).map((function(e){return{label:v.y.get(e.label)||e.label,value:e.value}})),x=(0,Z.MM)(A.QT).map((function(e){return{label:v.B.get(e.label)||e.label,value:e.value}})),g=function(){var e=(0,_.u6)(),n=e.values,a=e.setFieldValue,i=(0,u.useMemo)((function(){return n.consent_mechanism===A.J7.NOTICE_ONLY}),[n.consent_mechanism]);return(0,u.useEffect)((function(){i&&(a("enforcement_level",A.QT.NOT_APPLICABLE),a("has_gpc_flag",!1))}),[i,a]),(0,y.jsxs)(U.Z,{title:"Consent mechanism",children:[(0,y.jsx)(p.AP,{label:"If this use of data requires consent, you can specify the method of consent here.",name:"consent_mechanism",options:b,variant:"stacked"}),(0,y.jsx)(p.AP,{label:"Select the enforcement level for this consent mechanism",name:"enforcement_level",options:x,variant:"stacked",isDisabled:i}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure whether this notice conforms to the Global Privacy Control."}),(0,y.jsx)(p.w8,{label:"GPC Enabled",name:"has_gpc_flag",variant:"condensed",isDisabled:i})]})]})},C=a(68301),j={name:"",regions:[],consent_mechanism:A.J7.OPT_IN,data_uses:[],enforcement_level:A.QT.SYSTEM_WIDE,displayed_in_api:!0,displayed_in_overlay:!0,displayed_in_privacy_center:!0},E=C.Ry().shape({name:C.Z_().required().label("Title"),data_uses:C.IX(C.Z_()).min(1,"Must assign at least one data use").label("Data uses"),regions:C.IX(C.Z_()).min(1,"Must assign at least one location").label("Locations")}),w=a(14441),N=a.n(w),k=function(e){var n=e.isEditing,a=(0,_.u6)(),i=a.values,t=a.setFieldValue;return(0,u.useEffect)((function(){if(!n){var e=N()(i.name);t("notice_key",e)}}),[i.name,n,t]),(0,y.jsx)(p.j0,{name:"notice_key",label:"Key used in Fides cookie",variant:"stacked"})},O=a(15749),M=function(e){var n=e.privacyNotice,a=(0,d.useRouter)(),s=(0,o.pm)(),v=n?function(e){var n,a,i,t,s;return{name:null!==(n=e.name)&&void 0!==n?n:j.name,regions:null!==(a=e.regions)&&void 0!==a?a:j.regions,consent_mechanism:null!==(i=e.consent_mechanism)&&void 0!==i?i:j.consent_mechanism,data_uses:null!==(t=e.data_uses)&&void 0!==t?t:j.data_uses,enforcement_level:null!==(s=e.enforcement_level)&&void 0!==s?s:j.enforcement_level,displayed_in_api:e.displayed_in_api,displayed_in_overlay:e.displayed_in_overlay,displayed_in_privacy_center:e.displayed_in_privacy_center,notice_key:e.notice_key,description:e.description,disabled:e.disabled,has_gpc_flag:e.has_gpc_flag,id:e.id,internal_description:e.internal_description,origin:e.origin}}(n):j;(0,f.fd)();var A=(0,S.C)(f.qv),b=(0,O.vL)(),x=(0,t.Z)(b,1)[0],C=(0,O.p4)(),w=(0,t.Z)(C,1)[0],N=(0,u.useMemo)((function(){return!!n}),[n]),M=function(){var e=(0,i.Z)(r().mark((function e(n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=6;break}return e.next=3,x([n]);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,w([n]);case 8:i=e.sent;case 9:(0,Z.D4)(i)?s((0,F.Vo)((0,Z.e$)(i.error))):(s((0,F.t5)("Privacy notice ".concat(N?"updated":"created"))),N||a.push(h.IT));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(_.J9,{initialValues:v,enableReinitialize:!0,onSubmit:M,validationSchema:E,children:function(e){var n=e.dirty,i=e.isValid,t=e.isSubmitting;return(0,y.jsx)(_.l0,{children:(0,y.jsxs)(c.Kq,{spacing:10,children:[(0,y.jsxs)(c.Kq,{spacing:6,children:[(0,y.jsxs)(U.Z,{title:"Privacy notice details",children:[(0,y.jsx)(p.j0,{label:"Title of the consent notice as displayed to the user",name:"name",variant:"stacked"}),(0,y.jsx)(p.Ks,{label:"Privacy notice displayed to the user",name:"description",variant:"stacked"})]}),(0,y.jsx)(g,{}),(0,y.jsxs)(U.Z,{title:"Privacy notice configuration",children:[(0,y.jsx)(p.AP,{name:"data_uses",label:"Data uses associated with this privacy notice",options:A,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(p.Ks,{label:"Description of the privacy notice (visible to internal users only)",name:"internal_description",variant:"stacked"}),(0,y.jsx)(p.AP,{name:"regions",label:"Locations where consent notice is shown to visitors",options:m.BD,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(k,{isEditing:N}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure the user experience for how this notice is displayed"}),(0,y.jsxs)(c.Ug,{justifyContent:"space-between",children:[(0,y.jsx)(p.w8,{label:"Show in Privacy Preference Center",name:"displayed_in_privacy_center",variant:"condensed"}),(0,y.jsx)(p.w8,{label:"Show in Privacy Overlay",name:"displayed_in_overlay",variant:"condensed"}),(0,y.jsx)(p.w8,{label:"API Only",name:"displayed_in_api",variant:"condensed"})]})]})]})]}),(0,y.jsxs)(l.hE,{size:"sm",spacing:2,children:[(0,y.jsx)(l.zx,{variant:"outline",onClick:function(){a.back()},children:"Cancel"}),(0,y.jsx)(l.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:t||!n||!i,isLoading:t,"data-testid":"save-btn",children:"Save"})]})]})})}})}},20800:function(e,n,a){a.d(n,{B:function(){return t},y:function(){return i}});var i=new Map([["opt_in","Opt in"],["notice_only","Notice only"],["opt_out","Opt out"]]),t=new Map([["system_wide","System wide"],["frontend","Front end"],["not_applicable","Not applicable"]])}}]);