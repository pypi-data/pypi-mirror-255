(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{43212:function(e,t,n){"use strict";n.d(t,{Gn:function(){return l},zR:function(){return c}});var s=n(60530),i=n(34896),r=n(29549),o=n(5008),a=n(24246),c=function(e){var t=e.title,n=e.onDelete;return(0,a.jsxs)(s.OX,{py:2,display:"flex",alignItems:"center",children:[(0,a.jsx)(i.xv,{mr:"2",children:t}),n?(0,a.jsx)(r.hU,{"aria-label":"delete",icon:(0,a.jsx)(o.lr,{}),size:"xs",onClick:n,"data-testid":"delete-btn"}):null]})},l=function(e){var t=e.onClose,n=e.formId,i=e.isSaving;return(0,a.jsxs)(s.ze,{justifyContent:"flex-start",children:[(0,a.jsx)(r.zx,{onClick:t,mr:2,size:"sm",variant:"outline",children:"Cancel"}),(0,a.jsx)(r.zx,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",form:n,isLoading:i,children:"Save"})]})};t.ZP=function(e){var t=e.header,n=e.description,c=e.isOpen,l=e.onClose,d=e.children,u=e.footer;return(0,a.jsxs)(s.dy,{placement:"right",isOpen:c,onClose:l,size:"lg",children:[(0,a.jsx)(s.P1,{}),(0,a.jsxs)(s.sc,{"data-testid":"edit-drawer-content",py:2,children:[(0,a.jsx)(i.xu,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,a.jsx)(r.zx,{variant:"ghost",onClick:l,"data-testid":"close-drawer-btn",children:(0,a.jsx)(o.LG,{width:"17px"})})}),t,(0,a.jsxs)(s.Ng,{children:[n?(0,a.jsx)(i.xv,{fontSize:"sm",mb:4,children:n}):null,d]}),u]})]})}},51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var s=n(34896),i=n(88038),r=n.n(i),o=n(86677),a=(n(27378),n(90768)),c=n(35100),l=n(64989),d=n(48114),u=n(51365),f=n(29549),h=n(60709),y=n(24246),p=function(){var e=(0,o.useRouter)();return(0,y.jsx)(s.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,y.jsxs)(s.xu,{children:[(0,y.jsxs)(s.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,y.jsx)(s.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,y.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,y.jsxs)(s.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=function(e){var t=e.children,n=e.title,i=(0,a.hz)(),f=(0,o.useRouter)(),h="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,x=!(i.flags.privacyRequestsConfiguration&&h),j=(0,u.JE)(void 0,{skip:x}).data,g=(0,u.PW)(void 0,{skip:x}).data,m=i.flags.privacyRequestsConfiguration&&(!j||!g)&&h;return(0,y.jsxs)(s.kC,{"data-testid":n,direction:"column",children:[(0,y.jsxs)(r(),{children:[(0,y.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,y.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,y.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,y.jsx)(c.Z,{}),(0,y.jsx)(d.Z,{}),(0,y.jsxs)(s.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,y.jsx)(s.xu,{flex:0,flexShrink:0,children:(0,y.jsx)(l.U,{})}),(0,y.jsxs)(s.kC,{direction:"column",flex:1,minWidth:0,children:[m?(0,y.jsx)(p,{}):null,t]})]})]})}},85859:function(e,t,n){"use strict";n.d(t,{Rt:function(){return u},cK:function(){return f}});var s=n(90849),i=n(73679),r=n(34896),o=n(40240),a=n(77751),c=n(24246);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t,n,s,i,o=e.system,a=e.attribute;return"name"===a?(0,c.jsx)("label",{htmlFor:"checkbox-".concat(o.fides_key),children:o.name}):"fidesctl_meta.resource_id"===a?(0,c.jsx)(r.xu,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",title:null===(t=o.fidesctl_meta)||void 0===t?void 0:t.resource_id,children:null===(n=o.fidesctl_meta)||void 0===n?void 0:n.resource_id}):(0,c.jsx)(c.Fragment,{children:(s=o,i=a,i.split(".").reduce((function(e,t){return e?e[t]:void 0}),s))})},f=function(e){var t=e.allSystems,n=e.checked,s=e.onChange,l=e.columns,f=e.tableHeadProps,h=function(e){var t=n.indexOf(e)>=0;s(t?n.filter((function(t){return t.fides_key!==e.fides_key})):[].concat((0,i.Z)(n),[e]))},y=t.length===n.length;return 0===l.length?(0,c.jsx)(r.xv,{children:"No columns selected to display"}):(0,c.jsxs)(o.iA,{size:"sm",sx:{tableLayout:"fixed"},children:[(0,c.jsx)(o.hr,d(d({},f),{},{children:(0,c.jsxs)(o.Tr,{children:[(0,c.jsx)(o.Th,{width:"15px",children:(0,c.jsx)(a.XZ,{colorScheme:"complimentary",title:"Select All",isChecked:y,onChange:function(e){e.target.checked?s(t):s([])},"data-testid":"select-all"})}),l.map((function(e){return(0,c.jsx)(o.Th,{children:e.name},e.attribute)}))]})})),(0,c.jsx)(o.p3,{children:t.map((function(e){return(0,c.jsxs)(o.Tr,{children:[(0,c.jsx)(o.Td,{children:(0,c.jsx)(a.XZ,{colorScheme:"complimentary",value:e.fides_key,isChecked:n.indexOf(e)>=0,onChange:function(){return h(e)},"data-testid":"checkbox-".concat(e.fides_key)})}),l.map((function(t){return(0,c.jsx)(o.Td,{children:(0,c.jsx)(u,{system:e,attribute:t.attribute})},t.attribute)}))]},e.fides_key)}))})]})}},48187:function(e,t,n){"use strict";n.d(t,{w:function(){return l}});var s=n(90849),i=n(27378),r=n(44047),o=n(37968);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.resourceType,n=e.fidesKeys,s=e.skip,a=(0,i.useState)(!0),l=a[0],d=a[1],u=(0,r.Wm)({resource_type:t,fides_keys:n},{skip:s,pollingInterval:l?3e3:void 0}),f=!!u.data&&u.data.every((function(e){return e.status===o.Wg.COMPLETE||e.status===o.Wg.FAILED||e.status===o.Wg.REVIEWED}));return(0,i.useEffect)((function(){f&&d(!1)}),[f]),c(c({},u),{},{isClassificationFinished:f})}},12187:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var s=n(90768),i=n(60709),r=function(){return{systemOrDatamapRoute:(0,s.hz)().plus?i.oG:i.So}}},72779:function(e,t,n){"use strict";var s=n(90089),i=n(90849),r=n(9992),o=n(34896),a=n(37968),c=n(24246),l=["status","resource"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.status,n=e.resource,d=(0,s.Z)(e,l),f=function(e){var t,n=e===a.j.DATASETS?"dataset":"system";return t={},(0,i.Z)(t,a.Wg.PROCESSING,{title:"Processing",tooltip:"This ".concat(n," is currently being ").concat("dataset"===n?"generated and":""," classified. You will be notified when this process is complete"),color:"orange"}),(0,i.Z)(t,a.Wg.CREATED,{title:"Processing",tooltip:"This ".concat(n," is currently being ").concat("dataset"===n&&"generated and"," and classified. You will be notified when this process is complete"),color:"orange"}),(0,i.Z)(t,a.Wg.COMPLETE,{title:"Awaiting Review",tooltip:"This ".concat(n," has been automatically classified. Review the results and update the ").concat(n,"."),color:"orange"}),(0,i.Z)(t,a.Wg.REVIEWED,{title:"Classified",tooltip:"This ".concat(n," has been classified."),color:"green"}),(0,i.Z)(t,a.Wg.FAILED,{title:"Failed",tooltip:"This ".concat(n," must be manually updated."),color:"red"}),(0,i.Z)(t,"unknown",{title:"Unknown",tooltip:"This ".concat(n," must be manually updated."),color:"gray"}),t}(n)[null!==t&&void 0!==t?t:"unknown"];return(0,c.jsx)(r.u,{"data-testid":"classification-status-badge",label:f.tooltip,children:(0,c.jsx)(o.Ct,u(u({variant:"solid",colorScheme:f.color,w:"100%",textAlign:"center"},d),{},{"data-testid":"classification-status-badge",children:f.title}))})}},52562:function(e,t,n){"use strict";n.d(t,{I:function(){return s}});var s=function(e){var t=e.dataCategories,n=e.mostLikelyCategories;return null!==t&&void 0!==t&&t.length?t:null!==n&&void 0!==n&&n.length?[n.reduce((function(e,t){var n,s;return(null!==(n=t.confidence)&&void 0!==n?n:0)>(null!==(s=e.confidence)&&void 0!==s?s:0)?t:e})).fides_key]:[]}},19665:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var s=n(34896),i=n(83125),r=n(29549),o=n(79894),a=n.n(o),c=n(86677),l=n(27378),d=n(60245),u=n(6848),f=n(48187),h=n(12187),y=n(51471),p=n(44047),x=n(48466),j=n(40240),g=n(62709),m=n(24246),v=function(e){var t=e.hideEmpty,n=e.onChange;return(0,m.jsx)(g.r,{colorScheme:"secondary",isChecked:t,onChange:function(e){return n(e.target.checked)}})},b=n(85859),O=n(72779),w=n(37968),k=n(90849),S=n(55732),C=n(97865),P=n(34707),_=n.n(P),E=n(70409),D=n(34090),T=n(76649),z=n(43212),Z=n(78624),F=n(24753),I=n(75523),W=n(62332),R=n(9198),L=n(1326),N=n(52562);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.headingLevel,n=e.title,i=e.children;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.X6,{as:t,children:(0,m.jsxs)(W.KF,{_expanded:{color:"complimentary.500"},_hover:{bg:"gray.50"},pl:0,children:[(0,m.jsx)(s.xu,{flex:"1",textAlign:"left",children:n}),(0,m.jsx)(W.XE,{})]})}),(0,m.jsx)(W.Hk,{py:2,px:0,children:i})]})},M=function(e){var t=e.flow,n=e.index,i=e.classifyDataFlows,r=e.type,o=(0,D.u6)().setFieldValue,a=(0,u.C)(I.qb),c=(0,u.C)(I.L5),l=null===i||void 0===i?void 0:i.find((function(e){return e.fides_key===t.fides_key})),d=null===l||void 0===l?void 0:l.classifications.map((function(e){var t=e.label,n=e.aggregated_score;return q(q({},c.get(t)),{},{fides_key:t,confidence:n})})),f=(0,N.I)({dataCategories:t.data_categories,mostLikelyCategories:d});return(0,m.jsx)(W.Qd,{pl:4,borderBottom:"none","data-testid":"accordion-item-".concat(t.fides_key),children:(0,m.jsx)(G,{headingLevel:"h3",title:t.fides_key,children:a?(0,m.jsx)(s.xu,{pr:2,children:(0,m.jsx)(R.P$,{mostLikelyCategories:d||[],dataCategories:a,checked:f,onChecked:function(e){o("".concat(r,"[").concat(n,"].data_categories"),e)}})}):null})})},K=function(e){var t=e.classifyDataFlows,n=e.type,i=(0,D.u6)().values[n],r={ingress:"source",egress:"destination"}[n];return 0===i.length?(0,m.jsxs)(s.xv,{p:4,children:["No ",n,"es found."]}):(0,m.jsx)(W.Qd,{p:0,"data-testid":"accordion-item-".concat(n),children:(0,m.jsx)(G,{headingLevel:"h2",title:"Connected ".concat((0,L.G8)(r)," Systems"),children:i.map((function(e,s){return(0,m.jsx)(M,{flow:e,index:s,classifyDataFlows:t,type:n},e.fides_key)}))})})},V=function(e){var t=e.system,n=e.classificationInstance;return(null==t.ingress||0===t.ingress.length)&&(null==t.egress||0===t.egress.length)?(0,m.jsx)(s.xv,{children:"No data flows found on this system."}):(0,m.jsxs)(s.Kq,{children:[(0,m.jsx)(s.xv,{fontWeight:"semibold",children:t.name}),(0,m.jsxs)(W.UQ,{allowMultiple:!0,pl:2,children:[(0,m.jsx)(K,{classifyDataFlows:null===n||void 0===n?void 0:n.ingress,type:"ingress"}),(0,m.jsx)(K,{classifyDataFlows:null===n||void 0===n?void 0:n.egress,type:"egress"})]})]})},X=n(51860);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $="data-flow-form",H=function(e){var t=e.label,n=e.value;return(0,m.jsxs)(s.P4,{children:[(0,m.jsxs)(s.xv,{as:"span",fontWeight:"semibold",children:[t,":"]})," ",n]})},Q=function(e){return(0,T.Ln)({fides_key:"string"},e)},B=function(e){var t,n,r=e.system,o=e.isOpen,a=e.onClose,c=function(e){var t=e.system,n=e.onClose,i=(0,E.pm)();(0,I.MO)();var r,o=(0,p.$b)(t.fides_key),a=o.data,c=o.isLoading;if(null==a||Q(a)){var l,d=t.ingress||[],u=t.egress||[],f=(null===a||void 0===a?void 0:a.ingress.filter((function(e){return d.find((function(t){return t.fides_key===e.fides_key}))})))||[],h=(null===a||void 0===a?void 0:a.egress.filter((function(e){return u.find((function(t){return t.fides_key===e.fides_key}))})))||[],y=f.length>0,x=h.length>0,j=!y&&!x,g=d.length>0,v=u.length>0,b=!g&&!v;l=g&&v?"which send or receive data from your selected system":g?"from which your selected system receives data":"to which your selected system sends data",r=(null===a||void 0===a?void 0:a.status)===w.Wg.PROCESSING?(0,m.jsx)(s.xv,{fontSize:"sm","data-testid":"processing",children:"Fides classify is still classifying, please check back later."}):b?(0,m.jsx)(s.xv,{fontSize:"sm","data-testid":"no-data-flows",children:"Fides classify did not detect any additional systems sending or receiving data from your selected system."}):j?(0,m.jsx)(s.xv,{fontSize:"sm","data-testid":"no-classification",children:"Fides classify has detected additional systems which send or receive data from your selected system, but was unable to classify these data flows. You may classify these data flows manually below."}):(0,m.jsxs)(s.xv,{fontSize:"sm","data-testid":"data-flow-with-classification",children:["Fides classify has detected additional systems ",l,". Each system has been automatically assigned data categories. Choose to keep the assigned data category selection or review more classification recommendations."]})}else r=(0,m.jsx)(s.xv,{fontSize:"sm","data-testid":"no-classification-instance",children:"No classification instance found but you may still manually classify the data flows."});var O=(0,X.qQ)(),k=(0,C.Z)(O,1)[0],P=(0,p.MD)(),D=(0,C.Z)(P,1)[0],T=function(){var e=(0,S.Z)(_().mark((function e(t){var s,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c&&a){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,k(t);case 5:if(s=e.sent,!(0,Z.D4)(s)){e.next=9;break}return i((0,F.Vo)((0,Z.e$)(s.error))),e.abrupt("return");case 9:return e.next=11,D({dataset_fides_key:t.fides_key,status:w.Wg.REVIEWED,resource_type:w.j.SYSTEMS});case 11:if(r=e.sent,!(0,Z.D4)(r)){e.next=15;break}return i((0,F.Vo)((0,Z.e$)(r.error))),e.abrupt("return");case 15:i((0,F.t5)("System data flows classified and approved")),n(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(2),i((0,F.Vo)("".concat(e.t0)));case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}();return{description:r,classificationInstance:a,isLoadingClassificationInstance:c,handleSave:T}}({system:r,onClose:a}),l=c.description,d=c.isLoadingClassificationInstance,u=c.classificationInstance,f=c.handleSave,h=function(){var e=(0,S.Z)(_().mark((function e(t){var n,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ingress,s=t.egress,e.next=3,f(U(U({},r),{},{ingress:n,egress:s}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y={egress:null!==(t=r.egress)&&void 0!==t?t:[],ingress:null!==(n=r.ingress)&&void 0!==n?n:[]},x=Q(u)?u.status:void 0,j=x!==w.Wg.PROCESSING;return(0,m.jsx)(D.J9,{initialValues:y,onSubmit:h,children:function(e){var t=e.isSubmitting;return(0,m.jsx)(D.l0,{id:$,children:(0,m.jsx)(z.ZP,{isOpen:o,onClose:a,header:(0,m.jsx)(z.zR,{title:"System classification details"}),footer:x!==w.Wg.PROCESSING?(0,m.jsx)(z.Gn,{onClose:a,formId:$,isSaving:t}):void 0,children:d?(0,m.jsx)(s.M5,{children:(0,m.jsx)(i.$,{})}):(0,m.jsxs)(s.Kq,{spacing:4,children:[(0,m.jsxs)(s.MI,{columns:2,spacingY:2,children:[(0,m.jsx)(H,{label:"System name",value:r.name}),(0,m.jsx)(H,{label:"System type",value:r.system_type}),(0,m.jsx)(H,{label:"Classification status",value:(0,m.jsx)(O.Z,{status:x,resource:w.j.SYSTEMS,display:"inline"})})]}),l,j?(0,m.jsx)(V,{system:r,classificationInstance:Q(u)?u:void 0}):null]})})})}})},J=function(e){var t=e.systems,n=(0,u.T)(),i=(0,u.C)(p.Oq),r=(0,u.C)(X.o5),o=(0,l.useState)(!1),a=o[0],c=o[1],d=a?t.filter((function(e){var t;return null===(t=i.get(e.fides_key))||void 0===t?void 0:t.has_labels})):t;return(0,m.jsxs)(s.Kq,{children:[(0,m.jsxs)(s.kC,{flexShrink:0,alignItems:"center",children:[(0,m.jsx)(s.xv,{fontSize:"xs",mr:2,size:"sm",children:"Only Show Findings"}),(0,m.jsx)(v,{hideEmpty:a,onChange:c})]}),(0,m.jsxs)(j.iA,{size:"sm","data-testid":"systems-classify-table",children:[(0,m.jsx)(j.hr,{children:(0,m.jsxs)(j.Tr,{children:[(0,m.jsx)(j.Th,{children:"System Name"}),(0,m.jsx)(j.Th,{maxWidth:"100px",children:"Classification Status"})]})}),(0,m.jsx)(j.p3,{children:d.map((function(e){var t=i.get(e.fides_key);return(0,m.jsxs)(j.Tr,{"data-testid":"row-".concat(e.fides_key),_hover:{bg:"gray.50"},cursor:"pointer",onClick:function(){return function(e){n((0,X.Pj)(e.fides_key))}(e)},children:[(0,m.jsx)(j.Td,{children:(0,m.jsx)(b.Rt,{system:e,attribute:"name"})}),(0,m.jsx)(j.Td,{"data-testid":"status-".concat(e.fides_key),children:(0,m.jsx)(O.Z,{resource:w.j.SYSTEMS,status:null===t||void 0===t?void 0:t.status})})]},e.fides_key)}))})]}),r?(0,m.jsx)(B,{system:r,isOpen:null!=r,onClose:function(){return n((0,X.Pj)(void 0))}}):null]})},ee=function(e){var t=e.children;return(0,m.jsx)(y.Z,{title:"Classify Systems",children:(0,m.jsxs)(s.Kq,{spacing:4,children:[(0,m.jsx)(s.X6,{fontSize:"2xl",fontWeight:"semibold",children:"Classified systems"}),t]})})},te=function(){var e=(0,c.useRouter)(),t=(0,d.I0)(),n=(0,h.V)().systemOrDatamapRoute,o=(0,p.x8)(),y=o.isSuccess,j=o.isLoading,g=(0,u.C)(x.PG),v=(0,x.K3)(void 0,{skip:!y||g&&g.length>0}),b=v.isLoading,O=v.data,k=g||O;(0,l.useEffect)((function(){O&&O.length&&t((0,x.Wc)(O))}),[t,O]);var S=(0,f.w)({resourceType:w.j.SYSTEMS,fidesKeys:null===k||void 0===k?void 0:k.map((function(e){return e.fides_key})),skip:!y}),C=S.isLoading,P=S.data,_=S.isClassificationFinished;return(0,l.useEffect)((function(){j||y||e.push("/")}),[e,y,j]),b||C?(0,m.jsx)(ee,{children:(0,m.jsx)(i.$,{})}):P&&0!==P.length?(0,m.jsxs)(ee,{children:[(0,m.jsx)(s.xv,{children:_?"All systems have been classifed by Fides.":"Systems are still being classified by Fides."}),k&&k.length?(0,m.jsx)(J,{systems:k}):"No systems with classifications found",(0,m.jsx)(s.Ug,{children:(0,m.jsx)(a(),{href:n,passHref:!0,children:(0,m.jsx)(r.zx,{variant:"primary",size:"sm",children:"Finish"})})})]}):(0,m.jsx)(ee,{children:(0,m.jsx)(s.xv,{"data-testid":"no-classifications",children:"No classifications found. Have you run a scan?"})})}},18533:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classify-systems",function(){return n(19665)}])}},function(e){e.O(0,[2141,6709,331,9774,2888,179],(function(){return t=18533,e(e.s=t);var t}));var t=e.O();_N_E=t}]);