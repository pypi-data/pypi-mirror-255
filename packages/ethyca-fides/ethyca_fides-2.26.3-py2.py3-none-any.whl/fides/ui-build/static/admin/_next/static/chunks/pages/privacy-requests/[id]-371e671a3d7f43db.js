(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9650],{24487:function(e,n,t){"use strict";t.d(n,{At:function(){return p},aG:function(){return m},gN:function(){return x}});var r=t(32393),i=t(14007),s=t(49031),o=t(27378);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var l=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],h=["children","spacing","separator","className"],f=(0,r.Gp)((function(e,n){var t=e.spacing,i=c(e,l),s=a({mx:t},(0,r.yK)().separator);return o.createElement(r.m$.span,a({ref:n,role:"presentation"},i,{__css:s}))}));i.Ts&&(f.displayName="BreadcrumbSeparator");var p=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,s=e.as,l=e.className,d=e.href,h=c(e,u),f=(0,r.yK)(),p=a({ref:n,as:s,className:(0,i.cx)("chakra-breadcrumb__link",l)},h);return t?o.createElement(r.m$.span,a({"aria-current":"page",__css:f.link},p)):o.createElement(r.m$.a,a({__css:f.link,href:d},p))}));i.Ts&&(p.displayName="BreadcrumbLink");var x=(0,r.Gp)((function(e,n){var t=e.isCurrentPage,l=e.separator,u=e.isLastChild,h=e.spacing,x=e.children,m=e.className,g=c(e,d),j=(0,s.WR)(x).map((function(e){return e.type===p?o.cloneElement(e,{isCurrentPage:t}):e.type===f?o.cloneElement(e,{spacing:h,children:e.props.children||l}):e})),v=a({display:"inline-flex",alignItems:"center"},(0,r.yK)().item),y=(0,i.cx)("chakra-breadcrumb__list-item",m);return o.createElement(r.m$.li,a({ref:n,className:y},g,{__css:v}),j,!u&&o.createElement(f,{spacing:h},l))}));i.Ts&&(x.displayName="BreadcrumbItem");var m=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Breadcrumb",e),l=(0,r.Lr)(e),u=l.children,d=l.spacing,f=void 0===d?"0.5rem":d,p=l.separator,x=void 0===p?"/":p,m=l.className,g=c(l,h),j=(0,s.WR)(u),v=j.length,y=j.map((function(e,n){return o.cloneElement(e,{separator:x,spacing:f,isLastChild:v===n+1})})),b=(0,i.cx)("chakra-breadcrumb",m);return o.createElement(r.m$.nav,a({ref:n,"aria-label":"breadcrumb",className:b,__css:t.container},g),o.createElement(r.Fo,{value:t},o.createElement(r.m$.ol,{className:"chakra-breadcrumb__list"},y)))}));i.Ts&&(m.displayName="Breadcrumb")},40240:function(e,n,t){"use strict";t.d(n,{$R:function(){return j},Td:function(){return b},Th:function(){return v},Tr:function(){return y},hr:function(){return m},iA:function(){return p},p3:function(){return g},xJ:function(){return f}});var r=t(32393),i=t(14007),s=t(27378);function o(){return o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o.apply(this,arguments)}function a(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var c=["overflow","overflowX","className"],l=["className"],u=["placement"],d=["isNumeric"],h=["isNumeric"],f=(0,r.Gp)((function(e,n){var t,l=e.overflow,u=e.overflowX,d=e.className,h=a(e,c);return s.createElement(r.m$.div,o({ref:n,className:(0,i.cx)("chakra-table__container",d)},h,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(t=null!=l?l:u)?t:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),p=(0,r.Gp)((function(e,n){var t=(0,r.jC)("Table",e),c=(0,r.Lr)(e),u=c.className,d=a(c,l);return s.createElement(r.Fo,{value:t},s.createElement(r.m$.table,o({role:"table",ref:n,__css:t.table,className:(0,i.cx)("chakra-table",u)},d)))}));i.Ts&&(p.displayName="Table");var x=(0,r.Gp)((function(e,n){var t=e.placement,i=void 0===t?"bottom":t,c=a(e,u),l=(0,r.yK)();return s.createElement(r.m$.caption,o({},c,{ref:n,__css:o({},l.caption,{captionSide:i})}))}));i.Ts&&(x.displayName="TableCaption");var m=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.thead,o({},e,{ref:n,__css:t.thead}))})),g=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.tbody,o({},e,{ref:n,__css:t.tbody}))})),j=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.tfoot,o({},e,{ref:n,__css:t.tfoot}))})),v=(0,r.Gp)((function(e,n){var t=e.isNumeric,i=a(e,d),c=(0,r.yK)();return s.createElement(r.m$.th,o({},i,{ref:n,__css:c.th,"data-is-numeric":t}))})),y=(0,r.Gp)((function(e,n){var t=(0,r.yK)();return s.createElement(r.m$.tr,o({role:"row"},e,{ref:n,__css:t.tr}))})),b=(0,r.Gp)((function(e,n){var t=e.isNumeric,i=a(e,h),c=(0,r.yK)();return s.createElement(r.m$.td,o({role:"gridcell"},i,{ref:n,__css:c.td,"data-is-numeric":t}))}))},30794:function(e,n,t){"use strict";t.d(n,{SD:function(){return p},Sn:function(){return u},Vp:function(){return l}});var r=t(13018),i=t(32393),s=t(14007),o=t(27378);function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}var c=["isDisabled","children"],l=(0,i.Gp)((function(e,n){var t=(0,i.jC)("Tag",e),r=(0,i.Lr)(e),s=a({display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%"},t.container);return o.createElement(i.Fo,{value:t},o.createElement(i.m$.span,a({ref:n},r,{__css:s})))}));s.Ts&&(l.displayName="Tag");var u=(0,i.Gp)((function(e,n){var t=(0,i.yK)();return o.createElement(i.m$.span,a({ref:n,isTruncated:!0},e,{__css:t.label}))}));s.Ts&&(u.displayName="TagLabel");var d=(0,i.Gp)((function(e,n){return o.createElement(r.JO,a({ref:n,verticalAlign:"top",marginEnd:"0.5rem"},e))}));s.Ts&&(d.displayName="TagLeftIcon");var h=(0,i.Gp)((function(e,n){return o.createElement(r.JO,a({ref:n,verticalAlign:"top",marginStart:"0.5rem"},e))}));s.Ts&&(h.displayName="TagRightIcon");var f=function(e){return o.createElement(r.JO,a({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),o.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))};s.Ts&&(f.displayName="TagCloseIcon");var p=function(e){var n=e.isDisabled,t=e.children,r=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,c),s=a({display:"flex",alignItems:"center",justifyContent:"center",outline:"0"},(0,i.yK)().closeButton);return o.createElement(i.m$.button,a({"aria-label":"close"},r,{type:"button",disabled:n,__css:s}),t||o.createElement(f,null))};s.Ts&&(p.displayName="TagCloseButton")},56602:function(e,n,t){"use strict";var r,i=t(21084),s=t(9992),o=t(29549),a=t(27378),c=t(55232),l=t(24246);!function(e){e.COPY="Copy",e.COPIED="Copied!"}(r||(r={}));n.Z=function(e){var n=function(e){var n=(0,i.VP)(e).onCopy,t=(0,a.useState)(!1),s=t[0],o=t[1],c=(0,a.useState)(r.COPY),l=c[0],u=c[1];return{tooltipText:l,highlighted:s,handleMouseDown:function(){u(r.COPIED),n()},handleMouseUp:function(){o(!1)},handleMouseEnter:function(){o(!0)},handleMouseLeave:function(){o(!1)},setTooltipText:u}}(e.copyText),t=n.tooltipText,u=n.highlighted,d=n.handleMouseDown,h=n.handleMouseUp,f=n.handleMouseEnter,p=n.handleMouseLeave,x=n.setTooltipText,m=u?"complimentary.500":"gray.600";return(0,l.jsx)(s.u,{label:t,placement:"top",closeDelay:500,onOpen:function(){x(r.COPY)},onClose:function(){x(r.COPY)},children:(0,l.jsx)(o.hU,{icon:(0,l.jsx)(c.TI,{}),color:m,onClick:d,onMouseUp:h,onMouseEnter:f,onMouseLeave:p,"aria-label":"copy",variant:"ghost","data-testid":"clipboard-btn"})})}},35100:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(55732),i=t(97865),s=t(34707),o=t.n(s),a=t(34896),c=t(29549),l=t(5008),u=t(73452),d=t(29470),h=t(79894),f=t.n(h),p=(t(27378),{src:"/_next/static/media/logo.c87f81b9.svg",height:64,width:209}),x=t(6848),m=t(10141),g=t(45802),j=t(56169),v=t(60709),y=t(24246),b=function(){var e=function(){var e;return{username:(null!==(e=(0,x.C)(g.dy))&&void 0!==e?e:{username:""}).username}}().username,n=(0,g._y)(),t=(0,i.Z)(n,1)[0],s=(0,x.T)(),h=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({});case 2:s((0,g.kS)());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(a.kC,{as:"header",height:12,width:"100%",paddingX:10,flexShrink:0,justifyContent:"space-between",alignItems:"center",backgroundColor:"gray.50",children:[(0,y.jsx)(f(),{href:m.gp,passHref:!0,children:(0,y.jsx)(a.rU,{display:"flex",children:(0,y.jsx)(j.Z,{src:p,width:83,height:26,alt:"Fides Logo"})})}),(0,y.jsxs)(a.kC,{alignItems:"center",children:[(0,y.jsx)(a.rU,{href:"https://docs.ethyca.com",isExternal:!0,children:(0,y.jsx)(c.zx,{size:"sm",variant:"ghost",children:(0,y.jsx)(l.UO,{color:"gray.700",boxSize:4})})}),(0,y.jsx)(f(),{href:v.e3,passHref:!0,children:(0,y.jsx)(c.hU,{"aria-label":"Management",size:"sm",variant:"ghost",icon:(0,y.jsx)(u.ew,{color:"gray.700",boxSize:4}),"data-testid":"management-btn"})}),e&&(0,y.jsxs)(d.v2,{children:[(0,y.jsx)(d.j2,{as:c.zx,size:"sm",variant:"ghost","data-testid":"header-menu-button",children:(0,y.jsx)(l.tB,{color:"gray.700"})}),(0,y.jsxs)(d.qy,{shadow:"xl",children:[(0,y.jsx)(a.Kq,{px:3,py:2,spacing:1,children:(0,y.jsx)(a.xv,{fontWeight:"medium",children:e})}),(0,y.jsx)(d.R,{}),(0,y.jsx)(d.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:h,"data-testid":"header-menu-sign-out",children:"Sign out"})]})]})]})]})}},51471:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(34896),i=t(88038),s=t.n(i),o=t(86677),a=(t(27378),t(90768)),c=t(35100),l=t(64989),u=t(48114),d=t(51365),h=t(29549),f=t(60709),p=t(24246),x=function(){var e=(0,o.useRouter)();return(0,p.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,p.jsxs)(r.xu,{children:[(0,p.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,p.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,p.jsx)(h.zx,{size:"sm",variant:"outline",onClick:function(){e.push(f.fz)},children:"Configure"})]}),(0,p.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},m=function(e){var n=e.children,t=e.title,i=(0,a.hz)(),h=(0,o.useRouter)(),f="/privacy-requests"===h.pathname||"/datastore-connection"===h.pathname,m=!(i.flags.privacyRequestsConfiguration&&f),g=(0,d.JE)(void 0,{skip:m}).data,j=(0,d.PW)(void 0,{skip:m}).data,v=i.flags.privacyRequestsConfiguration&&(!g||!j)&&f;return(0,p.jsxs)(r.kC,{"data-testid":t,direction:"column",children:[(0,p.jsxs)(s(),{children:[(0,p.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,p.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,p.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,p.jsx)(c.Z,{}),(0,p.jsx)(u.Z,{}),(0,p.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,p.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,p.jsx)(l.U,{})}),(0,p.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[v?(0,p.jsx)(x,{}):null,n]})]})]})}},78624:function(e,n,t){"use strict";t.d(n,{D4:function(){return s.D4},MM:function(){return f},Ot:function(){return l},c6:function(){return d},cj:function(){return x},e$:function(){return a},fn:function(){return c},iC:function(){return p},nU:function(){return h},tB:function(){return u}});var r,i=t(90849),s=t(60041),o="An unexpected error occurred. Please try again.",a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,s.Bw)(e)){if((0,s.hE)(e.data))return e.data.detail;if((0,s.cz)(e.data)){var t,r=null===(t=e.data.detail)||void 0===t?void 0:t[0];return"".concat(null===r||void 0===r?void 0:r.msg,": ").concat(null===r||void 0===r?void 0:r.loc)}if(409===e.status&&(0,s.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,s.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return n};function c(e){return"object"===typeof e&&null!=e&&"status"in e}function l(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function u(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var d,h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,s.oK)(e))return{status:e.originalStatus,message:e.data};if((0,s.Bw)(e)){var t=e.status;return{status:t,message:a(e,n.message)}}return n},f=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp"}(d||(d={}));var p=(r={},(0,i.Z)(r,d.GVL,{label:"GVL",fullName:"Global Vendor List"}),(0,i.Z)(r,d.AC,{label:"AC",fullName:"Google Additional Consent List"}),r),x=function(e){return e.split(".")[0]===d.AC?d.AC:d.GVL}},9408:function(e,n,t){"use strict";t.d(n,{HK:function(){return s},VY:function(){return r.V}});var r=t(36653),i=t(78624),s=function(){var e=(0,r.V)().errorAlert;return{handleError:function(n){var t="An unexpected error occurred. Please try again.";(0,i.Ot)(n)?t=n.data.detail:(0,i.tB)(n)&&(t=n.data.detail[0].msg),e(t)}}};t(27378)},36653:function(e,n,t){"use strict";t.d(n,{V:function(){return d}});var r=t(90849),i=t(70409),s=t(23286),o=t(34896),a=t(93235),c=t(24246);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=function(){var e=(0,i.pm)();return{errorAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(s.bZ,{alignItems:"normal",status:"error",children:[(0,c.jsx)(s.zM,{}),(0,c.jsxs)(o.xu,{children:[t&&(0,c.jsx)(s.Cd,{children:t}),(0,c.jsx)(s.X,{children:n})]}),(0,c.jsx)(a.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)},successAlert:function(n,t,r){var i=u(u({},r),{},{position:(null===r||void 0===r?void 0:r.position)||"top",render:function(e){var r=e.onClose;return(0,c.jsxs)(s.bZ,{alignItems:"normal",status:"success",variant:"subtle",children:[(0,c.jsx)(s.zM,{}),(0,c.jsxs)(o.xu,{children:[t&&(0,c.jsx)(s.Cd,{children:t}),(0,c.jsx)(s.X,{children:n})]}),(0,c.jsx)(a.P,{onClick:r,position:"relative",right:0,size:"sm",top:-1})]})}});null!==r&&void 0!==r&&r.id&&e.isActive(r.id)?e.update(r.id,i):e(i)}}}},23402:function(e,n,t){"use strict";t.d(n,{TL:function(){return h},UI:function(){return d}});var r=t(90849),i=t(9198),s=t(79894),o=t.n(s),a=(t(27378),t(24246));function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e){var n=e.variant,t=e.children,r=e.href,s=e.isActive,c=e.isDisabled,l="primary"===n?i.c2:i._p;return c?(0,a.jsx)(l,{isDisabled:c,href:r,isActive:s,children:t}):(0,a.jsx)(o(),{href:r,passHref:!0,children:(0,a.jsx)(l,{isActive:s,children:t})})},d=function(e){return(0,a.jsx)(u,l({variant:"primary"},e))},h=function(e){return(0,a.jsx)(u,l({variant:"secondary"},e))}},64989:function(e,n,t){"use strict";t.d(n,{U:function(){return m}});var r=t(90089),i=t(90849),s=t(9198),o=t(34896),a=t(86677),c=(t(27378),t(57589)),l=t(23402),u=t(24246),d=["routerPathname"];function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=function e(n){var t=n.title,r=n.path,i=n.children,s=n.routerPathname,a=s.startsWith(r);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(l.TL,{href:r,isActive:a,children:t}),i.length?(0,u.jsx)(o.QI,{py:.5,children:i.map((function(n){return(0,u.jsx)(o.HC,{listStyleType:"none",children:(0,u.jsx)(e,f({routerPathname:s},n))},n.title)}))}):null]})},x=function(e){var n=e.routerPathname,t=(0,r.Z)(e,d);return t.active?(0,u.jsxs)(o.gC,{as:"nav",align:"left",spacing:4,width:"200px",children:[(0,u.jsx)(o.X6,{size:"md",children:t.active.title}),(0,u.jsx)(s.$6,{children:t.active.children.map((function(e){return(0,u.jsx)(p,f({routerPathname:n},e),e.title)}))})]}):null},m=function(){var e=(0,a.useRouter)(),n=(0,c.Y)({path:e.pathname});return(0,u.jsx)(x,f({routerPathname:e.pathname},n))}},48114:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(34896),i=t(86677),s=(t(27378),t(57589)),o=t(23402),a=t(24246),c=function(){var e=(0,i.useRouter)(),n=(0,s.Y)({path:e.pathname});return(0,a.jsx)(r.kC,{as:"nav",height:12,paddingX:10,gap:1,flexShrink:0,alignItems:"center",borderBottom:"1px",borderColor:"gray.100",children:n.groups.map((function(e){var t;if("Management"===e.title)return null;var r=e.children[0].path,i=e.title===(null===(t=n.active)||void 0===t?void 0:t.title);return(0,a.jsx)(o.UI,{href:r,isActive:i,children:e.title},e.title)}))})}},29083:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return de}});var r=t(34896),i=t(83125),s=t(24487),o=t(79894),a=t.n(o),c=t(86677),l=t(51471),u=t(60709),d=t(89403),h=t(27378),f=t(5008),p=t(37968),x=t(24246),m=function(e){var n={};return e.forEach((function(e){var t=e.collection_name,r=e.updated_at;(!n[t]||new Date(n[t].updated_at)<new Date(r))&&(n[t]=e)})),Object.values(n).some((function(e){return e.status===p.np.ERROR}))},g=function(e){var n=e.subjectRequest,t=e.setEventDetails,i=n.results,s=i?Object.keys(i):[],o=s.map((function(e,n){return(0,x.jsxs)(r.xu,{children:[(0,x.jsxs)(r.kC,{alignItems:"center",height:23,position:"relative",children:[(0,x.jsx)(r.xu,{zIndex:1,children:m(i[e])?(0,x.jsx)(f.f9,{}):(0,x.jsx)(f.St,{})}),n===s.length-1?null:(0,x.jsx)(r.xu,{width:"2px",height:"63px",backgroundColor:"gray.700",position:"absolute",top:"16px",left:"6px",zIndex:0}),(0,x.jsx)(r.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",ml:2,children:e})]}),(0,x.jsx)(r.xv,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",ml:6,mb:7,onClick:function(){t({key:e,logs:i[e]})},children:"View Details"})]},e)}));return(0,x.jsxs)(r.xu,{width:"100%",children:[(0,x.jsx)(r.xv,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Activity timeline"}),o]})},j=t(21084),v=t(60530),y=t(29549),b=t(73452),O=t(30794),C=t(56602),w=function(e){var n=e.errorMessage;return(0,x.jsxs)(r.xu,{height:"100%",id:"outer",children:[(0,x.jsxs)(r.kC,{alignItems:"center",paddingBottom:"8px",children:[(0,x.jsx)(r.xv,{size:"sm",color:"gray.700",fontWeight:"medium",marginRight:"8px",lineHeight:"20px",children:"Status"}),(0,x.jsx)(O.Vp,{size:"sm",height:"20px",backgroundColor:"red.500",color:"white",marginRight:"8px",children:"Error"}),(0,x.jsx)(r.xu,{padding:"0px",marginBottom:"3px",children:(0,x.jsx)(C.Z,{copyText:n})})]}),(0,x.jsx)(r.iz,{}),(0,x.jsx)(r.xu,{id:"errorWrapper",overflow:"auto",height:"100%",children:(0,x.jsx)(r.xv,{children:n})})]})},k=t(40240),_=t(1326),S=t(9481),z=function(e){var n=e.eventLogs,t=e.openErrorPanel,i=null===n||void 0===n?void 0:n.map((function(e){return(0,x.jsxs)(k.Tr,{_hover:{backgroundColor:e.status===S.n.ERROR?"#F7FAFC":"unset"},onClick:function(){e.status===S.n.ERROR&&t(e.message)},style:{cursor:e.status===S.n.ERROR?"pointer":"unset"},children:[(0,x.jsx)(k.Td,{children:(0,x.jsx)(r.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:(0,_.p6)(e.updated_at)})}),(0,x.jsx)(k.Td,{children:(0,x.jsx)(r.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.status})}),(0,x.jsx)(k.Td,{children:(0,x.jsx)(r.xv,{color:"gray.600",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:e.collection_name})})]},e.updated_at)}));return(0,x.jsx)(r.xu,{width:"100%",paddingTop:"0px",height:"100%",children:(0,x.jsx)(k.xJ,{id:"tableContainer",height:"100%",style:{overflowY:"auto"},children:(0,x.jsxs)(k.iA,{size:"sm",id:"table",position:"relative",children:[(0,x.jsx)(k.hr,{id:"tableHeader",position:"sticky",top:"0px",backgroundColor:"white",children:(0,x.jsxs)(k.Tr,{children:[(0,x.jsx)(k.Th,{children:(0,x.jsx)(r.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Time"})}),(0,x.jsx)(k.Th,{children:(0,x.jsx)(r.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Status"})}),(0,x.jsx)(k.Th,{children:(0,x.jsx)(r.xv,{color:"black",fontSize:"xs",lineHeight:"4",fontWeight:"medium",children:"Collection"})})]})}),(0,x.jsx)(k.p3,{id:"tabelBody",children:i})]})})})},P=function(e){var n=e.eventData,t=(0,j.qY)(),i=t.isOpen,s=t.onOpen,o=t.onClose,a=(0,h.useState)(!1),c=a[0],l=a[1],u=(0,h.useState)(""),d=u[0],p=u[1],m=function(){l(!1)},g=function(){c&&m(),o()},O=c?"Event detail":"Event log";return void 0===n?null:(0,x.jsxs)(r.xu,{width:"100%",paddingTop:"0px",height:"100%",children:[(0,x.jsx)(r.xv,{color:"gray.900",fontSize:"md",fontWeight:"500",mb:1,children:"Event Details"}),(0,x.jsx)(r.xv,{color:"gray.600",fontSize:"sm",fontWeight:"500",lineHeight:"20px",mb:1,children:n.key}),(0,x.jsx)(r.iz,{}),(0,x.jsx)(r.xv,{cursor:"pointer",color:"complimentary.500",fontWeight:"500",fontSize:"sm",onClick:function(){s()},children:"View Log"}),(0,x.jsxs)(v.dy,{isOpen:i,placement:"right",onClose:g,size:"full",autoFocus:!1,children:[(0,x.jsx)(v.P1,{}),(0,x.jsxs)(v.sc,{style:{width:"50%"},children:[(0,x.jsx)(v.OX,{style:{paddingBottom:"0px"},children:(0,x.jsxs)(r.kC,{justifyContent:"space-between",alignItems:"center",height:"40px",children:[(0,x.jsxs)(r.kC,{alignItems:"center",children:[c?(0,x.jsx)(y.hU,{icon:(0,x.jsx)(b.Rp,{}),"aria-label":"Close error logs",size:"sm",style:{height:"24px",width:"24px",minWidth:"24px",marginRight:"8px"},onClick:m}):null,(0,x.jsx)(r.xv,{color:"gray.900",fontSize:"md",lineHeight:"6",fontWeight:"medium",children:O})]}),(0,x.jsx)(r.kC,{alignItems:"flex-start",height:"100%",children:(0,x.jsx)(y.hU,{icon:(0,x.jsx)(f.LG,{width:"17px"}),"aria-label":"Stop viewing error message",variant:"unstyled",size:"sm",style:{height:"24px",width:"24px",minWidth:"14px",backgroundColor:"#00000000"},isRound:!0,onClick:g})})]})}),(0,x.jsxs)(v.Ng,{id:"drawerBody",overflow:"hidden",children:[n&&!c?(0,x.jsx)(z,{eventLogs:n.logs,openErrorPanel:function(e){p(e),l(!0)}}):null,c?(0,x.jsx)(w,{errorMessage:d}):null]})]})]})]})},E=function(e){var n=e.subjectRequest,t=(0,h.useState)(),i=t[0],s=t[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Events and logs"}),(0,x.jsx)(r.iz,{}),(0,x.jsxs)(r.kC,{mt:3,children:[(0,x.jsx)(g,{subjectRequest:n,setEventDetails:s}),(0,x.jsx)(P,{eventData:i})]})]})},R=t(90849),T=t(55732),D=t(97865),W=t(34707),I=t.n(W),N=t(9408),A=t(57928),Z=t(51365),q=t(6848),L=t(1540),M=t(92975),U=t(32751),G=t(34090),V=t(68301);function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=function(e){var n=e.connectorName,t=e.data,i=e.isSubmitting,s=void 0!==i&&i,o=e.onSaveClick,a=(0,j.qY)(),c=a.isOpen,l=a.onOpen,u=a.onClose,d=(0,h.useRef)(null),f=function(){var e=(0,T.Z)(I().mark((function e(n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={connection_key:t.connection_key,privacy_request_id:t.privacy_request_id,body:B({},n)},o(i),u();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(null===t||void 0===t?void 0:t.checked)&&(0,x.jsx)(y.zx,{color:"gray.700",fontSize:"xs",h:"24px",onClick:l,variant:"outline",w:"58px",children:"Review"}),!(null!==t&&void 0!==t&&t.checked)&&(0,x.jsx)(y.zx,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",onClick:l,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Begin manual input"}),(0,x.jsx)(G.J9,{enableReinitialize:!0,initialValues:B({},t.fields),onSubmit:f,validateOnBlur:!1,validateOnChange:!1,validationSchema:V.Ry().shape({}),children:function(e){return(0,x.jsxs)(v.dy,{isOpen:c,placement:"right",initialFocusRef:d,onClose:u,size:"lg",children:[(0,x.jsx)(v.P1,{}),(0,x.jsxs)(v.sc,{children:[(0,x.jsx)(v.cC,{}),(0,x.jsxs)(v.OX,{color:"gray.900",children:[(0,x.jsx)(r.xv,{fontSize:"xl",mb:8,children:n}),(0,x.jsx)(r.iz,{}),(0,x.jsx)(r.xv,{fontSize:"md",mt:"4",children:"Manual access"}),(0,x.jsx)(r.xu,{mt:"8px",children:(0,x.jsx)(r.xv,{color:"gray.700",fontSize:"sm",fontWeight:"normal",children:"Please complete the following PII fields that have been collected for the selected subject."})})]}),(0,x.jsx)(v.Ng,{children:(0,x.jsx)(G.l0,{id:"manual-detail-form",noValidate:!0,children:(0,x.jsx)(r.gC,{align:"stretch",gap:"16px",children:Object.entries(t.fields).map((function(e,n){var t=(0,D.Z)(e,1)[0];return(0,x.jsx)(r.Ug,{children:(0,x.jsx)(G.gN,{id:t,name:t,children:function(e){var r=e.field;return(0,x.jsxs)(M.NI,{alignItems:"baseline",display:"inline-flex",children:[(0,x.jsx)(M.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:t,w:"50%",children:t}),(0,x.jsx)(U.II,B(B({},r),{},{autoComplete:"off",color:"gray.700",placeholder:"Please enter ".concat(t),ref:0===n?d:void 0,size:"sm"}))]})}})},t)}))})})}),(0,x.jsx)(v.ze,{justifyContent:"flex-start",children:(0,x.jsxs)(y.hE,{size:"sm",spacing:"8px",variant:"outline",children:[(0,x.jsx)(y.zx,{onClick:u,variant:"outline",children:"Cancel"}),(0,x.jsx)(y.zx,{bg:"primary.800",color:"white",form:"manual-detail-form",isLoading:s,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_hover:{bg:"primary.400"},children:"Save"})]})})]})]})}})]})},F=t(77751);function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y=function(e){var n=e.connectorName,t=e.data,i=e.isSubmitting,s=void 0!==i&&i,o=e.onSaveClick,a=(0,j.qY)(),c=a.isOpen,l=a.onOpen,u=a.onClose,d=(0,h.useRef)(null),f=function(){var e=(0,T.Z)(I().mark((function e(n,r){var i;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i={connection_key:t.connection_key,privacy_request_id:t.privacy_request_id,body:H({},n)},o(i),u();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(null===t||void 0===t?void 0:t.checked)&&(0,x.jsx)(y.zx,{color:"gray.700",fontSize:"xs",h:"24px",onClick:l,variant:"outline",w:"58px",children:"Review"}),!(null!==t&&void 0!==t&&t.checked)&&(0,x.jsx)(y.zx,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",onClick:l,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Begin manual input"}),(0,x.jsx)(G.J9,{enableReinitialize:!0,initialValues:H({},t.fields),onSubmit:f,validateOnBlur:!1,validateOnChange:!1,validationSchema:V.Ry().shape({}),children:function(e){return(0,x.jsxs)(v.dy,{isOpen:c,placement:"right",initialFocusRef:d,onClose:u,size:"lg",children:[(0,x.jsx)(v.P1,{}),(0,x.jsxs)(v.sc,{children:[(0,x.jsx)(v.cC,{}),(0,x.jsxs)(v.OX,{color:"gray.900",children:[(0,x.jsx)(r.xv,{fontSize:"xl",mb:8,children:n}),(0,x.jsx)(r.iz,{}),(0,x.jsx)(r.xv,{fontSize:"md",mt:"4",children:"Manual erasure"}),(0,x.jsx)(r.xu,{mt:"8px",children:(0,x.jsx)(r.xv,{color:"gray.700",fontSize:"sm",fontWeight:"normal",children:"Please delete the following PII fields associated with the selected subject if they are available. Once deleted, check the box to confirm the deletion."})})]}),(0,x.jsx)(v.Ng,{children:(0,x.jsx)(G.l0,{id:"manual-detail-form",noValidate:!0,children:(0,x.jsx)(r.gC,{align:"stretch",gap:"16px",children:Object.entries(t.fields).map((function(e){var n=(0,D.Z)(e,1)[0];return(0,x.jsx)(r.Ug,{children:(0,x.jsx)(G.gN,{id:n,name:n,children:function(e){var t=e.field;return(0,x.jsxs)(M.NI,{alignItems:"baseline",display:"inline-flex",children:[(0,x.jsx)(M.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:n,w:"50%",children:n}),(0,x.jsx)(F.XZ,H(H({},t),{},{isChecked:!!t.value,onChange:t.onChange,name:n,id:n}))]})}})},n)}))})})}),(0,x.jsx)(v.ze,{justifyContent:"flex-start",children:(0,x.jsxs)(y.hE,{size:"sm",spacing:"8px",variant:"outline",children:[(0,x.jsx)(y.zx,{onClick:u,variant:"outline",children:"Cancel"}),(0,x.jsx)(y.zx,{bg:"primary.800",color:"white",form:"manual-detail-form",isLoading:s,loadingText:"Submitting",size:"sm",variant:"solid",type:"submit",_active:{bg:"primary.500"},_hover:{bg:"primary.400"},children:"Save"})]})})]})]})}})]})};function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){(0,R.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ee=function(e){var n,t,s,o=e.subjectRequest,a=(0,q.T)(),c=(0,N.VY)(),l=c.errorAlert,u=c.successAlert,d=(0,N.HK)().handleError,f=(0,h.useState)([]),p=f[0],m=f[1],g=(0,h.useState)(!1),j=g[0],v=g[1],b=(0,h.useState)(!1),O=b[0],C=b[1],w=(0,A.W6)(),_=w.data,z=w.isFetching,P=w.isLoading,E=w.isSuccess,R=(0,Z.w3)(),W=(0,D.Z)(R,1)[0],M=(0,L.E)(o.policy.rules),U=(0,Z.nL)(),G=(0,D.Z)(U,1)[0],V=(0,Z.UR)(),$=(0,D.Z)(V,1)[0],B=(t=G,s=$,(n=M).includes(S.U.ACCESS)?{ProcessingDetailComponent:X,uploadMutation:t,getUploadedWebhookDataEndpoint:Z.$I.endpoints.getUploadedManualAccessWebhookData}:n.includes(S.U.ERASURE)?{ProcessingDetailComponent:Y,uploadMutation:s,getUploadedWebhookDataEndpoint:Z.$I.endpoints.getUploadedManualErasureWebhookData}:null),F=B.ProcessingDetailComponent,K=B.uploadMutation,H=B.getUploadedWebhookDataEndpoint,J=function(){var e=(0,T.Z)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,W(o.id).unwrap();case 4:u("Manual request has been received. Request now processing."),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),d(e.t0);case 10:return e.prev=10,v(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,T.Z)(I().mark((function e(n){var t,r;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!0),e.next=4,K(n).unwrap();case 4:t={connection_key:n.connection_key,fields:{}},Object.entries(n.body).forEach((function(e){var n=(0,D.Z)(e,2),r=n[0],i=n[1];t.fields[r]=i||""})),r=p.map((function(e){return e.connection_key===t.connection_key?Q(Q({},e),{},{checked:!0,fields:Q({},t.fields)}):e})),m(r),u("Manual input successfully saved!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),d(e.t0);case 14:return e.prev=14,C(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(n){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){return E&&_.length>0&&0===p.length&&function(){if(!(p.length>0)){var e=[],n=null===_||void 0===_?void 0:_.map((function(e){return e.connection_config.key}));null===n||void 0===n||n.every((function(n){return e.push(a(H.initiate({connection_key:n,privacy_request_id:o.id})))})),Promise.allSettled(e).then((function(e){var n=[];e.forEach((function(e,t){if("fulfilled"===e.status&&e.value.isSuccess&&e.value.data){var r={checked:e.value.data.checked,fields:{},connection_key:e.value.originalArgs.connection_key,privacy_request_id:e.value.originalArgs.privacy_request_id};Object.entries(e.value.data.fields).forEach((function(e){var n=(0,D.Z)(e,2),t=n[0],i=n[1];r.fields[t]=i||""})),n.push(r)}else l("An error occurred while loading manual input data for ".concat(_[t].connection_config.name))})),m(n)}))}}(),function(){}}),[_,p.length,a,l,E,o.id,H]),M.includes(S.U.ACCESS)||M.includes(S.U.ERASURE)?(0,x.jsxs)(r.gC,{align:"stretch",spacing:8,children:[(0,x.jsxs)(r.xu,{children:[(0,x.jsx)(r.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Manual Processing"}),(0,x.jsx)(r.iz,{})]}),(0,x.jsx)(r.xu,{children:(0,x.jsx)(r.xv,{color:"gray.700",fontSize:"sm",children:"The following table details the integrations that require manual input from you."})}),(0,x.jsxs)(r.xu,{children:[(z||P)&&(0,x.jsx)(r.M5,{children:(0,x.jsx)(i.$,{})}),E&&_?(0,x.jsx)(k.xJ,{children:(0,x.jsxs)(k.iA,{size:"sm",variant:"unstyled",children:[(0,x.jsx)(k.hr,{children:(0,x.jsxs)(k.Tr,{children:[(0,x.jsx)(k.Th,{fontSize:"sm",fontWeight:"semibold",pl:"0",textTransform:"none",children:"Integration Identifier"}),(0,x.jsx)(k.Th,{})]})}),(0,x.jsxs)(k.p3,{children:[_.length>0&&_.map((function(e){return(0,x.jsxs)(k.Tr,{display:"block",children:[(0,x.jsx)(k.Td,{pl:"0",children:e.connection_config.key}),(0,x.jsx)(k.Td,{children:p.length>0?(0,x.jsx)(F,{connectorName:e.connection_config.name,data:p.find((function(n){return n.connection_key===e.connection_config.key})),isSubmitting:O,onSaveClick:ee}):null})]},e.id)})),0===_.length&&(0,x.jsx)(k.Tr,{children:(0,x.jsx)(k.Td,{colSpan:3,pl:"0",children:(0,x.jsx)(r.M5,{children:(0,x.jsx)(r.xv,{children:"You don\u2018t have any Manual Process connections set up yet."})})})})]}),p.length>0&&p.every((function(e){return e.checked}))?(0,x.jsx)(k.$R,{children:(0,x.jsx)(k.Tr,{children:(0,x.jsx)(k.Th,{pl:"0px",children:(0,x.jsx)(y.zx,{color:"white",bg:"primary.800",fontSize:"xs",h:"24px",isLoading:j,loadingText:"Completing DSR",onClick:J,w:"127px",_hover:{bg:"primary.400"},_active:{bg:"primary.500"},children:"Complete DSR"})})})}):null]})}):null]})]}):null},ne=t(64860),te=t(19099),re=t(40377),ie=t(20970),se=t(30199),oe=function(e){var n=e.subjectRequest,t=n.id,i=n.status,s=n.policy;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Request details"}),(0,x.jsx)(r.iz,{}),(0,x.jsxs)(r.kC,{alignItems:"center",children:[(0,x.jsx)(r.xv,{mt:4,mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request ID:"}),(0,x.jsx)(r.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:1,children:t}),(0,x.jsx)(C.Z,{copyText:t})]}),(0,x.jsxs)(r.kC,{alignItems:"center",children:[(0,x.jsx)(r.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Request type:"}),(0,x.jsx)(r.xu,{mr:1,mb:4,children:(0,x.jsx)(L.Z,{rules:s.rules})})]}),(0,x.jsxs)(r.kC,{children:[(0,x.jsx)(r.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Policy key:"}),(0,x.jsx)(r.xu,{children:(0,x.jsx)(O.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:n.policy.key})})]}),(0,x.jsxs)(r.kC,{alignItems:"center",children:[(0,x.jsx)(r.xv,{mb:0,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Status:"}),(0,x.jsxs)(r.Ug,{spacing:"8px",children:[(0,x.jsx)(r.kC,{children:(0,x.jsx)(te.Z,{status:i})}),(0,x.jsxs)(y.hE,{isAttached:!0,variant:"outline",borderRadius:"md",children:["error"===i&&(0,x.jsx)(se.Z,{buttonProps:{size:"xs"},subjectRequest:n}),"pending"===i&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(re.Z,{subjectRequest:n,children:"Approve"}),(0,x.jsx)(ie.Z,{subjectRequest:n,children:"Deny"})]})]}),(0,x.jsx)(ne.Z,{daysLeft:n.days_left,includeText:!0,status:n.status})]})]})]})},ae=t(13807),ce=t(95946),le=function(e){var n=e.subjectRequest,t=n.identity,i=n.identity_verified_at,s=n.custom_privacy_request_fields,o=(0,h.useState)(!1),a=o[0],c=o[1];return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(r.kC,{direction:"row",justifyContent:"space-between",children:[(0,x.jsx)(r.X6,{color:"gray.900",fontSize:"lg",fontWeight:"semibold",mb:4,children:"Subject identities"}),(0,x.jsxs)(r.kC,{flexShrink:0,alignItems:"flex-start",children:[(0,x.jsx)(ce.Z,{revealPII:a,onChange:c}),(0,x.jsx)(r.xv,{fontSize:"xs",ml:2,size:"sm",color:"gray.600",fontWeight:"500",children:"Reveal PII"})]})]}),(0,x.jsx)(r.iz,{}),t.email&&(0,x.jsxs)(r.kC,{alignItems:"center",children:[(0,x.jsx)(r.xv,{mt:4,mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Email:"}),(0,x.jsx)(r.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:(0,x.jsx)(ae.Z,{data:t.email?t.email:"",revealPII:a})}),(0,x.jsx)(O.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:i?"Verified":"Unverified"})]}),t.phone_number&&(0,x.jsxs)(r.kC,{alignItems:"flex-start",children:[(0,x.jsx)(r.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:"Mobile:"}),(0,x.jsx)(r.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",children:(0,x.jsx)(ae.Z,{data:t.phone_number?t.phone_number:"",revealPII:a})}),(0,x.jsx)(O.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:i?"Verified":"Unverified"})]}),s&&Object.keys(s).length>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.X6,{color:"gray.900",fontSize:"sm",fontWeight:"semibold",mb:4,children:"Custom privacy request fields"}),Object.entries(s).filter((function(e){return(0,D.Z)(e,2)[1].value})).map((function(e){var n=(0,D.Z)(e,2),t=n[0],i=n[1];return(0,x.jsxs)(r.kC,{alignItems:"flex-start",children:[(0,x.jsxs)(r.xv,{mb:4,mr:2,fontSize:"sm",color:"gray.900",fontWeight:"500",children:[i.label,":"]}),(0,x.jsx)(r.xv,{color:"gray.600",fontWeight:"500",fontSize:"sm",mr:2,children:(0,x.jsx)(ae.Z,{data:i.value,revealPII:a})}),(0,x.jsx)(O.Vp,{color:"white",bg:"primary.400",fontWeight:"medium",fontSize:"sm",children:"Unverified"})]},t)}))]})]})},ue=function(e){var n=e.data;return(0,x.jsxs)(r.gC,{align:"stretch",display:"flex-start",spacing:6,children:[(0,x.jsx)(r.xu,{"data-testid":"privacy-request-details",children:(0,x.jsx)(oe,{subjectRequest:n})}),(0,x.jsx)(r.xu,{children:(0,x.jsx)(le,{subjectRequest:n})}),"requires_input"===n.status&&(0,x.jsx)(r.xu,{children:(0,x.jsx)(ee,{subjectRequest:n})}),(0,x.jsx)(r.xu,{children:(0,x.jsx)(E,{subjectRequest:n})})]})},de=function(){var e,n=(0,c.useRouter)().query.id,t=void 0===n?"":n,o=(0,d.QA)({id:Array.isArray(t)?t[0]:t,verbose:!0},{skip:""===t}),h=o.data,f=o.isLoading;return e=o.isUninitialized||f?(0,x.jsx)(r.M5,{children:(0,x.jsx)(i.$,{})}):h&&0!==(null===h||void 0===h?void 0:h.items.length)?(0,x.jsx)(ue,{data:null===h||void 0===h?void 0:h.items[0]}):(0,x.jsx)(r.xv,{children:"404 no privacy request found"}),(0,x.jsxs)(l.Z,{title:"Privacy Requests - ".concat(t),children:[(0,x.jsxs)(r.X6,{fontSize:"2xl",fontWeight:"semibold",children:["Privacy Request",(0,x.jsx)(r.xu,{mt:2,mb:9,children:(0,x.jsxs)(s.aG,{fontWeight:"medium",fontSize:"sm",children:[(0,x.jsx)(s.gN,{children:(0,x.jsx)(s.At,{as:a(),href:u.Jw,children:"Privacy Requests"})}),(0,x.jsx)(s.gN,{children:(0,x.jsx)(s.At,{isCurrentPage:!0,color:"complimentary.500",_hover:{textDecoration:"none"},children:"View Details"})})]})})]}),e]})}},60041:function(e,n,t){"use strict";t.d(n,{Bw:function(){return o},D4:function(){return i},Dy:function(){return c},XD:function(){return l},cz:function(){return u},hE:function(){return a},oK:function(){return s}});var r=t(76649),i=function(e){return"error"in e},s=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},o=function(e){return(0,r.Ln)({status:"number",data:{}},e)},a=function(e){return(0,r.Ln)({detail:"string"},e)},c=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},6554:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy-requests/[id]",function(){return t(29083)}])}},function(e){e.O(0,[2141,845,8301,3139,5232,7451,9774,2888,179],(function(){return n=6554,e(e.s=n);var n}));var n=e.O();_N_E=n}]);