(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2357],{24487:function(e,r,t){"use strict";t.d(r,{At:function(){return f},aG:function(){return v},gN:function(){return y}});var n=t(32393),i=t(14007),a=t(49031),c=t(27378);function s(){return s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},s.apply(this,arguments)}function l(e,r){if(null==e)return{};var t,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}var o=["spacing"],u=["isCurrentPage","as","className","href"],d=["isCurrentPage","separator","isLastChild","spacing","children","className"],p=["children","spacing","separator","className"],b=(0,n.Gp)((function(e,r){var t=e.spacing,i=l(e,o),a=s({mx:t},(0,n.yK)().separator);return c.createElement(n.m$.span,s({ref:r,role:"presentation"},i,{__css:a}))}));i.Ts&&(b.displayName="BreadcrumbSeparator");var f=(0,n.Gp)((function(e,r){var t=e.isCurrentPage,a=e.as,o=e.className,d=e.href,p=l(e,u),b=(0,n.yK)(),f=s({ref:r,as:a,className:(0,i.cx)("chakra-breadcrumb__link",o)},p);return t?c.createElement(n.m$.span,s({"aria-current":"page",__css:b.link},f)):c.createElement(n.m$.a,s({__css:b.link,href:d},f))}));i.Ts&&(f.displayName="BreadcrumbLink");var y=(0,n.Gp)((function(e,r){var t=e.isCurrentPage,o=e.separator,u=e.isLastChild,p=e.spacing,y=e.children,v=e.className,j=l(e,d),h=(0,a.WR)(y).map((function(e){return e.type===f?c.cloneElement(e,{isCurrentPage:t}):e.type===b?c.cloneElement(e,{spacing:p,children:e.props.children||o}):e})),m=s({display:"inline-flex",alignItems:"center"},(0,n.yK)().item),x=(0,i.cx)("chakra-breadcrumb__list-item",v);return c.createElement(n.m$.li,s({ref:r,className:x},j,{__css:m}),h,!u&&c.createElement(b,{spacing:p},o))}));i.Ts&&(y.displayName="BreadcrumbItem");var v=(0,n.Gp)((function(e,r){var t=(0,n.jC)("Breadcrumb",e),o=(0,n.Lr)(e),u=o.children,d=o.spacing,b=void 0===d?"0.5rem":d,f=o.separator,y=void 0===f?"/":f,v=o.className,j=l(o,p),h=(0,a.WR)(u),m=h.length,x=h.map((function(e,r){return c.cloneElement(e,{separator:y,spacing:b,isLastChild:m===r+1})})),g=(0,i.cx)("chakra-breadcrumb",v);return c.createElement(n.m$.nav,s({ref:r,"aria-label":"breadcrumb",className:g,__css:t.container},j),c.createElement(n.Fo,{value:t},c.createElement(n.m$.ol,{className:"chakra-breadcrumb__list"},x)))}));i.Ts&&(v.displayName="Breadcrumb")},51471:function(e,r,t){"use strict";t.d(r,{Z:function(){return v}});var n=t(34896),i=t(88038),a=t.n(i),c=t(86677),s=(t(27378),t(90768)),l=t(35100),o=t(64989),u=t(48114),d=t(51365),p=t(29549),b=t(60709),f=t(24246),y=function(){var e=(0,c.useRouter)();return(0,f.jsx)(n.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(n.xu,{children:[(0,f.jsxs)(n.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(n.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(p.zx,{size:"sm",variant:"outline",onClick:function(){e.push(b.fz)},children:"Configure"})]}),(0,f.jsxs)(n.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},v=function(e){var r=e.children,t=e.title,i=(0,s.hz)(),p=(0,c.useRouter)(),b="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,v=!(i.flags.privacyRequestsConfiguration&&b),j=(0,d.JE)(void 0,{skip:v}).data,h=(0,d.PW)(void 0,{skip:v}).data,m=i.flags.privacyRequestsConfiguration&&(!j||!h)&&b;return(0,f.jsxs)(n.kC,{"data-testid":t,direction:"column",children:[(0,f.jsxs)(a(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsx)(l.Z,{}),(0,f.jsx)(u.Z,{}),(0,f.jsxs)(n.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,f.jsx)(n.xu,{flex:0,flexShrink:0,children:(0,f.jsx)(o.U,{})}),(0,f.jsxs)(n.kC,{direction:"column",flex:1,minWidth:0,children:[m?(0,f.jsx)(y,{}):null,r]})]})]})}},86054:function(e,r,t){"use strict";var n=t(90849),i=t(90089),a=t(34896),c=t(24246),s=["title","children"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.title,t=e.children,n=(0,i.Z)(e,s);return(0,c.jsxs)(a.xu,o(o({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},n),{},{children:[(0,c.jsx)(a.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:r}),(0,c.jsx)(a.Kq,{p:6,spacing:6,children:t})]}))}},38229:function(e,r,t){"use strict";t.d(r,{F:function(){return i},J:function(){return n}});var n=new Map([["overlay","Overlay"],["privacy_center","Privacy center"],["tcf_overlay","TCF overlay"]]),i=new Map([["always_enabled","Always enabled"],["always_disabled","Always disabled"],["enabled_where_required","Enabled where legally required"]])},88558:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return U}});var n=t(9198),i=t(34896),a=t(83125),c=t(24487),s=t(79894),l=t.n(s),o=t(86677),u=t(51471),d=t(60709),p=t(38229),b=t(90849),f=t(90089),y=t(55732),v=t(97865),j=t(34707),h=t.n(j),m=t(70409),x=t(29549),g=t(34090),_=t(27378),O=t(78624),w=t(24753),k=t(49841),P=t(68301),q=t(37968),C=["created_at","updated_at","version","experience_config_history_id"];function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach((function(r){(0,b.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z={title:"",description:"",accept_button_label:"",reject_button_label:"",save_button_label:"",regions:[],component:q.re.OVERLAY},S=P.Ry().shape({accept_button_label:P.Z_().label("Accept button label").required(),reject_button_label:P.Z_().required().label("Reject button label"),save_button_label:P.Z_().required().label("Save button label")}),N=P.Ry().shape({title:P.Z_().required().label("Title"),description:P.Z_().required().label("Description")}).concat(S),D=P.Ry().shape({title:P.Z_().required().label("Banner title"),description:P.Z_().required().label("Banner description"),acknowledge_button_label:P.Z_().required().label("Acknowledge button label"),privacy_preferences_link_label:P.Z_().required().label("Privacy preferences link label")}).concat(S),A=t(86054),z=t(43139),B=t(73452),L=t(24246),K=function(e){var r=e.text;return(0,L.jsxs)(i.Ug,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,px:6,"data-testid":"empty-state",children:[(0,L.jsx)(B.ii,{alignSelf:"start",color:"blue.400",mt:.5}),(0,L.jsx)(i.xu,{children:(0,L.jsx)(i.xv,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:r})})]})},T=function(){return(0,L.jsxs)(A.Z,{title:"Privacy policy","data-testid":"privacy-policy",children:[(0,L.jsx)(z.j0,{name:"privacy_policy_link_label",label:"Privacy policy link label",variant:"stacked"}),(0,L.jsx)(z.j0,{name:"privacy_policy_url",label:"Privacy policy URL",variant:"stacked"})]})};function $(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function M(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?$(Object(t),!0).forEach((function(r){(0,b.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var W=(0,O.MM)(q.vp).map((function(e){var r;return M(M({},e),{},{label:null!==(r=p.F.get(e.value))&&void 0!==r?r:e.label})})),G=function(){return(0,L.jsxs)(i.Kq,{spacing:6,children:[(0,L.jsx)(K,{text:"Configure your notice only banner, your consent banner and your privacy preferences below. It is good practice to complete all fields regardless of whether you are showing a notice only banner or an opt-in/opt-out banner."}),(0,L.jsxs)(A.Z,{title:"Cookie banner and privacy preferences labeling","data-testid":"banner-and-preferences-labeling",children:[(0,L.jsx)(z.j0,{name:"title",label:"Banner title",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.Ks,{label:"Banner description",name:"description",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Accept button displayed on the Banner and \u201cPrivacy preferences\u201d",name:"accept_button_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Reject button displayed on the Banner and \u201cPrivacy preferences\u201d",name:"reject_button_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"\u201cPrivacy preferences\u201d link label",name:"privacy_preferences_link_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Privacy preferences \u201cSave\u201d button label",name:"save_button_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Acknowledge button label for notice only banner",name:"acknowledge_button_label",variant:"stacked",isRequired:!0})]}),(0,L.jsx)(T,{}),(0,L.jsx)(A.Z,{title:"Display configuration","data-testid":"display-configuration",children:(0,L.jsx)(z.AP,{name:"banner_enabled",label:"Banner",options:W,variant:"stacked",isRequired:!0})})]})},V=function(){return(0,L.jsxs)(i.Kq,{spacing:6,children:[(0,L.jsxs)(A.Z,{title:"Consent page text","data-testid":"consent-page-text",children:[(0,L.jsx)(z.j0,{name:"title",label:"Title",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.Ks,{label:"Description",name:"description",variant:"stacked",isRequired:!0})]}),(0,L.jsxs)(A.Z,{title:"Actions","data-testid":"actions",children:[(0,L.jsx)(z.j0,{label:"Save button label",name:"save_button_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Reject button label",name:"reject_button_label",variant:"stacked",isRequired:!0}),(0,L.jsx)(z.j0,{label:"Accept button label",name:"accept_button_label",variant:"stacked",isRequired:!0})]}),(0,L.jsx)(T,{})]})},F=["component"];function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){(0,b.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var I=function(e){var r=e.privacyExperience,t=(0,o.useRouter)(),n=(0,m.pm)(),a=r?function(e){var r,t,n,i,a,c,s;return e.created_at,e.updated_at,e.version,e.experience_config_history_id,E(E({},(0,f.Z)(e,C)),{},{title:null!==(r=e.title)&&void 0!==r?r:"",description:null!==(t=e.description)&&void 0!==t?t:"",accept_button_label:null!==(n=e.accept_button_label)&&void 0!==n?n:"",reject_button_label:null!==(i=e.reject_button_label)&&void 0!==i?i:"",save_button_label:null!==(a=e.save_button_label)&&void 0!==a?a:"",regions:null!==(c=e.regions)&&void 0!==c?c:Z.regions,component:null!==(s=e.component)&&void 0!==s?s:Z.component})}(r):Z,c=(0,k.$d)(),s=(0,v.Z)(c,1)[0],l=(0,k.mJ)(),u=(0,v.Z)(l,1)[0],p=(0,_.useMemo)((function(){return!!r}),[r]),b=function(){var e=(0,y.Z)(h().mark((function e(i){var a,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p||!r){e.next=7;break}return i.component,c=(0,f.Z)(i,F),e.next=4,s(Y(Y({},c),{},{id:r.id}));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,u(i);case 9:a=e.sent;case 10:(0,O.D4)(a)?n((0,w.Vo)((0,O.e$)(a.error))):(n((0,w.t5)("Privacy experience ".concat(p?"updated":"created"))),p||t.push(d.w0));case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),j=function(e){var r=e.privacyExperience,t=(0,_.useMemo)((function(){return r.component===q.re.OVERLAY}),[r.component]),n=(0,_.useMemo)((function(){return t?D:N}),[t]);return{isOverlay:t,validationSchema:n}}({privacyExperience:a}),P=j.validationSchema,R=j.isOverlay;return(0,L.jsx)(g.J9,{initialValues:a,enableReinitialize:!0,onSubmit:b,validationSchema:P,children:function(e){var r=e.dirty,n=e.isValid,a=e.isSubmitting;return(0,L.jsx)(g.l0,{children:(0,L.jsxs)(i.Kq,{spacing:10,children:[R?(0,L.jsx)(G,{}):(0,L.jsx)(V,{}),(0,L.jsxs)(x.hE,{size:"sm",spacing:2,children:[(0,L.jsx)(x.zx,{variant:"outline",onClick:function(){t.back()},children:"Cancel"}),(0,L.jsx)(x.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:a||!r||!n,isLoading:a,"data-testid":"save-btn",children:"Save"})]})]})})}})},U=function(){var e,r=(0,o.useRouter)(),t="";r.query.id&&(t=Array.isArray(r.query.id)?r.query.id[0]:r.query.id);var s=(0,k.Qv)(t),b=s.data;if(s.isLoading)return(0,L.jsx)(u.Z,{title:"Privacy experience",children:(0,L.jsx)(i.M5,{children:(0,L.jsx)(a.$,{})})});if(!b)return(0,L.jsx)(u.Z,{title:"Privacy experience",children:(0,L.jsxs)(i.xv,{children:["No privacy experience with id ",t," found."]})});var f=b.component===q.re.OVERLAY?"Configure your consent overlay":"Configure your privacy center",y=b.component===q.re.OVERLAY?"Configure the text of your privacy overlay, privacy banner, and the text of the buttons which users will click to accept, reject, manage, and save their preferences.":"Configure this privacy center experience. You can update the text which will display above the privacy notices and choose whether you\u2019d like users to access the privacy center with a link.";return(0,L.jsxs)(u.Z,{title:"Privacy experience ".concat(b.component),children:[(0,L.jsxs)(i.xu,{mb:4,children:[(0,L.jsx)(i.X6,{fontSize:"2xl",fontWeight:"semibold",mb:2,"data-testid":"header",children:f}),(0,L.jsx)(i.xu,{children:(0,L.jsxs)(c.aG,{fontWeight:"medium",fontSize:"sm",color:"gray.600","data-testid":"breadcrumbs",children:[(0,L.jsx)(c.gN,{children:(0,L.jsx)(l(),{href:n.Jw,children:"Privacy requests"})}),(0,L.jsx)(c.gN,{children:(0,L.jsx)(l(),{href:d.w0,children:"Privacy experience"})}),(0,L.jsx)(c.gN,{color:"complimentary.500",children:(0,L.jsx)(l(),{href:"#",children:null!==(e=p.J.get(b.component||""))&&void 0!==e?e:b.component})})]})})]}),(0,L.jsxs)(i.xu,{width:{base:"100%",lg:"70%"},children:[(0,L.jsx)(i.xv,{fontSize:"sm",mb:8,children:y}),(0,L.jsx)(i.xu,{"data-testid":"privacy-experience-detail-page",children:(0,L.jsx)(I,{privacyExperience:b})})]})]})}},5123:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/consent/privacy-experience/[id]",function(){return t(88558)}])}},function(e){e.O(0,[2141,845,8301,331,3139,9774,2888,179],(function(){return r=5123,e(e.s=r);var r}));var r=e.O();_N_E=r}]);