(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{40240:function(e,r,n){"use strict";n.d(r,{$R:function(){return b},Td:function(){return y},Th:function(){return g},Tr:function(){return v},hr:function(){return j},iA:function(){return f},p3:function(){return x},xJ:function(){return h}});var t=n(32393),i=n(14007),s=n(27378);function a(){return a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},a.apply(this,arguments)}function o(e,r){if(null==e)return{};var n,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}var c=["overflow","overflowX","className"],l=["className"],u=["placement"],d=["isNumeric"],p=["isNumeric"],h=(0,t.Gp)((function(e,r){var n,l=e.overflow,u=e.overflowX,d=e.className,p=o(e,c);return s.createElement(t.m$.div,a({ref:r,className:(0,i.cx)("chakra-table__container",d)},p,{__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:null!=(n=null!=l?l:u)?n:"auto",overflowY:"hidden",maxWidth:"100%"}}))})),f=(0,t.Gp)((function(e,r){var n=(0,t.jC)("Table",e),c=(0,t.Lr)(e),u=c.className,d=o(c,l);return s.createElement(t.Fo,{value:n},s.createElement(t.m$.table,a({role:"table",ref:r,__css:n.table,className:(0,i.cx)("chakra-table",u)},d)))}));i.Ts&&(f.displayName="Table");var m=(0,t.Gp)((function(e,r){var n=e.placement,i=void 0===n?"bottom":n,c=o(e,u),l=(0,t.yK)();return s.createElement(t.m$.caption,a({},c,{ref:r,__css:a({},l.caption,{captionSide:i})}))}));i.Ts&&(m.displayName="TableCaption");var j=(0,t.Gp)((function(e,r){var n=(0,t.yK)();return s.createElement(t.m$.thead,a({},e,{ref:r,__css:n.thead}))})),x=(0,t.Gp)((function(e,r){var n=(0,t.yK)();return s.createElement(t.m$.tbody,a({},e,{ref:r,__css:n.tbody}))})),b=(0,t.Gp)((function(e,r){var n=(0,t.yK)();return s.createElement(t.m$.tfoot,a({},e,{ref:r,__css:n.tfoot}))})),g=(0,t.Gp)((function(e,r){var n=e.isNumeric,i=o(e,d),c=(0,t.yK)();return s.createElement(t.m$.th,a({},i,{ref:r,__css:c.th,"data-is-numeric":n}))})),v=(0,t.Gp)((function(e,r){var n=(0,t.yK)();return s.createElement(t.m$.tr,a({role:"row"},e,{ref:r,__css:n.tr}))})),y=(0,t.Gp)((function(e,r){var n=e.isNumeric,i=o(e,p),c=(0,t.yK)();return s.createElement(t.m$.td,a({role:"gridcell"},i,{ref:r,__css:c.td,"data-is-numeric":n}))}))},96156:function(e,r,n){"use strict";n.d(r,{l:function(){return s}});var t=n(13018),i=n(24246),s=(0,t.IU)({displayName:"TrashCanSolidIcon",viewBox:"0 0 12 15",path:(0,i.jsx)("path",{d:"M8.37857 1.18083C8.23393 0.892838 7.93661 0.710938 7.6125 0.710938H4.3875C4.06339 0.710938 3.76607 0.892838 3.62143 1.18083L3.42857 1.56094H0.857143C0.383036 1.56094 -1.19209e-07 1.94158 -1.19209e-07 2.41094C-1.19209e-07 2.8803 0.383036 3.26094 0.857143 3.26094H11.1429C11.6162 3.26094 12 2.8803 12 2.41094C12 1.94158 11.6162 1.56094 11.1429 1.56094H8.57143L8.37857 1.18083ZM11.167 4.11094H0.857143V12.6109C0.857143 13.5486 1.62589 14.3109 2.57143 14.3109H9.45268C10.3754 14.3109 11.167 13.5486 11.167 12.6109V4.11094ZM9.02411 6.23594V12.1859C9.02411 12.4197 8.80714 12.6109 8.59554 12.6109C8.33571 12.6109 8.16696 12.4197 8.16696 12.1859V6.23594C8.16696 6.00219 8.33571 5.81094 8.59554 5.81094C8.80714 5.81094 9.02411 6.00219 9.02411 6.23594ZM6.45268 6.23594V12.1859C6.45268 12.4197 6.23571 12.6109 6.02411 12.6109C5.76429 12.6109 5.57143 12.4197 5.57143 12.1859V6.23594C5.57143 6.00219 5.76429 5.81094 6.02411 5.81094C6.23571 5.81094 6.45268 6.00219 6.45268 6.23594ZM3.85714 6.23594V12.1859C3.85714 12.4197 3.66429 12.6109 3.42857 12.6109C3.19286 12.6109 3 12.4197 3 12.1859V6.23594C3 6.00219 3.19286 5.81094 3.42857 5.81094C3.66429 5.81094 3.85714 6.00219 3.85714 6.23594Z",fill:"currentColor"})})},51471:function(e,r,n){"use strict";n.d(r,{Z:function(){return j}});var t=n(34896),i=n(88038),s=n.n(i),a=n(86677),o=(n(27378),n(90768)),c=n(35100),l=n(64989),u=n(48114),d=n(51365),p=n(29549),h=n(60709),f=n(24246),m=function(){var e=(0,a.useRouter)();return(0,f.jsx)(t.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,f.jsxs)(t.xu,{children:[(0,f.jsxs)(t.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,f.jsx)(t.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,f.jsx)(p.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,f.jsxs)(t.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},j=function(e){var r=e.children,n=e.title,i=(0,o.hz)(),p=(0,a.useRouter)(),h="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,j=!(i.flags.privacyRequestsConfiguration&&h),x=(0,d.JE)(void 0,{skip:j}).data,b=(0,d.PW)(void 0,{skip:j}).data,g=i.flags.privacyRequestsConfiguration&&(!x||!b)&&h;return(0,f.jsxs)(t.kC,{"data-testid":n,direction:"column",children:[(0,f.jsxs)(s(),{children:[(0,f.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,f.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,f.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,f.jsx)(c.Z,{}),(0,f.jsx)(u.Z,{}),(0,f.jsxs)(t.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,f.jsx)(t.xu,{flex:0,flexShrink:0,children:(0,f.jsx)(l.U,{})}),(0,f.jsxs)(t.kC,{direction:"column",flex:1,minWidth:0,children:[g?(0,f.jsx)(m,{}):null,r]})]})]})}},63238:function(e,r,n){"use strict";n.d(r,{Tg:function(){return a}});var t=n(6848),i=n(67788),s=n(24246),a=function(e){return(0,t.C)(i.uu).filter((function(r){return e.includes(r)})).length>0};r.ZP=function(e){var r=e.scopes,n=e.children;return a(r)?(0,s.jsx)(s.Fragment,{children:n}):null}},44845:function(e,r,n){"use strict";var t=n(90849),i=n(90089),s=n(32751),a=n(5008),o=n(29549),c=n(24246),l=["search","onChange","withIcon","onClear","placeholder"];function u(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function d(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?u(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}r.Z=function(e){var r=e.search,n=e.onChange,t=e.withIcon,u=e.onClear,p=e.placeholder,h=(0,i.Z)(e,l);return(0,c.jsxs)(s.BZ,{size:"sm",minWidth:"308px",children:[t?(0,c.jsx)(s.Z8,{pointerEvents:"none",children:(0,c.jsx)(a.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,c.jsx)(s.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:r,name:"search",onChange:function(e){return n(e.target.value)},placeholder:p||""},h)),u?(0,c.jsx)(s.xH,{children:(0,c.jsx)(o.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:u,children:"Clear"})}):null]})}},78098:function(e,r,n){"use strict";var t=n(90089),i=n(55732),s=n(97865),a=n(34707),o=n.n(a),c=n(70409),l=n(60530),u=n(34896),d=n(29549),p=n(34090),h=n(86677),f=(n(27378),n(68301)),m=n(6848),j=n(43139),x=n(78624),b=n(60709),g=n(24753),v=n(30002),y=n(24246),O=["user"],w={username:"",usernameConfirmation:""};r.Z=function(e){var r=e.user,n=(0,t.Z)(e,O),a=n.isOpen,C=n.onClose,P=function(e){var r=e.id,n=e.username,t=e.onClose,a=(0,c.pm)(),l=(0,h.useRouter)(),u=(0,m.T)(),d=(0,v.I1)(),p=(0,s.Z)(d,1)[0],j=function(){var e=(0,i.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(r);case 2:n=e.sent,(0,x.D4)(n)?a((0,g.Vo)((0,x.e$)(n.error))):(a((0,g.t5)("Successfully deleted user")),t()),u((0,v.Vv)(void 0)),l.push(b.e3);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleDeleteUser:j,validationSchema:f.Ry().shape({username:f.Z_().required().oneOf([n],"Username must match this user's").label("Username"),usernameConfirmation:f.Z_().required().oneOf([f.iH("username")],"Usernames must match").label("Username confirmation")})}}({id:r.id,username:r.username,onClose:C}),_=P.handleDeleteUser,E=P.validationSchema;return(0,y.jsxs)(l.u_,{isCentered:!0,isOpen:a,onClose:C,children:[(0,y.jsx)(l.ZA,{}),(0,y.jsx)(l.hz,{"data-testid":"delete-user-modal",children:(0,y.jsx)(p.J9,{initialValues:w,validationSchema:E,onSubmit:_,children:function(e){var r=e.isSubmitting,n=e.dirty,t=e.isValid;return(0,y.jsxs)(p.l0,{children:[(0,y.jsx)(l.xB,{children:"Delete User"}),(0,y.jsx)(l.ol,{}),(0,y.jsx)(l.fe,{children:(0,y.jsxs)(u.Kq,{direction:"column",spacing:4,children:[(0,y.jsx)(j.j0,{name:"username",label:"Enter username"}),(0,y.jsx)(j.j0,{name:"usernameConfirmation",label:"Confirm username"})]})}),(0,y.jsx)(l.mz,{children:(0,y.jsxs)(d.hE,{size:"sm",spacing:"2",width:"100%",children:[(0,y.jsx)(d.zx,{onClick:C,variant:"outline",width:"50%",children:"Cancel"}),(0,y.jsx)(d.zx,{colorScheme:"primary",disabled:!n||!t,isLoading:r,type:"submit",width:"50%","data-testid":"submit-btn",children:"Delete User"})]})})]})}})})]})}},75834:function(e,r,n){"use strict";n.d(r,{K:function(){return i}});var t=n(37968),i=[{label:"Owner",permissions_label:"Owner",roleKey:t.A7.OWNER,description:"Owners have view and edit access to the whole organization and can create new users"},{label:"Contributor",permissions_label:"Contributor",roleKey:t.A7.CONTRIBUTOR,description:"Contributors can create new users and have view and edit access to the whole organization apart from configuring storage and messaging"},{label:"Viewer",permissions_label:"Viewer",roleKey:t.A7.VIEWER,description:"Viewers have view access to the Data Map and all systems"},{label:"Viewer & Approver",permissions_label:"Viewer & Approver",roleKey:t.A7.VIEWER_AND_APPROVER,description:"Viewer & Approvers have view access to the Data Map but can also manage Privacy Requests"},{label:"Approver",permissions_label:"Approver",roleKey:t.A7.APPROVER,description:"Approvers can only access the Privacy Requests portal to manage requests"}]},99089:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return D}});var t=n(34896),i=n(27378),s=n(90849),a=n(40240),o=n(29549),c=n(60245),l=n(6848),u=n(30002),d=n(21084),p=n(96156),h=n(86677),f=n(45802),m=n(60709),j=n(63238),x=n(75834),b=n(37968),g=n(78098),v=n(24246);function y(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function O(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?y(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var w=function(e){var r,n,i=e.user,s=(0,h.useRouter)(),c=(0,d.qY)(),y=(0,l.C)(f.dy),w=!!y&&y.id===i.id,C=(0,j.Tg)([b.Sh.USER_UPDATE])||w,P=function(){C&&s.push("".concat(m.e3,"/profile/").concat(i.id))},_=(0,u.gU)(null!==(r=i.id)&&void 0!==r?r:"",{skip:!i.id}).data,E=(0,u.d6)(null!==(n=i.id)&&void 0!==n?n:"",{skip:!i.id}).data,T=[];return _&&_.roles&&_.roles.forEach((function(e){var r=x.K.find((function(r){return r.roleKey===e}));r&&T.push(r.permissions_label)})),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.Tr,{_hover:{bg:"gray.50",cursor:C?"pointer":void 0},height:"36px","data-testid":"row-".concat(i.id),children:[(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:i.username}),(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:i.first_name}),(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:i.last_name}),(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:T.map((function(e){return(0,v.jsx)(t.Ct,{bg:"gray.500",color:"white",paddingLeft:"2",textTransform:"none",paddingRight:"8px",height:"18px",lineHeight:"18px",borderRadius:"6px",fontWeight:"500",textAlign:"center","data-testid":"user-permissions-badge",children:e},e)}))}),(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:(0,v.jsx)(t.Ct,{bg:"gray.500",color:"white",paddingLeft:"2",textTransform:"none",paddingRight:"8px",height:"18px",lineHeight:"18px",borderRadius:"6px",fontWeight:"500",textAlign:"center","data-testid":"user-systems-badge",children:E?E.length:0})}),(0,v.jsx)(a.Td,{pl:0,py:1,onClick:P,children:i.created_at?new Date(i.created_at).toUTCString():null}),(0,v.jsx)(j.ZP,{scopes:[b.Sh.USER_DELETE],children:(0,v.jsx)(a.Td,{pr:0,py:1,textAlign:"end",position:"relative",children:(0,v.jsx)(o.hE,{children:(0,v.jsx)(o.hU,{"aria-label":"delete",icon:(0,v.jsx)(p.l,{}),variant:"outline",size:"sm",onClick:c.onOpen,"data-testid":"delete-user-btn"})})})})]},i.id),(0,v.jsx)(g.Z,O({user:i},c))]})};function C(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function P(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?C(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var _=function(){var e=function(){var e=(0,c.I0)(),r=(0,c.v9)(u.lq),n=(0,u.wv)(r),t=n.data,i=n.isLoading,s=t||{users:[],total:0},a=s.items,o=s.total;return P(P({},r),{},{isLoading:i,users:a,total:o,handleNextPage:function(){e((0,u.YA)(r.page+1))},handlePreviousPage:function(){e((0,u.YA)(r.page-1))}})}(),r=e.users,n=e.total,s=e.page,d=e.size,p=e.handleNextPage,h=e.handlePreviousPage,f=(s-1)*d+1,m=Math.min(n,s*d),j=(0,l.T)();return(0,i.useEffect)((function(){j((0,u.Vv)(void 0))}),[j]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(a.iA,{size:"sm","data-testid":"user-management-table",children:[(0,v.jsx)(a.hr,{children:(0,v.jsxs)(a.Tr,{children:[(0,v.jsx)(a.Th,{pl:0,children:"Username"}),(0,v.jsx)(a.Th,{pl:0,children:"First Name"}),(0,v.jsx)(a.Th,{pl:0,children:"Last Name"}),(0,v.jsx)(a.Th,{pl:0,children:"Permissions"}),(0,v.jsx)(a.Th,{pl:0,children:"Assigned Systems"}),(0,v.jsx)(a.Th,{pl:0,children:"Created At"})]})}),(0,v.jsx)(a.p3,{children:null===r||void 0===r?void 0:r.map((function(e){return(0,v.jsx)(w,{user:e},e.id)}))})]}),(0,v.jsxs)(t.kC,{justifyContent:"space-between",mt:6,children:[(0,v.jsx)(t.xv,{fontSize:"xs",color:"gray.600",children:n>0?(0,v.jsxs)(v.Fragment,{children:["Showing ",Number.isNaN(f)?0:f," to"," ",Number.isNaN(m)?0:m," of"," ",Number.isNaN(n)?0:n," results"]}):"0 results"}),(0,v.jsxs)("div",{children:[(0,v.jsx)(o.zx,{disabled:s<=1,onClick:h,mr:2,size:"sm",children:"Previous"}),(0,v.jsx)(o.zx,{disabled:s*d>=n,onClick:p,size:"sm",children:"Next"})]})]})]})};_.defaultProps={users:[]};var E=_,T=n(79894),k=n.n(T),S=n(44845);function N(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}var R=function(){var e=(0,c.v9)(u.lq),r=(0,c.I0)();return function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?N(Object(n),!0).forEach((function(r){(0,s.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}({handleSearchChange:function(e){r((0,u.SY)(e))}},e)},Z=function(){var e=R(),r=e.handleSearchChange,n=e.username;return(0,v.jsxs)(t.Kq,{direction:"row",spacing:4,mb:6,children:[(0,v.jsx)(S.Z,{search:n,onChange:r,placeholder:"Search by Username"}),(0,v.jsx)(j.ZP,{scopes:[b.Sh.USER_CREATE],children:(0,v.jsx)(k(),{href:"".concat(m.e3,"/new"),passHref:!0,children:(0,v.jsx)(o.zx,{colorScheme:"primary",flexShrink:0,size:"sm","data-testid":"add-new-user-btn",children:"Add New User"})})})]})},A=n(51471),D=function(){return(0,v.jsxs)(A.Z,{title:"User Management",children:[(0,v.jsx)(t.X6,{fontSize:"2xl",fontWeight:"semibold",mb:4,children:"User Management"}),(0,v.jsx)(Z,{}),(0,v.jsx)(E,{})]})}},7873:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-management",function(){return n(99089)}])}},function(e){e.O(0,[2141,845,8301,331,3139,9774,2888,179],(function(){return r=7873,e(e.s=r);var r}));var r=e.O();_N_E=r}]);